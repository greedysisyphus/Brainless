var oV=Object.defineProperty;var AV=(t,e,r)=>e in t?oV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var By=(t,e,r)=>AV(t,typeof e!="symbol"?e+"":e,r);function lV(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Xi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OP={exports:{}},h0={},jP={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),cV=Symbol.for("react.portal"),uV=Symbol.for("react.fragment"),dV=Symbol.for("react.strict_mode"),fV=Symbol.for("react.profiler"),hV=Symbol.for("react.provider"),gV=Symbol.for("react.context"),mV=Symbol.for("react.forward_ref"),pV=Symbol.for("react.suspense"),vV=Symbol.for("react.memo"),yV=Symbol.for("react.lazy"),OI=Symbol.iterator;function wV(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var DP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RP=Object.assign,MP={};function Nc(t,e,r){this.props=t,this.context=e,this.refs=MP,this.updater=r||DP}Nc.prototype.isReactComponent={};Nc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LP(){}LP.prototype=Nc.prototype;function WB(t,e,r){this.props=t,this.context=e,this.refs=MP,this.updater=r||DP}var zB=WB.prototype=new LP;zB.constructor=WB;RP(zB,Nc.prototype);zB.isPureReactComponent=!0;var jI=Array.isArray,HP=Object.prototype.hasOwnProperty,YB={current:null},VP={key:!0,ref:!0,__self:!0,__source:!0};function KP(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)HP.call(e,n)&&!VP.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var A=Array(o),l=0;l<o;l++)A[l]=arguments[l+2];i.children=A}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Tf,type:t,key:s,ref:a,props:i,_owner:YB.current}}function xV(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function XB(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function bV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var DI=/\/+/g;function Cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bV(""+t.key):e.toString(36)}function zg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Tf:case cV:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Cy(a,0):n,jI(i)?(r="",t!=null&&(r=t.replace(DI,"$&/")+"/"),zg(i,e,r,"",function(l){return l})):i!=null&&(XB(i)&&(i=xV(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",jI(t))for(var o=0;o<t.length;o++){s=t[o];var A=n+Cy(s,o);a+=zg(s,e,r,A,i)}else if(A=wV(t),typeof A=="function")for(t=A.call(t),o=0;!(s=t.next()).done;)s=s.value,A=n+Cy(s,o++),a+=zg(s,e,r,A,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ph(t,e,r){if(t==null)return t;var n=[],i=0;return zg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function BV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},Yg={transition:null},CV={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Yg,ReactCurrentOwner:YB};function $P(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Ph,forEach:function(t,e,r){Ph(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ph(t,function(){e++}),e},toArray:function(t){return Ph(t,function(e){return e})||[]},only:function(t){if(!XB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Nc;je.Fragment=uV;je.Profiler=fV;je.PureComponent=WB;je.StrictMode=dV;je.Suspense=pV;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CV;je.act=$P;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=YB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(A in e)HP.call(e,A)&&!VP.hasOwnProperty(A)&&(n[A]=e[A]===void 0&&o!==void 0?o[A]:e[A])}var A=arguments.length-2;if(A===1)n.children=r;else if(1<A){o=Array(A);for(var l=0;l<A;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Tf,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:gV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hV,_context:t},t.Consumer=t};je.createElement=KP;je.createFactory=function(t){var e=KP.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:mV,render:t}};je.isValidElement=XB;je.lazy=function(t){return{$$typeof:yV,_payload:{_status:-1,_result:t},_init:BV}};je.memo=function(t,e){return{$$typeof:vV,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Yg.transition;Yg.transition={};try{t()}finally{Yg.transition=e}};je.unstable_act=$P;je.useCallback=function(t,e){return Jr.current.useCallback(t,e)};je.useContext=function(t){return Jr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};je.useEffect=function(t,e){return Jr.current.useEffect(t,e)};je.useId=function(){return Jr.current.useId()};je.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Jr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};je.useRef=function(t){return Jr.current.useRef(t)};je.useState=function(t){return Jr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Jr.current.useTransition()};je.version="18.3.1";jP.exports=je;var b=jP.exports;const ii=Xi(b),GP=lV({__proto__:null,default:ii},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV=b,_V=Symbol.for("react.element"),IV=Symbol.for("react.fragment"),SV=Object.prototype.hasOwnProperty,TV=EV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FV={key:!0,ref:!0,__self:!0,__source:!0};function WP(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)SV.call(e,n)&&!FV.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:_V,type:t,key:s,ref:a,props:i,_owner:TV.current}}h0.Fragment=IV;h0.jsx=WP;h0.jsxs=WP;OP.exports=h0;var u=OP.exports,rx={},zP={exports:{}},Qn={},YP={exports:{}},XP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Z,ae){var de=Z.length;Z.push(ae);e:for(;0<de;){var Fe=de-1>>>1,ie=Z[Fe];if(0<i(ie,ae))Z[Fe]=ae,Z[de]=ie,de=Fe;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ae=Z[0],de=Z.pop();if(de!==ae){Z[0]=de;e:for(var Fe=0,ie=Z.length,Ue=ie>>>1;Fe<Ue;){var ze=2*(Fe+1)-1,D=Z[ze],V=ze+1,R=Z[V];if(0>i(D,de))V<ie&&0>i(R,D)?(Z[Fe]=R,Z[V]=de,Fe=V):(Z[Fe]=D,Z[ze]=de,Fe=ze);else if(V<ie&&0>i(R,de))Z[Fe]=R,Z[V]=de,Fe=V;else break e}}return ae}function i(Z,ae){var de=Z.sortIndex-ae.sortIndex;return de!==0?de:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var A=[],l=[],c=1,d=null,f=3,g=!1,m=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Z){for(var ae=r(l);ae!==null;){if(ae.callback===null)n(l);else if(ae.startTime<=Z)n(l),ae.sortIndex=ae.expirationTime,e(A,ae);else break;ae=r(l)}}function S(Z){if(p=!1,x(Z),!m)if(r(A)!==null)m=!0,ve(T);else{var ae=r(l);ae!==null&&xe(S,ae.startTime-Z)}}function T(Z,ae){m=!1,p&&(p=!1,w(E),E=-1),g=!0;var de=f;try{for(x(ae),d=r(A);d!==null&&(!(d.expirationTime>ae)||Z&&!k());){var Fe=d.callback;if(typeof Fe=="function"){d.callback=null,f=d.priorityLevel;var ie=Fe(d.expirationTime<=ae);ae=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(A)&&n(A),x(ae)}else n(A);d=r(A)}if(d!==null)var Ue=!0;else{var ze=r(l);ze!==null&&xe(S,ze.startTime-ae),Ue=!1}return Ue}finally{d=null,f=de,g=!1}}var I=!1,C=null,E=-1,F=5,N=-1;function k(){return!(t.unstable_now()-N<F)}function Q(){if(C!==null){var Z=t.unstable_now();N=Z;var ae=!0;try{ae=C(!0,Z)}finally{ae?P():(I=!1,C=null)}}else I=!1}var P;if(typeof v=="function")P=function(){v(Q)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Ce=oe.port2;oe.port1.onmessage=Q,P=function(){Ce.postMessage(null)}}else P=function(){y(Q,0)};function ve(Z){C=Z,I||(I=!0,P())}function xe(Z,ae){E=y(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,ve(T))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(Z){switch(f){case 1:case 2:case 3:var ae=3;break;default:ae=f}var de=f;f=ae;try{return Z()}finally{f=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=f;f=Z;try{return ae()}finally{f=de}},t.unstable_scheduleCallback=function(Z,ae,de){var Fe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Fe+de:Fe):de=Fe,Z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=de+ie,Z={id:c++,callback:ae,priorityLevel:Z,startTime:de,expirationTime:ie,sortIndex:-1},de>Fe?(Z.sortIndex=de,e(l,Z),r(A)===null&&Z===r(l)&&(p?(w(E),E=-1):p=!0,xe(S,de-Fe))):(Z.sortIndex=ie,e(A,Z),m||g||(m=!0,ve(T))),Z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Z){var ae=f;return function(){var de=f;f=ae;try{return Z.apply(this,arguments)}finally{f=de}}}})(XP);YP.exports=XP;var NV=YP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UV=b,Tn=NV;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qP=new Set,Qd={};function TA(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(Qd[t]=e,t=0;t<e.length;t++)qP.add(e[t])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=Object.prototype.hasOwnProperty,PV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RI={},MI={};function kV(t){return nx.call(MI,t)?!0:nx.call(RI,t)?!1:PV.test(t)?MI[t]=!0:(RI[t]=!0,!1)}function QV(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function OV(t,e,r,n){if(e===null||typeof e>"u"||QV(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new Zr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new Zr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new Zr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new Zr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new Zr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new Zr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new Zr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new Zr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new Zr(t,5,!1,t.toLowerCase(),null,!1,!1)});var qB=/[\-:]([a-z])/g;function JB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qB,JB);Ir[e]=new Zr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qB,JB);Ir[e]=new Zr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qB,JB);Ir[e]=new Zr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new Zr(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new Zr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new Zr(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZB(t,e,r,n){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(OV(e,r,i,n)&&(r=null),n||i===null?kV(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $s=UV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kh=Symbol.for("react.element"),vl=Symbol.for("react.portal"),yl=Symbol.for("react.fragment"),eC=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),JP=Symbol.for("react.provider"),ZP=Symbol.for("react.context"),tC=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ax=Symbol.for("react.suspense_list"),rC=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),ek=Symbol.for("react.offscreen"),LI=Symbol.iterator;function mu(t){return t===null||typeof t!="object"?null:(t=LI&&t[LI]||t["@@iterator"],typeof t=="function"?t:null)}var Ft=Object.assign,Ey;function Ku(t){if(Ey===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ey=e&&e[1]||""}return`
`+Ey+t}var _y=!1;function Iy(t,e){if(!t||_y)return"";_y=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var A=`
`+i[a].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=a&&0<=o);break}}}finally{_y=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ku(t):""}function jV(t){switch(t.tag){case 5:return Ku(t.type);case 16:return Ku("Lazy");case 13:return Ku("Suspense");case 19:return Ku("SuspenseList");case 0:case 2:case 15:return t=Iy(t.type,!1),t;case 11:return t=Iy(t.type.render,!1),t;case 1:return t=Iy(t.type,!0),t;default:return""}}function ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yl:return"Fragment";case vl:return"Portal";case ix:return"Profiler";case eC:return"StrictMode";case sx:return"Suspense";case ax:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZP:return(t.displayName||"Context")+".Consumer";case JP:return(t._context.displayName||"Context")+".Provider";case tC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rC:return e=t.displayName||null,e!==null?e:ox(t.type)||"Memo";case fa:e=t._payload,t=t._init;try{return ox(t(e))}catch{}}return null}function DV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ox(e);case 8:return e===eC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ga(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RV(t){var e=tk(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qh(t){t._valueTracker||(t._valueTracker=RV(t))}function rk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tk(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Em(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ax(t,e){var r=e.checked;return Ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function HI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ga(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nk(t,e){e=e.checked,e!=null&&ZB(t,"checked",e,!1)}function lx(t,e){nk(t,e);var r=Ga(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cx(t,e.type,r):e.hasOwnProperty("defaultValue")&&cx(t,e.type,Ga(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function cx(t,e,r){(e!=="number"||Em(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var $u=Array.isArray;function jl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ga(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ux(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return Ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function KI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if($u(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ga(r)}}function ik(t,e){var r=Ga(e.value),n=Ga(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $I(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oh,ak=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Od(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MV=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(t){MV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cd[e]=cd[t]})});function ok(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cd.hasOwnProperty(t)&&cd[t]?(""+e).trim():e+"px"}function Ak(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ok(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var LV=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fx(t,e){if(e){if(LV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function hx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=null;function nC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mx=null,Dl=null,Rl=null;function GI(t){if(t=Uf(t)){if(typeof mx!="function")throw Error(re(280));var e=t.stateNode;e&&(e=y0(e),mx(t.stateNode,t.type,e))}}function lk(t){Dl?Rl?Rl.push(t):Rl=[t]:Dl=t}function ck(){if(Dl){var t=Dl,e=Rl;if(Rl=Dl=null,GI(t),e)for(t=0;t<e.length;t++)GI(e[t])}}function uk(t,e){return t(e)}function dk(){}var Sy=!1;function fk(t,e,r){if(Sy)return t(e,r);Sy=!0;try{return uk(t,e,r)}finally{Sy=!1,(Dl!==null||Rl!==null)&&(dk(),ck())}}function jd(t,e){var r=t.stateNode;if(r===null)return null;var n=y0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var px=!1;if(Us)try{var pu={};Object.defineProperty(pu,"passive",{get:function(){px=!0}}),window.addEventListener("test",pu,pu),window.removeEventListener("test",pu,pu)}catch{px=!1}function HV(t,e,r,n,i,s,a,o,A){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var ud=!1,_m=null,Im=!1,vx=null,VV={onError:function(t){ud=!0,_m=t}};function KV(t,e,r,n,i,s,a,o,A){ud=!1,_m=null,HV.apply(VV,arguments)}function $V(t,e,r,n,i,s,a,o,A){if(KV.apply(this,arguments),ud){if(ud){var l=_m;ud=!1,_m=null}else throw Error(re(198));Im||(Im=!0,vx=l)}}function FA(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WI(t){if(FA(t)!==t)throw Error(re(188))}function GV(t){var e=t.alternate;if(!e){if(e=FA(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return WI(i),t;if(s===n)return WI(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function gk(t){return t=GV(t),t!==null?mk(t):null}function mk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mk(t);if(e!==null)return e;t=t.sibling}return null}var pk=Tn.unstable_scheduleCallback,zI=Tn.unstable_cancelCallback,WV=Tn.unstable_shouldYield,zV=Tn.unstable_requestPaint,Ht=Tn.unstable_now,YV=Tn.unstable_getCurrentPriorityLevel,iC=Tn.unstable_ImmediatePriority,vk=Tn.unstable_UserBlockingPriority,Sm=Tn.unstable_NormalPriority,XV=Tn.unstable_LowPriority,yk=Tn.unstable_IdlePriority,g0=null,Li=null;function qV(t){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(g0,t,void 0,(t.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:eK,JV=Math.log,ZV=Math.LN2;function eK(t){return t>>>=0,t===0?32:31-(JV(t)/ZV|0)|0}var jh=64,Dh=4194304;function Gu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Tm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Gu(o):(s&=a,s!==0&&(n=Gu(s)))}else a=r&~i,a!==0?n=Gu(a):s!==0&&(n=Gu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ei(e),i=1<<r,n|=t[r],e&=~i;return n}function tK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rK(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ei(s),o=1<<a,A=i[a];A===-1?(!(o&r)||o&n)&&(i[a]=tK(o,e)):A<=e&&(t.expiredLanes|=o),s&=~o}}function yx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wk(){var t=jh;return jh<<=1,!(jh&4194240)&&(jh=64),t}function Ty(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ff(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ei(e),t[e]=r}function nK(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ei(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function sC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ei(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function xk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bk,aC,Bk,Ck,Ek,wx=!1,Rh=[],Sa=null,Ta=null,Fa=null,Dd=new Map,Rd=new Map,pa=[],iK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YI(t,e){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Dd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(e.pointerId)}}function vu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Uf(e),e!==null&&aC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sK(t,e,r,n,i){switch(e){case"focusin":return Sa=vu(Sa,t,e,r,n,i),!0;case"dragenter":return Ta=vu(Ta,t,e,r,n,i),!0;case"mouseover":return Fa=vu(Fa,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Dd.set(s,vu(Dd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Rd.set(s,vu(Rd.get(s)||null,t,e,r,n,i)),!0}return!1}function _k(t){var e=Wo(t.target);if(e!==null){var r=FA(e);if(r!==null){if(e=r.tag,e===13){if(e=hk(r),e!==null){t.blockedOn=e,Ek(t.priority,function(){Bk(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gx=n,r.target.dispatchEvent(n),gx=null}else return e=Uf(r),e!==null&&aC(e),t.blockedOn=r,!1;e.shift()}return!0}function XI(t,e,r){Xg(t)&&r.delete(e)}function aK(){wx=!1,Sa!==null&&Xg(Sa)&&(Sa=null),Ta!==null&&Xg(Ta)&&(Ta=null),Fa!==null&&Xg(Fa)&&(Fa=null),Dd.forEach(XI),Rd.forEach(XI)}function yu(t,e){t.blockedOn===e&&(t.blockedOn=null,wx||(wx=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,aK)))}function Md(t){function e(i){return yu(i,t)}if(0<Rh.length){yu(Rh[0],t);for(var r=1;r<Rh.length;r++){var n=Rh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Sa!==null&&yu(Sa,t),Ta!==null&&yu(Ta,t),Fa!==null&&yu(Fa,t),Dd.forEach(e),Rd.forEach(e),r=0;r<pa.length;r++)n=pa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<pa.length&&(r=pa[0],r.blockedOn===null);)_k(r),r.blockedOn===null&&pa.shift()}var Ml=$s.ReactCurrentBatchConfig,Fm=!0;function oK(t,e,r,n){var i=Je,s=Ml.transition;Ml.transition=null;try{Je=1,oC(t,e,r,n)}finally{Je=i,Ml.transition=s}}function AK(t,e,r,n){var i=Je,s=Ml.transition;Ml.transition=null;try{Je=4,oC(t,e,r,n)}finally{Je=i,Ml.transition=s}}function oC(t,e,r,n){if(Fm){var i=xx(t,e,r,n);if(i===null)Ry(t,e,n,Nm,r),YI(t,n);else if(sK(i,t,e,r,n))n.stopPropagation();else if(YI(t,n),e&4&&-1<iK.indexOf(t)){for(;i!==null;){var s=Uf(i);if(s!==null&&bk(s),s=xx(t,e,r,n),s===null&&Ry(t,e,n,Nm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ry(t,e,n,null,r)}}var Nm=null;function xx(t,e,r,n){if(Nm=null,t=nC(n),t=Wo(t),t!==null)if(e=FA(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hk(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nm=t,null}function Ik(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YV()){case iC:return 1;case vk:return 4;case Sm:case XV:return 16;case yk:return 536870912;default:return 16}default:return 16}}var xa=null,AC=null,qg=null;function Sk(){if(qg)return qg;var t,e=AC,r=e.length,n,i="value"in xa?xa.value:xa.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return qg=i.slice(t,1<n?1-n:void 0)}function Jg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mh(){return!0}function qI(){return!1}function On(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Mh:qI,this.isPropagationStopped=qI,this}return Ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),e}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lC=On(Uc),Nf=Ft({},Uc,{view:0,detail:0}),lK=On(Nf),Fy,Ny,wu,m0=Ft({},Nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(Fy=t.screenX-wu.screenX,Ny=t.screenY-wu.screenY):Ny=Fy=0,wu=t),Fy)},movementY:function(t){return"movementY"in t?t.movementY:Ny}}),JI=On(m0),cK=Ft({},m0,{dataTransfer:0}),uK=On(cK),dK=Ft({},Nf,{relatedTarget:0}),Uy=On(dK),fK=Ft({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),hK=On(fK),gK=Ft({},Uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mK=On(gK),pK=Ft({},Uc,{data:0}),ZI=On(pK),vK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wK[t])?!!e[t]:!1}function cC(){return xK}var bK=Ft({},Nf,{key:function(t){if(t.key){var e=vK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cC,charCode:function(t){return t.type==="keypress"?Jg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BK=On(bK),CK=Ft({},m0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eS=On(CK),EK=Ft({},Nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cC}),_K=On(EK),IK=Ft({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),SK=On(IK),TK=Ft({},m0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FK=On(TK),NK=[9,13,27,32],uC=Us&&"CompositionEvent"in window,dd=null;Us&&"documentMode"in document&&(dd=document.documentMode);var UK=Us&&"TextEvent"in window&&!dd,Tk=Us&&(!uC||dd&&8<dd&&11>=dd),tS=" ",rS=!1;function Fk(t,e){switch(t){case"keyup":return NK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wl=!1;function PK(t,e){switch(t){case"compositionend":return Nk(e);case"keypress":return e.which!==32?null:(rS=!0,tS);case"textInput":return t=e.data,t===tS&&rS?null:t;default:return null}}function kK(t,e){if(wl)return t==="compositionend"||!uC&&Fk(t,e)?(t=Sk(),qg=AC=xa=null,wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tk&&e.locale!=="ko"?null:e.data;default:return null}}var QK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QK[t.type]:e==="textarea"}function Uk(t,e,r,n){lk(n),e=Um(e,"onChange"),0<e.length&&(r=new lC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fd=null,Ld=null;function OK(t){Vk(t,0)}function p0(t){var e=Bl(t);if(rk(e))return t}function jK(t,e){if(t==="change")return e}var Pk=!1;if(Us){var Py;if(Us){var ky="oninput"in document;if(!ky){var iS=document.createElement("div");iS.setAttribute("oninput","return;"),ky=typeof iS.oninput=="function"}Py=ky}else Py=!1;Pk=Py&&(!document.documentMode||9<document.documentMode)}function sS(){fd&&(fd.detachEvent("onpropertychange",kk),Ld=fd=null)}function kk(t){if(t.propertyName==="value"&&p0(Ld)){var e=[];Uk(e,Ld,t,nC(t)),fk(OK,e)}}function DK(t,e,r){t==="focusin"?(sS(),fd=e,Ld=r,fd.attachEvent("onpropertychange",kk)):t==="focusout"&&sS()}function RK(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return p0(Ld)}function MK(t,e){if(t==="click")return p0(e)}function LK(t,e){if(t==="input"||t==="change")return p0(e)}function HK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:HK;function Hd(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!nx.call(e,i)||!Ii(t[i],e[i]))return!1}return!0}function aS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oS(t,e){var r=aS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aS(r)}}function Qk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ok(){for(var t=window,e=Em();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Em(t.document)}return e}function dC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VK(t){var e=Ok(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Qk(r.ownerDocument.documentElement,r)){if(n!==null&&dC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=oS(r,s);var a=oS(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KK=Us&&"documentMode"in document&&11>=document.documentMode,xl=null,bx=null,hd=null,Bx=!1;function AS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bx||xl==null||xl!==Em(n)||(n=xl,"selectionStart"in n&&dC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hd&&Hd(hd,n)||(hd=n,n=Um(bx,"onSelect"),0<n.length&&(e=new lC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=xl)))}function Lh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var bl={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},Qy={},jk={};Us&&(jk=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function v0(t){if(Qy[t])return Qy[t];if(!bl[t])return t;var e=bl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in jk)return Qy[t]=e[r];return t}var Dk=v0("animationend"),Rk=v0("animationiteration"),Mk=v0("animationstart"),Lk=v0("transitionend"),Hk=new Map,lS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){Hk.set(t,e),TA(e,[t])}for(var Oy=0;Oy<lS.length;Oy++){var jy=lS[Oy],$K=jy.toLowerCase(),GK=jy[0].toUpperCase()+jy.slice(1);ao($K,"on"+GK)}ao(Dk,"onAnimationEnd");ao(Rk,"onAnimationIteration");ao(Mk,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(Lk,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);TA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));TA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));TA("onBeforeInput",["compositionend","keypress","textInput","paste"]);TA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));TA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));TA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function cS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$V(n,e,void 0,t),t.currentTarget=null}function Vk(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],A=o.instance,l=o.currentTarget;if(o=o.listener,A!==s&&i.isPropagationStopped())break e;cS(i,o,l),s=A}else for(a=0;a<n.length;a++){if(o=n[a],A=o.instance,l=o.currentTarget,o=o.listener,A!==s&&i.isPropagationStopped())break e;cS(i,o,l),s=A}}}if(Im)throw t=vx,Im=!1,vx=null,t}function ut(t,e){var r=e[Sx];r===void 0&&(r=e[Sx]=new Set);var n=t+"__bubble";r.has(n)||(Kk(e,t,2,!1),r.add(n))}function Dy(t,e,r){var n=0;e&&(n|=4),Kk(r,t,n,e)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[Hh]){t[Hh]=!0,qP.forEach(function(r){r!=="selectionchange"&&(WK.has(r)||Dy(r,!1,t),Dy(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hh]||(e[Hh]=!0,Dy("selectionchange",!1,e))}}function Kk(t,e,r,n){switch(Ik(e)){case 1:var i=oK;break;case 4:i=AK;break;default:i=oC}r=i.bind(null,e,r,t),i=void 0,!px||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ry(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var A=a.tag;if((A===3||A===4)&&(A=a.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Wo(o),a===null)return;if(A=a.tag,A===5||A===6){n=s=a;continue e}o=o.parentNode}}n=n.return}fk(function(){var l=s,c=nC(r),d=[];e:{var f=Hk.get(t);if(f!==void 0){var g=lC,m=t;switch(t){case"keypress":if(Jg(r)===0)break e;case"keydown":case"keyup":g=BK;break;case"focusin":m="focus",g=Uy;break;case"focusout":m="blur",g=Uy;break;case"beforeblur":case"afterblur":g=Uy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=JI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=uK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=_K;break;case Dk:case Rk:case Mk:g=hK;break;case Lk:g=SK;break;case"scroll":g=lK;break;case"wheel":g=FK;break;case"copy":case"cut":case"paste":g=mK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=eS}var p=(e&4)!==0,y=!p&&t==="scroll",w=p?f!==null?f+"Capture":null:f;p=[];for(var v=l,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,w!==null&&(S=jd(v,w),S!=null&&p.push(Kd(v,S,x)))),y)break;v=v.return}0<p.length&&(f=new g(f,m,null,r,c),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==gx&&(m=r.relatedTarget||r.fromElement)&&(Wo(m)||m[Ps]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=l,m=m?Wo(m):null,m!==null&&(y=FA(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=l),g!==m)){if(p=JI,S="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=eS,S="onPointerLeave",w="onPointerEnter",v="pointer"),y=g==null?f:Bl(g),x=m==null?f:Bl(m),f=new p(S,v+"leave",g,r,c),f.target=y,f.relatedTarget=x,S=null,Wo(c)===l&&(p=new p(w,v+"enter",m,r,c),p.target=x,p.relatedTarget=y,S=p),y=S,g&&m)t:{for(p=g,w=m,v=0,x=p;x;x=qA(x))v++;for(x=0,S=w;S;S=qA(S))x++;for(;0<v-x;)p=qA(p),v--;for(;0<x-v;)w=qA(w),x--;for(;v--;){if(p===w||w!==null&&p===w.alternate)break t;p=qA(p),w=qA(w)}p=null}else p=null;g!==null&&uS(d,f,g,p,!1),m!==null&&y!==null&&uS(d,y,m,p,!0)}}e:{if(f=l?Bl(l):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=jK;else if(nS(f))if(Pk)T=LK;else{T=RK;var I=DK}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=MK);if(T&&(T=T(t,l))){Uk(d,T,r,c);break e}I&&I(t,f,l),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&cx(f,"number",f.value)}switch(I=l?Bl(l):window,t){case"focusin":(nS(I)||I.contentEditable==="true")&&(xl=I,bx=l,hd=null);break;case"focusout":hd=bx=xl=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,AS(d,r,c);break;case"selectionchange":if(KK)break;case"keydown":case"keyup":AS(d,r,c)}var C;if(uC)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wl?Fk(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Tk&&r.locale!=="ko"&&(wl||E!=="onCompositionStart"?E==="onCompositionEnd"&&wl&&(C=Sk()):(xa=c,AC="value"in xa?xa.value:xa.textContent,wl=!0)),I=Um(l,E),0<I.length&&(E=new ZI(E,t,null,r,c),d.push({event:E,listeners:I}),C?E.data=C:(C=Nk(r),C!==null&&(E.data=C)))),(C=UK?PK(t,r):kK(t,r))&&(l=Um(l,"onBeforeInput"),0<l.length&&(c=new ZI("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:l}),c.data=C))}Vk(d,e)})}function Kd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Um(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jd(t,r),s!=null&&n.unshift(Kd(t,s,i)),s=jd(t,e),s!=null&&n.push(Kd(t,s,i))),t=t.return}return n}function qA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uS(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,A=o.alternate,l=o.stateNode;if(A!==null&&A===n)break;o.tag===5&&l!==null&&(o=l,i?(A=jd(r,s),A!=null&&a.unshift(Kd(r,A,o))):i||(A=jd(r,s),A!=null&&a.push(Kd(r,A,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var zK=/\r\n?/g,YK=/\u0000|\uFFFD/g;function dS(t){return(typeof t=="string"?t:""+t).replace(zK,`
`).replace(YK,"")}function Vh(t,e,r){if(e=dS(e),dS(t)!==e&&r)throw Error(re(425))}function Pm(){}var Cx=null,Ex=null;function _x(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ix=typeof setTimeout=="function"?setTimeout:void 0,XK=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,qK=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(t){return fS.resolve(null).then(t).catch(JK)}:Ix;function JK(t){setTimeout(function(){throw t})}function My(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Md(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Md(e)}function Na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Pc=Math.random().toString(36).slice(2),ji="__reactFiber$"+Pc,$d="__reactProps$"+Pc,Ps="__reactContainer$"+Pc,Sx="__reactEvents$"+Pc,ZK="__reactListeners$"+Pc,e6="__reactHandles$"+Pc;function Wo(t){var e=t[ji];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ps]||r[ji]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=hS(t);t!==null;){if(r=t[ji])return r;t=hS(t)}return e}t=r,r=t.parentNode}return null}function Uf(t){return t=t[ji]||t[Ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function y0(t){return t[$d]||null}var Tx=[],Cl=-1;function oo(t){return{current:t}}function ft(t){0>Cl||(t.current=Tx[Cl],Tx[Cl]=null,Cl--)}function lt(t,e){Cl++,Tx[Cl]=t.current,t.current=e}var Wa={},Mr=oo(Wa),ln=oo(!1),dA=Wa;function ec(t,e){var r=t.type.contextTypes;if(!r)return Wa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function km(){ft(ln),ft(Mr)}function gS(t,e,r){if(Mr.current!==Wa)throw Error(re(168));lt(Mr,e),lt(ln,r)}function $k(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,DV(t)||"Unknown",i));return Ft({},r,n)}function Qm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wa,dA=Mr.current,lt(Mr,t),lt(ln,ln.current),!0}function mS(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=$k(t,e,dA),n.__reactInternalMemoizedMergedChildContext=t,ft(ln),ft(Mr),lt(Mr,t)):ft(ln),lt(ln,r)}var cs=null,w0=!1,Ly=!1;function Gk(t){cs===null?cs=[t]:cs.push(t)}function t6(t){w0=!0,Gk(t)}function Ao(){if(!Ly&&cs!==null){Ly=!0;var t=0,e=Je;try{var r=cs;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}cs=null,w0=!1}catch(i){throw cs!==null&&(cs=cs.slice(t+1)),pk(iC,Ao),i}finally{Je=e,Ly=!1}}return null}var El=[],_l=0,Om=null,jm=0,Gn=[],Wn=0,fA=null,vs=1,ys="";function Po(t,e){El[_l++]=jm,El[_l++]=Om,Om=t,jm=e}function Wk(t,e,r){Gn[Wn++]=vs,Gn[Wn++]=ys,Gn[Wn++]=fA,fA=t;var n=vs;t=ys;var i=32-Ei(n)-1;n&=~(1<<i),r+=1;var s=32-Ei(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,vs=1<<32-Ei(e)+i|r<<i|n,ys=s+t}else vs=1<<s|r<<i|n,ys=t}function fC(t){t.return!==null&&(Po(t,1),Wk(t,1,0))}function hC(t){for(;t===Om;)Om=El[--_l],El[_l]=null,jm=El[--_l],El[_l]=null;for(;t===fA;)fA=Gn[--Wn],Gn[Wn]=null,ys=Gn[--Wn],Gn[Wn]=null,vs=Gn[--Wn],Gn[Wn]=null}var In=null,Bn=null,pt=!1,wi=null;function zk(t,e){var r=qn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Bn=Na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=fA!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=qn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,In=t,Bn=null,!0):!1;default:return!1}}function Fx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nx(t){if(pt){var e=Bn;if(e){var r=e;if(!pS(t,e)){if(Fx(t))throw Error(re(418));e=Na(r.nextSibling);var n=In;e&&pS(t,e)?zk(n,r):(t.flags=t.flags&-4097|2,pt=!1,In=t)}}else{if(Fx(t))throw Error(re(418));t.flags=t.flags&-4097|2,pt=!1,In=t}}}function vS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Kh(t){if(t!==In)return!1;if(!pt)return vS(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_x(t.type,t.memoizedProps)),e&&(e=Bn)){if(Fx(t))throw Yk(),Error(re(418));for(;e;)zk(t,e),e=Na(e.nextSibling)}if(vS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bn=Na(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=In?Na(t.stateNode.nextSibling):null;return!0}function Yk(){for(var t=Bn;t;)t=Na(t.nextSibling)}function tc(){Bn=In=null,pt=!1}function gC(t){wi===null?wi=[t]:wi.push(t)}var r6=$s.ReactCurrentBatchConfig;function xu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function $h(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yS(t){var e=t._init;return e(t._payload)}function Xk(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function r(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Qa(w,v),w.index=0,w.sibling=null,w}function s(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,v,x,S){return v===null||v.tag!==6?(v=zy(x,w.mode,S),v.return=w,v):(v=i(v,x),v.return=w,v)}function A(w,v,x,S){var T=x.type;return T===yl?c(w,v,x.props.children,S,x.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fa&&yS(T)===v.type)?(S=i(v,x.props),S.ref=xu(w,v,x),S.return=w,S):(S=sm(x.type,x.key,x.props,null,w.mode,S),S.ref=xu(w,v,x),S.return=w,S)}function l(w,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Yy(x,w.mode,S),v.return=w,v):(v=i(v,x.children||[]),v.return=w,v)}function c(w,v,x,S,T){return v===null||v.tag!==7?(v=nA(x,w.mode,S,T),v.return=w,v):(v=i(v,x),v.return=w,v)}function d(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zy(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kh:return x=sm(v.type,v.key,v.props,null,w.mode,x),x.ref=xu(w,null,v),x.return=w,x;case vl:return v=Yy(v,w.mode,x),v.return=w,v;case fa:var S=v._init;return d(w,S(v._payload),x)}if($u(v)||mu(v))return v=nA(v,w.mode,x,null),v.return=w,v;$h(w,v)}return null}function f(w,v,x,S){var T=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:o(w,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kh:return x.key===T?A(w,v,x,S):null;case vl:return x.key===T?l(w,v,x,S):null;case fa:return T=x._init,f(w,v,T(x._payload),S)}if($u(x)||mu(x))return T!==null?null:c(w,v,x,S,null);$h(w,x)}return null}function g(w,v,x,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(x)||null,o(v,w,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kh:return w=w.get(S.key===null?x:S.key)||null,A(v,w,S,T);case vl:return w=w.get(S.key===null?x:S.key)||null,l(v,w,S,T);case fa:var I=S._init;return g(w,v,x,I(S._payload),T)}if($u(S)||mu(S))return w=w.get(x)||null,c(v,w,S,T,null);$h(v,S)}return null}function m(w,v,x,S){for(var T=null,I=null,C=v,E=v=0,F=null;C!==null&&E<x.length;E++){C.index>E?(F=C,C=null):F=C.sibling;var N=f(w,C,x[E],S);if(N===null){C===null&&(C=F);break}t&&C&&N.alternate===null&&e(w,C),v=s(N,v,E),I===null?T=N:I.sibling=N,I=N,C=F}if(E===x.length)return r(w,C),pt&&Po(w,E),T;if(C===null){for(;E<x.length;E++)C=d(w,x[E],S),C!==null&&(v=s(C,v,E),I===null?T=C:I.sibling=C,I=C);return pt&&Po(w,E),T}for(C=n(w,C);E<x.length;E++)F=g(C,w,E,x[E],S),F!==null&&(t&&F.alternate!==null&&C.delete(F.key===null?E:F.key),v=s(F,v,E),I===null?T=F:I.sibling=F,I=F);return t&&C.forEach(function(k){return e(w,k)}),pt&&Po(w,E),T}function p(w,v,x,S){var T=mu(x);if(typeof T!="function")throw Error(re(150));if(x=T.call(x),x==null)throw Error(re(151));for(var I=T=null,C=v,E=v=0,F=null,N=x.next();C!==null&&!N.done;E++,N=x.next()){C.index>E?(F=C,C=null):F=C.sibling;var k=f(w,C,N.value,S);if(k===null){C===null&&(C=F);break}t&&C&&k.alternate===null&&e(w,C),v=s(k,v,E),I===null?T=k:I.sibling=k,I=k,C=F}if(N.done)return r(w,C),pt&&Po(w,E),T;if(C===null){for(;!N.done;E++,N=x.next())N=d(w,N.value,S),N!==null&&(v=s(N,v,E),I===null?T=N:I.sibling=N,I=N);return pt&&Po(w,E),T}for(C=n(w,C);!N.done;E++,N=x.next())N=g(C,w,E,N.value,S),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?E:N.key),v=s(N,v,E),I===null?T=N:I.sibling=N,I=N);return t&&C.forEach(function(Q){return e(w,Q)}),pt&&Po(w,E),T}function y(w,v,x,S){if(typeof x=="object"&&x!==null&&x.type===yl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case kh:e:{for(var T=x.key,I=v;I!==null;){if(I.key===T){if(T=x.type,T===yl){if(I.tag===7){r(w,I.sibling),v=i(I,x.props.children),v.return=w,w=v;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fa&&yS(T)===I.type){r(w,I.sibling),v=i(I,x.props),v.ref=xu(w,I,x),v.return=w,w=v;break e}r(w,I);break}else e(w,I);I=I.sibling}x.type===yl?(v=nA(x.props.children,w.mode,S,x.key),v.return=w,w=v):(S=sm(x.type,x.key,x.props,null,w.mode,S),S.ref=xu(w,v,x),S.return=w,w=S)}return a(w);case vl:e:{for(I=x.key;v!==null;){if(v.key===I)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(w,v.sibling),v=i(v,x.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else e(w,v);v=v.sibling}v=Yy(x,w.mode,S),v.return=w,w=v}return a(w);case fa:return I=x._init,y(w,v,I(x._payload),S)}if($u(x))return m(w,v,x,S);if(mu(x))return p(w,v,x,S);$h(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(w,v.sibling),v=i(v,x),v.return=w,w=v):(r(w,v),v=zy(x,w.mode,S),v.return=w,w=v),a(w)):r(w,v)}return y}var rc=Xk(!0),qk=Xk(!1),Dm=oo(null),Rm=null,Il=null,mC=null;function pC(){mC=Il=Rm=null}function vC(t){var e=Dm.current;ft(Dm),t._currentValue=e}function Ux(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ll(t,e){Rm=t,mC=Il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Ai(t){var e=t._currentValue;if(mC!==t)if(t={context:t,memoizedValue:e,next:null},Il===null){if(Rm===null)throw Error(re(308));Il=t,Rm.dependencies={lanes:0,firstContext:t}}else Il=Il.next=t;return e}var zo=null;function yC(t){zo===null?zo=[t]:zo.push(t)}function Jk(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,yC(e)):(r.next=i.next,i.next=r),e.interleaved=r,ks(t,n)}function ks(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ha=!1;function wC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ks(t,r)}return i=n.interleaved,i===null?(e.next=e,yC(n)):(e.next=i.next,i.next=e),n.interleaved=e,ks(t,r)}function Zg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sC(t,r)}}function wS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mm(t,e,r,n){var i=t.updateQueue;ha=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var A=o,l=A.next;A.next=null,a===null?s=l:a.next=l,a=A;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=A))}if(s!==null){var d=i.baseState;a=0,c=l=A=null,o=s;do{var f=o.lane,g=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,g=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,d,f):m,f==null)break e;d=Ft({},d,f);break e;case 2:ha=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else g={eventTime:g,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=g,A=d):c=c.next=g,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(A=d),i.baseState=A,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gA|=a,t.lanes=a,t.memoizedState=d}}function xS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var Pf={},Hi=oo(Pf),Gd=oo(Pf),Wd=oo(Pf);function Yo(t){if(t===Pf)throw Error(re(174));return t}function xC(t,e){switch(lt(Wd,e),lt(Gd,t),lt(Hi,Pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dx(e,t)}ft(Hi),lt(Hi,e)}function nc(){ft(Hi),ft(Gd),ft(Wd)}function eQ(t){Yo(Wd.current);var e=Yo(Hi.current),r=dx(e,t.type);e!==r&&(lt(Gd,t),lt(Hi,r))}function bC(t){Gd.current===t&&(ft(Hi),ft(Gd))}var It=oo(0);function Lm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hy=[];function BC(){for(var t=0;t<Hy.length;t++)Hy[t]._workInProgressVersionPrimary=null;Hy.length=0}var em=$s.ReactCurrentDispatcher,Vy=$s.ReactCurrentBatchConfig,hA=0,St=null,qt=null,fr=null,Hm=!1,gd=!1,zd=0,n6=0;function Fr(){throw Error(re(321))}function CC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ii(t[r],e[r]))return!1;return!0}function EC(t,e,r,n,i,s){if(hA=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,em.current=t===null||t.memoizedState===null?o6:A6,t=r(n,i),gd){s=0;do{if(gd=!1,zd=0,25<=s)throw Error(re(301));s+=1,fr=qt=null,e.updateQueue=null,em.current=l6,t=r(n,i)}while(gd)}if(em.current=Vm,e=qt!==null&&qt.next!==null,hA=0,fr=qt=St=null,Hm=!1,e)throw Error(re(300));return t}function _C(){var t=zd!==0;return zd=0,t}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?St.memoizedState=fr=t:fr=fr.next=t,fr}function li(){if(qt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=fr===null?St.memoizedState:fr.next;if(e!==null)fr=e,qt=t;else{if(t===null)throw Error(re(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},fr===null?St.memoizedState=fr=t:fr=fr.next=t}return fr}function Yd(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=li(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=qt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,A=null,l=s;do{var c=l.lane;if((hA&c)===c)A!==null&&(A=A.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};A===null?(o=A=d,a=n):A=A.next=d,St.lanes|=c,gA|=c}l=l.next}while(l!==null&&l!==s);A===null?a=n:A.next=o,Ii(n,e.memoizedState)||(on=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=A,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,St.lanes|=s,gA|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $y(t){var e=li(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ii(s,e.memoizedState)||(on=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function tQ(){}function rQ(t,e){var r=St,n=li(),i=e(),s=!Ii(n.memoizedState,i);if(s&&(n.memoizedState=i,on=!0),n=n.queue,IC(sQ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,Xd(9,iQ.bind(null,r,n,i,e),void 0,null),gr===null)throw Error(re(349));hA&30||nQ(r,e,i)}return i}function nQ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function iQ(t,e,r,n){e.value=r,e.getSnapshot=n,aQ(e)&&oQ(t)}function sQ(t,e,r){return r(function(){aQ(e)&&oQ(t)})}function aQ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ii(t,r)}catch{return!0}}function oQ(t){var e=ks(t,1);e!==null&&_i(e,t,1,-1)}function bS(t){var e=Qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:t},e.queue=t,t=t.dispatch=a6.bind(null,St,t),[e.memoizedState,t]}function Xd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function AQ(){return li().memoizedState}function tm(t,e,r,n){var i=Qi();St.flags|=t,i.memoizedState=Xd(1|e,r,void 0,n===void 0?null:n)}function x0(t,e,r,n){var i=li();n=n===void 0?null:n;var s=void 0;if(qt!==null){var a=qt.memoizedState;if(s=a.destroy,n!==null&&CC(n,a.deps)){i.memoizedState=Xd(e,r,s,n);return}}St.flags|=t,i.memoizedState=Xd(1|e,r,s,n)}function BS(t,e){return tm(8390656,8,t,e)}function IC(t,e){return x0(2048,8,t,e)}function lQ(t,e){return x0(4,2,t,e)}function cQ(t,e){return x0(4,4,t,e)}function uQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dQ(t,e,r){return r=r!=null?r.concat([t]):null,x0(4,4,uQ.bind(null,e,t),r)}function SC(){}function fQ(t,e){var r=li();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hQ(t,e){var r=li();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&CC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function gQ(t,e,r){return hA&21?(Ii(r,e)||(r=wk(),St.lanes|=r,gA|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=r)}function i6(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Vy.transition;Vy.transition={};try{t(!1),e()}finally{Je=r,Vy.transition=n}}function mQ(){return li().memoizedState}function s6(t,e,r){var n=ka(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pQ(t))vQ(e,r);else if(r=Jk(t,e,r,n),r!==null){var i=Wr();_i(r,t,n,i),yQ(r,e,n)}}function a6(t,e,r){var n=ka(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pQ(t))vQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ii(o,a)){var A=e.interleaved;A===null?(i.next=i,yC(e)):(i.next=A.next,A.next=i),e.interleaved=i;return}}catch{}finally{}r=Jk(t,e,i,n),r!==null&&(i=Wr(),_i(r,t,n,i),yQ(r,e,n))}}function pQ(t){var e=t.alternate;return t===St||e!==null&&e===St}function vQ(t,e){gd=Hm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function yQ(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,sC(t,r)}}var Vm={readContext:Ai,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},o6={readContext:Ai,useCallback:function(t,e){return Qi().memoizedState=[t,e===void 0?null:e],t},useContext:Ai,useEffect:BS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,tm(4194308,4,uQ.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tm(4194308,4,t,e)},useInsertionEffect:function(t,e){return tm(4,2,t,e)},useMemo:function(t,e){var r=Qi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=s6.bind(null,St,t),[n.memoizedState,t]},useRef:function(t){var e=Qi();return t={current:t},e.memoizedState=t},useState:bS,useDebugValue:SC,useDeferredValue:function(t){return Qi().memoizedState=t},useTransition:function(){var t=bS(!1),e=t[0];return t=i6.bind(null,t[1]),Qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=St,i=Qi();if(pt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),gr===null)throw Error(re(349));hA&30||nQ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,BS(sQ.bind(null,n,s,t),[t]),n.flags|=2048,Xd(9,iQ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Qi(),e=gr.identifierPrefix;if(pt){var r=ys,n=vs;r=(n&~(1<<32-Ei(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=n6++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A6={readContext:Ai,useCallback:fQ,useContext:Ai,useEffect:IC,useImperativeHandle:dQ,useInsertionEffect:lQ,useLayoutEffect:cQ,useMemo:hQ,useReducer:Ky,useRef:AQ,useState:function(){return Ky(Yd)},useDebugValue:SC,useDeferredValue:function(t){var e=li();return gQ(e,qt.memoizedState,t)},useTransition:function(){var t=Ky(Yd)[0],e=li().memoizedState;return[t,e]},useMutableSource:tQ,useSyncExternalStore:rQ,useId:mQ,unstable_isNewReconciler:!1},l6={readContext:Ai,useCallback:fQ,useContext:Ai,useEffect:IC,useImperativeHandle:dQ,useInsertionEffect:lQ,useLayoutEffect:cQ,useMemo:hQ,useReducer:$y,useRef:AQ,useState:function(){return $y(Yd)},useDebugValue:SC,useDeferredValue:function(t){var e=li();return qt===null?e.memoizedState=t:gQ(e,qt.memoizedState,t)},useTransition:function(){var t=$y(Yd)[0],e=li().memoizedState;return[t,e]},useMutableSource:tQ,useSyncExternalStore:rQ,useId:mQ,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=Ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Px(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var b0={isMounted:function(t){return(t=t._reactInternals)?FA(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Wr(),i=ka(t),s=Is(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ua(t,s,i),e!==null&&(_i(e,t,i,n),Zg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Wr(),i=ka(t),s=Is(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ua(t,s,i),e!==null&&(_i(e,t,i,n),Zg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Wr(),n=ka(t),i=Is(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ua(t,i,n),e!==null&&(_i(e,t,n,r),Zg(e,t,n))}};function CS(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Hd(r,n)||!Hd(i,s):!0}function wQ(t,e,r){var n=!1,i=Wa,s=e.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=cn(e)?dA:Mr.current,n=e.contextTypes,s=(n=n!=null)?ec(t,i):Wa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=b0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ES(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&b0.enqueueReplaceState(e,e.state,null)}function kx(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=cn(e)?dA:Mr.current,i.context=ec(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Px(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&b0.enqueueReplaceState(i,i.state,null),Mm(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ic(t,e){try{var r="",n=e;do r+=jV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Gy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Qx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var c6=typeof WeakMap=="function"?WeakMap:Map;function xQ(t,e,r){r=Is(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$m||($m=!0,$x=n),Qx(t,e)},r}function bQ(t,e,r){r=Is(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Qx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Qx(t,e),typeof n!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function _S(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new c6;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=C6.bind(null,t,e,r),e.then(t,t))}function IS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Is(-1,1),e.tag=2,Ua(r,e,1))),r.lanes|=1),t)}var u6=$s.ReactCurrentOwner,on=!1;function Kr(t,e,r,n){e.child=t===null?qk(e,null,r,n):rc(e,t.child,r,n)}function TS(t,e,r,n,i){r=r.render;var s=e.ref;return Ll(e,i),n=EC(t,e,r,n,s,i),r=_C(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(pt&&r&&fC(e),e.flags|=1,Kr(t,e,n,i),e.child)}function FS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!OC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,BQ(t,e,s,n,i)):(t=sm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hd,r(a,n)&&t.ref===e.ref)return Qs(t,e,i)}return e.flags|=1,t=Qa(s,n),t.ref=e.ref,t.return=e,e.child=t}function BQ(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Hd(s,n)&&t.ref===e.ref)if(on=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,Qs(t,e,i)}return Ox(t,e,r,n,i)}function CQ(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(Tl,yn),yn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(Tl,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,lt(Tl,yn),yn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,lt(Tl,yn),yn|=n;return Kr(t,e,i,r),e.child}function EQ(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ox(t,e,r,n,i){var s=cn(r)?dA:Mr.current;return s=ec(e,s),Ll(e,i),r=EC(t,e,r,n,s,i),n=_C(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qs(t,e,i)):(pt&&n&&fC(e),e.flags|=1,Kr(t,e,r,i),e.child)}function NS(t,e,r,n,i){if(cn(r)){var s=!0;Qm(e)}else s=!1;if(Ll(e,i),e.stateNode===null)rm(t,e),wQ(e,r,n),kx(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var A=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ai(l):(l=cn(r)?dA:Mr.current,l=ec(e,l));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||A!==l)&&ES(e,a,n,l),ha=!1;var f=e.memoizedState;a.state=f,Mm(e,n,a,i),A=e.memoizedState,o!==n||f!==A||ln.current||ha?(typeof c=="function"&&(Px(e,r,c,n),A=e.memoizedState),(o=ha||CS(e,r,o,n,f,A,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=A),a.props=n,a.state=A,a.context=l,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Zk(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:vi(e.type,o),a.props=l,d=e.pendingProps,f=a.context,A=r.contextType,typeof A=="object"&&A!==null?A=Ai(A):(A=cn(r)?dA:Mr.current,A=ec(e,A));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==A)&&ES(e,a,n,A),ha=!1,f=e.memoizedState,a.state=f,Mm(e,n,a,i);var m=e.memoizedState;o!==d||f!==m||ln.current||ha?(typeof g=="function"&&(Px(e,r,g,n),m=e.memoizedState),(l=ha||CS(e,r,l,n,f,m,A)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,A),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,A)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=A,n=l):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return jx(t,e,r,n,s,i)}function jx(t,e,r,n,i,s){EQ(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&mS(e,r,!1),Qs(t,e,s);n=e.stateNode,u6.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=rc(e,t.child,null,s),e.child=rc(e,null,o,s)):Kr(t,e,o,s),e.memoizedState=n.state,i&&mS(e,r,!0),e.child}function _Q(t){var e=t.stateNode;e.pendingContext?gS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gS(t,e.context,!1),xC(t,e.containerInfo)}function US(t,e,r,n,i){return tc(),gC(i),e.flags|=256,Kr(t,e,r,n),e.child}var Dx={dehydrated:null,treeContext:null,retryLane:0};function Rx(t){return{baseLanes:t,cachePool:null,transitions:null}}function IQ(t,e,r){var n=e.pendingProps,i=It.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(It,i&1),t===null)return Nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=E0(a,n,0,null),t=nA(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rx(r),e.memoizedState=Dx,t):TC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return d6(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var A={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=A,e.deletions=null):(n=Qa(i,A),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Qa(o,s):(s=nA(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Rx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Dx,n}return s=t.child,t=s.sibling,n=Qa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function TC(t,e){return e=E0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gh(t,e,r,n){return n!==null&&gC(n),rc(e,t.child,null,r),t=TC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d6(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Gy(Error(re(422))),Gh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=E0({mode:"visible",children:n.children},i,0,null),s=nA(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&rc(e,t.child,null,a),e.child.memoizedState=Rx(a),e.memoizedState=Dx,s);if(!(e.mode&1))return Gh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(re(419)),n=Gy(s,n,void 0),Gh(t,e,a,n)}if(o=(a&t.childLanes)!==0,on||o){if(n=gr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ks(t,i),_i(n,t,i,-1))}return QC(),n=Gy(Error(re(421))),Gh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=Na(i.nextSibling),In=e,pt=!0,wi=null,t!==null&&(Gn[Wn++]=vs,Gn[Wn++]=ys,Gn[Wn++]=fA,vs=t.id,ys=t.overflow,fA=e),e=TC(e,n.children),e.flags|=4096,e)}function PS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ux(t.return,e,r)}function Wy(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function SQ(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Kr(t,e,n.children,r),n=It.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PS(t,r,e);else if(t.tag===19)PS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(lt(It,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Wy(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Wy(e,!0,r,null,s);break;case"together":Wy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),gA|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Qa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function f6(t,e,r){switch(e.tag){case 3:_Q(e),tc();break;case 5:eQ(e);break;case 1:cn(e.type)&&Qm(e);break;case 4:xC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;lt(Dm,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(lt(It,It.current&1),e.flags|=128,null):r&e.child.childLanes?IQ(t,e,r):(lt(It,It.current&1),t=Qs(t,e,r),t!==null?t.sibling:null);lt(It,It.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return SQ(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(It,It.current),n)break;return null;case 22:case 23:return e.lanes=0,CQ(t,e,r)}return Qs(t,e,r)}var TQ,Mx,FQ,NQ;TQ=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mx=function(){};FQ=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Yo(Hi.current);var s=null;switch(r){case"input":i=Ax(t,i),n=Ax(t,n),s=[];break;case"select":i=Ft({},i,{value:void 0}),n=Ft({},n,{value:void 0}),s=[];break;case"textarea":i=ux(t,i),n=ux(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pm)}fx(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qd.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var A=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&A!==o&&(A!=null||o!=null))if(l==="style")if(o){for(a in o)!o.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in A)A.hasOwnProperty(a)&&o[a]!==A[a]&&(r||(r={}),r[a]=A[a])}else r||(s||(s=[]),s.push(l,r)),r=A;else l==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,o=o?o.__html:void 0,A!=null&&o!==A&&(s=s||[]).push(l,A)):l==="children"?typeof A!="string"&&typeof A!="number"||(s=s||[]).push(l,""+A):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qd.hasOwnProperty(l)?(A!=null&&l==="onScroll"&&ut("scroll",t),s||o===A||(s=[])):(s=s||[]).push(l,A))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};NQ=function(t,e,r,n){r!==n&&(e.flags|=4)};function bu(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function h6(t,e,r){var n=e.pendingProps;switch(hC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return cn(e.type)&&km(),Nr(e),null;case 3:return n=e.stateNode,nc(),ft(ln),ft(Mr),BC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wi!==null&&(zx(wi),wi=null))),Mx(t,e),Nr(e),null;case 5:bC(e);var i=Yo(Wd.current);if(r=e.type,t!==null&&e.stateNode!=null)FQ(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return Nr(e),null}if(t=Yo(Hi.current),Kh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ji]=e,n[$d]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<Wu.length;i++)ut(Wu[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":HI(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":KI(n,s),ut("invalid",n)}fx(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Vh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Vh(n.textContent,o,t),i=["children",""+o]):Qd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":Qh(n),VI(n,s,!0);break;case"textarea":Qh(n),$I(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Pm)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sk(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ji]=e,t[$d]=n,TQ(t,e,!1,!1),e.stateNode=t;e:{switch(a=hx(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<Wu.length;i++)ut(Wu[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":HI(t,n),i=Ax(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ft({},n,{value:void 0}),ut("invalid",t);break;case"textarea":KI(t,n),i=ux(t,n),ut("invalid",t);break;default:i=n}fx(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var A=o[s];s==="style"?Ak(t,A):s==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&ak(t,A)):s==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&Od(t,A):typeof A=="number"&&Od(t,""+A):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qd.hasOwnProperty(s)?A!=null&&s==="onScroll"&&ut("scroll",t):A!=null&&ZB(t,s,A,a))}switch(r){case"input":Qh(t),VI(t,n,!1);break;case"textarea":Qh(t),$I(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ga(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?jl(t,!!n.multiple,s,!1):n.defaultValue!=null&&jl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)NQ(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Yo(Wd.current),Yo(Hi.current),Kh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ji]=e,(s=n.nodeValue!==r)&&(t=In,t!==null))switch(t.tag){case 3:Vh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=e,e.stateNode=n}return Nr(e),null;case 13:if(ft(It),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Bn!==null&&e.mode&1&&!(e.flags&128))Yk(),tc(),e.flags|=98560,s=!1;else if(s=Kh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[ji]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else wi!==null&&(zx(wi),wi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||It.current&1?Zt===0&&(Zt=3):QC())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return nc(),Mx(t,e),t===null&&Vd(e.stateNode.containerInfo),Nr(e),null;case 10:return vC(e.type._context),Nr(e),null;case 17:return cn(e.type)&&km(),Nr(e),null;case 19:if(ft(It),s=e.memoizedState,s===null)return Nr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)bu(s,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lm(t),a!==null){for(e.flags|=128,bu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return lt(It,It.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>sc&&(e.flags|=128,n=!0,bu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Lm(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!pt)return Nr(e),null}else 2*Ht()-s.renderingStartTime>sc&&r!==1073741824&&(e.flags|=128,n=!0,bu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,r=It.current,lt(It,n?r&1|2:r&1),e):(Nr(e),null);case 22:case 23:return kC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?yn&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function g6(t,e){switch(hC(e),e.tag){case 1:return cn(e.type)&&km(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nc(),ft(ln),ft(Mr),BC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bC(e),null;case 13:if(ft(It),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(It),null;case 4:return nc(),null;case 10:return vC(e.type._context),null;case 22:case 23:return kC(),null;case 24:return null;default:return null}}var Wh=!1,jr=!1,m6=typeof WeakSet=="function"?WeakSet:Set,me=null;function Sl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qt(t,e,n)}else r.current=null}function Lx(t,e,r){try{r()}catch(n){Qt(t,e,n)}}var kS=!1;function p6(t,e){if(Cx=Fm,t=Ok(),dC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,A=-1,l=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(o=a+i),d!==s||n!==0&&d.nodeType!==3||(A=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===r&&++l===i&&(o=a),f===s&&++c===n&&(A=a),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=o===-1||A===-1?null:{start:o,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ex={focusedElem:t,selectionRange:r},Fm=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,y=m.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?p:vi(e.type,p),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(S){Qt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return m=kS,kS=!1,m}function md(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lx(e,r,s)}i=i.next}while(i!==n)}}function B0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Hx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function UQ(t){var e=t.alternate;e!==null&&(t.alternate=null,UQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ji],delete e[$d],delete e[Sx],delete e[ZK],delete e[e6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PQ(t){return t.tag===5||t.tag===3||t.tag===4}function QS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Pm));else if(n!==4&&(t=t.child,t!==null))for(Vx(t,e,r),t=t.sibling;t!==null;)Vx(t,e,r),t=t.sibling}function Kx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kx(t,e,r),t=t.sibling;t!==null;)Kx(t,e,r),t=t.sibling}var wr=null,yi=!1;function sa(t,e,r){for(r=r.child;r!==null;)kQ(t,e,r),r=r.sibling}function kQ(t,e,r){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(g0,r)}catch{}switch(r.tag){case 5:jr||Sl(r,e);case 6:var n=wr,i=yi;wr=null,sa(t,e,r),wr=n,yi=i,wr!==null&&(yi?(t=wr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wr.removeChild(r.stateNode));break;case 18:wr!==null&&(yi?(t=wr,r=r.stateNode,t.nodeType===8?My(t.parentNode,r):t.nodeType===1&&My(t,r),Md(t)):My(wr,r.stateNode));break;case 4:n=wr,i=yi,wr=r.stateNode.containerInfo,yi=!0,sa(t,e,r),wr=n,yi=i;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Lx(r,e,a),i=i.next}while(i!==n)}sa(t,e,r);break;case 1:if(!jr&&(Sl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Qt(r,e,o)}sa(t,e,r);break;case 21:sa(t,e,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,sa(t,e,r),jr=n):sa(t,e,r);break;default:sa(t,e,r)}}function OS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new m6),e.forEach(function(n){var i=_6.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:wr=o.stateNode,yi=!1;break e;case 3:wr=o.stateNode.containerInfo,yi=!0;break e;case 4:wr=o.stateNode.containerInfo,yi=!0;break e}o=o.return}if(wr===null)throw Error(re(160));kQ(s,a,i),wr=null,yi=!1;var A=i.alternate;A!==null&&(A.return=null),i.return=null}catch(l){Qt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QQ(e,t),e=e.sibling}function QQ(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gi(e,t),Ui(t),n&4){try{md(3,t,t.return),B0(3,t)}catch(p){Qt(t,t.return,p)}try{md(5,t,t.return)}catch(p){Qt(t,t.return,p)}}break;case 1:gi(e,t),Ui(t),n&512&&r!==null&&Sl(r,r.return);break;case 5:if(gi(e,t),Ui(t),n&512&&r!==null&&Sl(r,r.return),t.flags&32){var i=t.stateNode;try{Od(i,"")}catch(p){Qt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&nk(i,s),hx(o,a);var l=hx(o,s);for(a=0;a<A.length;a+=2){var c=A[a],d=A[a+1];c==="style"?Ak(i,d):c==="dangerouslySetInnerHTML"?ak(i,d):c==="children"?Od(i,d):ZB(i,c,d,l)}switch(o){case"input":lx(i,s);break;case"textarea":ik(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?jl(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?jl(i,!!s.multiple,s.defaultValue,!0):jl(i,!!s.multiple,s.multiple?[]:"",!1))}i[$d]=s}catch(p){Qt(t,t.return,p)}}break;case 6:if(gi(e,t),Ui(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){Qt(t,t.return,p)}}break;case 3:if(gi(e,t),Ui(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Md(e.containerInfo)}catch(p){Qt(t,t.return,p)}break;case 4:gi(e,t),Ui(t);break;case 13:gi(e,t),Ui(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UC=Ht())),n&4&&OS(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(jr=(l=jr)||c,gi(e,t),jr=l):gi(e,t),Ui(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(d=me=c;me!==null;){switch(f=me,g=f.child,f.tag){case 0:case 11:case 14:case 15:md(4,f,f.return);break;case 1:Sl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){Qt(n,r,p)}}break;case 5:Sl(f,f.return);break;case 22:if(f.memoizedState!==null){DS(d);continue}}g!==null?(g.return=f,me=g):DS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,A=d.memoizedProps.style,a=A!=null&&A.hasOwnProperty("display")?A.display:null,o.style.display=ok("display",a))}catch(p){Qt(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(p){Qt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gi(e,t),Ui(t),n&4&&OS(t);break;case 21:break;default:gi(e,t),Ui(t)}}function Ui(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(PQ(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Od(i,""),n.flags&=-33);var s=QS(t);Kx(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=QS(t);Vx(t,o,a);break;default:throw Error(re(161))}}catch(A){Qt(t,t.return,A)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v6(t,e,r){me=t,OQ(t)}function OQ(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Wh;if(!a){var o=i.alternate,A=o!==null&&o.memoizedState!==null||jr;o=Wh;var l=jr;if(Wh=a,(jr=A)&&!l)for(me=i;me!==null;)a=me,A=a.child,a.tag===22&&a.memoizedState!==null?RS(i):A!==null?(A.return=a,me=A):RS(i);for(;s!==null;)me=s,OQ(s),s=s.sibling;me=i,Wh=o,jr=l}jS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):jS(t)}}function jS(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jr||B0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xS(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xS(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var A=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Md(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}jr||e.flags&512&&Hx(e)}catch(f){Qt(e,e.return,f)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function DS(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function RS(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{B0(4,e)}catch(A){Qt(e,r,A)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(A){Qt(e,i,A)}}var s=e.return;try{Hx(e)}catch(A){Qt(e,s,A)}break;case 5:var a=e.return;try{Hx(e)}catch(A){Qt(e,a,A)}}}catch(A){Qt(e,e.return,A)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var y6=Math.ceil,Km=$s.ReactCurrentDispatcher,FC=$s.ReactCurrentOwner,si=$s.ReactCurrentBatchConfig,Ke=0,gr=null,Wt=null,_r=0,yn=0,Tl=oo(0),Zt=0,qd=null,gA=0,C0=0,NC=0,pd=null,sn=null,UC=0,sc=1/0,os=null,$m=!1,$x=null,Pa=null,zh=!1,ba=null,Gm=0,vd=0,Gx=null,nm=-1,im=0;function Wr(){return Ke&6?Ht():nm!==-1?nm:nm=Ht()}function ka(t){return t.mode&1?Ke&2&&_r!==0?_r&-_r:r6.transition!==null?(im===0&&(im=wk()),im):(t=Je,t!==0||(t=window.event,t=t===void 0?16:Ik(t.type)),t):1}function _i(t,e,r,n){if(50<vd)throw vd=0,Gx=null,Error(re(185));Ff(t,r,n),(!(Ke&2)||t!==gr)&&(t===gr&&(!(Ke&2)&&(C0|=r),Zt===4&&va(t,_r)),un(t,n),r===1&&Ke===0&&!(e.mode&1)&&(sc=Ht()+500,w0&&Ao()))}function un(t,e){var r=t.callbackNode;rK(t,e);var n=Tm(t,t===gr?_r:0);if(n===0)r!==null&&zI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zI(r),e===1)t.tag===0?t6(MS.bind(null,t)):Gk(MS.bind(null,t)),qK(function(){!(Ke&6)&&Ao()}),r=null;else{switch(xk(n)){case 1:r=iC;break;case 4:r=vk;break;case 16:r=Sm;break;case 536870912:r=yk;break;default:r=Sm}r=KQ(r,jQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jQ(t,e){if(nm=-1,im=0,Ke&6)throw Error(re(327));var r=t.callbackNode;if(Hl()&&t.callbackNode!==r)return null;var n=Tm(t,t===gr?_r:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Wm(t,n);else{e=n;var i=Ke;Ke|=2;var s=RQ();(gr!==t||_r!==e)&&(os=null,sc=Ht()+500,rA(t,e));do try{b6();break}catch(o){DQ(t,o)}while(!0);pC(),Km.current=s,Ke=i,Wt!==null?e=0:(gr=null,_r=0,e=Zt)}if(e!==0){if(e===2&&(i=yx(t),i!==0&&(n=i,e=Wx(t,i))),e===1)throw r=qd,rA(t,0),va(t,n),un(t,Ht()),r;if(e===6)va(t,n);else{if(i=t.current.alternate,!(n&30)&&!w6(i)&&(e=Wm(t,n),e===2&&(s=yx(t),s!==0&&(n=s,e=Wx(t,s))),e===1))throw r=qd,rA(t,0),va(t,n),un(t,Ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:ko(t,sn,os);break;case 3:if(va(t,n),(n&130023424)===n&&(e=UC+500-Ht(),10<e)){if(Tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ix(ko.bind(null,t,sn,os),e);break}ko(t,sn,os);break;case 4:if(va(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ei(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y6(n/1960))-n,10<n){t.timeoutHandle=Ix(ko.bind(null,t,sn,os),n);break}ko(t,sn,os);break;case 5:ko(t,sn,os);break;default:throw Error(re(329))}}}return un(t,Ht()),t.callbackNode===r?jQ.bind(null,t):null}function Wx(t,e){var r=pd;return t.current.memoizedState.isDehydrated&&(rA(t,e).flags|=256),t=Wm(t,e),t!==2&&(e=sn,sn=r,e!==null&&zx(e)),t}function zx(t){sn===null?sn=t:sn.push.apply(sn,t)}function w6(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ii(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function va(t,e){for(e&=~NC,e&=~C0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ei(e),n=1<<r;t[r]=-1,e&=~n}}function MS(t){if(Ke&6)throw Error(re(327));Hl();var e=Tm(t,0);if(!(e&1))return un(t,Ht()),null;var r=Wm(t,e);if(t.tag!==0&&r===2){var n=yx(t);n!==0&&(e=n,r=Wx(t,n))}if(r===1)throw r=qd,rA(t,0),va(t,e),un(t,Ht()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ko(t,sn,os),un(t,Ht()),null}function PC(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(sc=Ht()+500,w0&&Ao())}}function mA(t){ba!==null&&ba.tag===0&&!(Ke&6)&&Hl();var e=Ke;Ke|=1;var r=si.transition,n=Je;try{if(si.transition=null,Je=1,t)return t()}finally{Je=n,si.transition=r,Ke=e,!(Ke&6)&&Ao()}}function kC(){yn=Tl.current,ft(Tl)}function rA(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,XK(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(hC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&km();break;case 3:nc(),ft(ln),ft(Mr),BC();break;case 5:bC(n);break;case 4:nc();break;case 13:ft(It);break;case 19:ft(It);break;case 10:vC(n.type._context);break;case 22:case 23:kC()}r=r.return}if(gr=t,Wt=t=Qa(t.current,null),_r=yn=e,Zt=0,qd=null,NC=C0=gA=0,sn=pd=null,zo!==null){for(e=0;e<zo.length;e++)if(r=zo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}zo=null}return t}function DQ(t,e){do{var r=Wt;try{if(pC(),em.current=Vm,Hm){for(var n=St.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hm=!1}if(hA=0,fr=qt=St=null,gd=!1,zd=0,FC.current=null,r===null||r.return===null){Zt=1,qd=e,Wt=null;break}e:{var s=t,a=r.return,o=r,A=e;if(e=_r,o.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var l=A,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=IS(a);if(g!==null){g.flags&=-257,SS(g,a,o,s,e),g.mode&1&&_S(s,l,e),e=g,A=l;var m=e.updateQueue;if(m===null){var p=new Set;p.add(A),e.updateQueue=p}else m.add(A);break e}else{if(!(e&1)){_S(s,l,e),QC();break e}A=Error(re(426))}}else if(pt&&o.mode&1){var y=IS(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),SS(y,a,o,s,e),gC(ic(A,o));break e}}s=A=ic(A,o),Zt!==4&&(Zt=2),pd===null?pd=[s]:pd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=xQ(s,A,e);wS(s,w);break e;case 1:o=A;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Pa===null||!Pa.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=bQ(s,o,e);wS(s,S);break e}}s=s.return}while(s!==null)}LQ(r)}catch(T){e=T,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function RQ(){var t=Km.current;return Km.current=Vm,t===null?Vm:t}function QC(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),gr===null||!(gA&268435455)&&!(C0&268435455)||va(gr,_r)}function Wm(t,e){var r=Ke;Ke|=2;var n=RQ();(gr!==t||_r!==e)&&(os=null,rA(t,e));do try{x6();break}catch(i){DQ(t,i)}while(!0);if(pC(),Ke=r,Km.current=n,Wt!==null)throw Error(re(261));return gr=null,_r=0,Zt}function x6(){for(;Wt!==null;)MQ(Wt)}function b6(){for(;Wt!==null&&!WV();)MQ(Wt)}function MQ(t){var e=VQ(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?LQ(t):Wt=e,FC.current=null}function LQ(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=g6(r,e),r!==null){r.flags&=32767,Wt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Wt=null;return}}else if(r=h6(r,e,yn),r!==null){Wt=r;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Zt===0&&(Zt=5)}function ko(t,e,r){var n=Je,i=si.transition;try{si.transition=null,Je=1,B6(t,e,r,n)}finally{si.transition=i,Je=n}return null}function B6(t,e,r,n){do Hl();while(ba!==null);if(Ke&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nK(t,s),t===gr&&(Wt=gr=null,_r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zh||(zh=!0,KQ(Sm,function(){return Hl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=si.transition,si.transition=null;var a=Je;Je=1;var o=Ke;Ke|=4,FC.current=null,p6(t,r),QQ(r,t),VK(Ex),Fm=!!Cx,Ex=Cx=null,t.current=r,v6(r),zV(),Ke=o,Je=a,si.transition=s}else t.current=r;if(zh&&(zh=!1,ba=t,Gm=i),s=t.pendingLanes,s===0&&(Pa=null),qV(r.stateNode),un(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($m)throw $m=!1,t=$x,$x=null,t;return Gm&1&&t.tag!==0&&Hl(),s=t.pendingLanes,s&1?t===Gx?vd++:(vd=0,Gx=t):vd=0,Ao(),null}function Hl(){if(ba!==null){var t=xk(Gm),e=si.transition,r=Je;try{if(si.transition=null,Je=16>t?16:t,ba===null)var n=!1;else{if(t=ba,ba=null,Gm=0,Ke&6)throw Error(re(331));var i=Ke;for(Ke|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var A=0;A<o.length;A++){var l=o[A];for(me=l;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:md(8,c,s)}var d=c.child;if(d!==null)d.return=c,me=d;else for(;me!==null;){c=me;var f=c.sibling,g=c.return;if(UQ(c),c===l){me=null;break}if(f!==null){f.return=g,me=f;break}me=g}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:md(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,me=w;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,me=x;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:B0(9,o)}}catch(T){Qt(o,o.return,T)}if(o===a){me=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,me=S;break e}me=o.return}}if(Ke=i,Ao(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(g0,t)}catch{}n=!0}return n}finally{Je=r,si.transition=e}}return!1}function LS(t,e,r){e=ic(r,e),e=xQ(t,e,1),t=Ua(t,e,1),e=Wr(),t!==null&&(Ff(t,1,e),un(t,e))}function Qt(t,e,r){if(t.tag===3)LS(t,t,r);else for(;e!==null;){if(e.tag===3){LS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pa===null||!Pa.has(n))){t=ic(r,t),t=bQ(e,t,1),e=Ua(e,t,1),t=Wr(),e!==null&&(Ff(e,1,t),un(e,t));break}}e=e.return}}function C6(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&r,gr===t&&(_r&r)===r&&(Zt===4||Zt===3&&(_r&130023424)===_r&&500>Ht()-UC?rA(t,0):NC|=r),un(t,e)}function HQ(t,e){e===0&&(t.mode&1?(e=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):e=1);var r=Wr();t=ks(t,e),t!==null&&(Ff(t,e,r),un(t,r))}function E6(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),HQ(t,r)}function _6(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),HQ(t,r)}var VQ;VQ=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)on=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return on=!1,f6(t,e,r);on=!!(t.flags&131072)}else on=!1,pt&&e.flags&1048576&&Wk(e,jm,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;rm(t,e),t=e.pendingProps;var i=ec(e,Mr.current);Ll(e,r),i=EC(null,e,n,t,i,r);var s=_C();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(n)?(s=!0,Qm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wC(e),i.updater=b0,e.stateNode=i,i._reactInternals=e,kx(e,n,t,r),e=jx(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&fC(e),Kr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(rm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=S6(n),t=vi(n,t),i){case 0:e=Ox(null,e,n,t,r);break e;case 1:e=NS(null,e,n,t,r);break e;case 11:e=TS(null,e,n,t,r);break e;case 14:e=FS(null,e,n,vi(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),Ox(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),NS(t,e,n,i,r);case 3:e:{if(_Q(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Zk(t,e),Mm(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ic(Error(re(423)),e),e=US(t,e,n,r,i);break e}else if(n!==i){i=ic(Error(re(424)),e),e=US(t,e,n,r,i);break e}else for(Bn=Na(e.stateNode.containerInfo.firstChild),In=e,pt=!0,wi=null,r=qk(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tc(),n===i){e=Qs(t,e,r);break e}Kr(t,e,n,r)}e=e.child}return e;case 5:return eQ(e),t===null&&Nx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,_x(n,i)?a=null:s!==null&&_x(n,s)&&(e.flags|=32),EQ(t,e),Kr(t,e,a,r),e.child;case 6:return t===null&&Nx(e),null;case 13:return IQ(t,e,r);case 4:return xC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rc(e,null,n,r):Kr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),TS(t,e,n,i,r);case 7:return Kr(t,e,e.pendingProps,r),e.child;case 8:return Kr(t,e,e.pendingProps.children,r),e.child;case 12:return Kr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,lt(Dm,n._currentValue),n._currentValue=a,s!==null)if(Ii(s.value,a)){if(s.children===i.children&&!ln.current){e=Qs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var A=o.firstContext;A!==null;){if(A.context===n){if(s.tag===1){A=Is(-1,r&-r),A.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?A.next=A:(A.next=c.next,c.next=A),l.pending=A}}s.lanes|=r,A=s.alternate,A!==null&&(A.lanes|=r),Ux(s.return,r,e),o.lanes|=r;break}A=A.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(re(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ux(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Kr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ll(e,r),i=Ai(i),n=n(i),e.flags|=1,Kr(t,e,n,r),e.child;case 14:return n=e.type,i=vi(n,e.pendingProps),i=vi(n.type,i),FS(t,e,n,i,r);case 15:return BQ(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),rm(t,e),e.tag=1,cn(n)?(t=!0,Qm(e)):t=!1,Ll(e,r),wQ(e,n,i),kx(e,n,i,r),jx(null,e,n,!0,t,r);case 19:return SQ(t,e,r);case 22:return CQ(t,e,r)}throw Error(re(156,e.tag))};function KQ(t,e){return pk(t,e)}function I6(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,r,n){return new I6(t,e,r,n)}function OC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S6(t){if(typeof t=="function")return OC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tC)return 11;if(t===rC)return 14}return 2}function Qa(t,e){var r=t.alternate;return r===null?(r=qn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function sm(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")OC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case yl:return nA(r.children,i,s,e);case eC:a=8,i|=8;break;case ix:return t=qn(12,r,e,i|2),t.elementType=ix,t.lanes=s,t;case sx:return t=qn(13,r,e,i),t.elementType=sx,t.lanes=s,t;case ax:return t=qn(19,r,e,i),t.elementType=ax,t.lanes=s,t;case ek:return E0(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case JP:a=10;break e;case ZP:a=9;break e;case tC:a=11;break e;case rC:a=14;break e;case fa:a=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=qn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function nA(t,e,r,n){return t=qn(7,t,n,e),t.lanes=r,t}function E0(t,e,r,n){return t=qn(22,t,n,e),t.elementType=ek,t.lanes=r,t.stateNode={isHidden:!1},t}function zy(t,e,r){return t=qn(6,t,null,e),t.lanes=r,t}function Yy(t,e,r){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T6(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jC(t,e,r,n,i,s,a,o,A){return t=new T6(t,e,r,o,A),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wC(s),t}function F6(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function $Q(t){if(!t)return Wa;t=t._reactInternals;e:{if(FA(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(cn(r))return $k(t,r,e)}return e}function GQ(t,e,r,n,i,s,a,o,A){return t=jC(r,n,!0,t,i,s,a,o,A),t.context=$Q(null),r=t.current,n=Wr(),i=ka(r),s=Is(n,i),s.callback=e??null,Ua(r,s,i),t.current.lanes=i,Ff(t,i,n),un(t,n),t}function _0(t,e,r,n){var i=e.current,s=Wr(),a=ka(i);return r=$Q(r),e.context===null?e.context=r:e.pendingContext=r,e=Is(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ua(i,e,a),t!==null&&(_i(t,i,a,s),Zg(t,i,a)),a}function zm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function HS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function DC(t,e){HS(t,e),(t=t.alternate)&&HS(t,e)}var WQ=typeof reportError=="function"?reportError:function(t){console.error(t)};function RC(t){this._internalRoot=t}I0.prototype.render=RC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));_0(t,e,null,null)};I0.prototype.unmount=RC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mA(function(){_0(null,t,null,null)}),e[Ps]=null}};function I0(t){this._internalRoot=t}I0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ck();t={blockedOn:null,target:t,priority:e};for(var r=0;r<pa.length&&e!==0&&e<pa[r].priority;r++);pa.splice(r,0,t),r===0&&_k(t)}};function MC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VS(){}function N6(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=zm(a);s.call(l)}}var a=GQ(e,n,t,0,null,!1,!1,"",VS);return t._reactRootContainer=a,t[Ps]=a.current,Vd(t.nodeType===8?t.parentNode:t),mA(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var l=zm(A);o.call(l)}}var A=jC(t,0,!1,null,null,!1,!1,"",VS);return t._reactRootContainer=A,t[Ps]=A.current,Vd(t.nodeType===8?t.parentNode:t),mA(function(){_0(e,A,r,n)}),A}function T0(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var A=zm(a);o.call(A)}}_0(e,a,t,i)}else a=N6(r,e,t,i,n);return zm(a)}bk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gu(e.pendingLanes);r!==0&&(sC(e,r|1),un(e,Ht()),!(Ke&6)&&(sc=Ht()+500,Ao()))}break;case 13:mA(function(){var n=ks(t,1);if(n!==null){var i=Wr();_i(n,t,1,i)}}),DC(t,1)}};aC=function(t){if(t.tag===13){var e=ks(t,134217728);if(e!==null){var r=Wr();_i(e,t,134217728,r)}DC(t,134217728)}};Bk=function(t){if(t.tag===13){var e=ka(t),r=ks(t,e);if(r!==null){var n=Wr();_i(r,t,e,n)}DC(t,e)}};Ck=function(){return Je};Ek=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}};mx=function(t,e,r){switch(e){case"input":if(lx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=y0(n);if(!i)throw Error(re(90));rk(n),lx(n,i)}}}break;case"textarea":ik(t,r);break;case"select":e=r.value,e!=null&&jl(t,!!r.multiple,e,!1)}};uk=PC;dk=mA;var U6={usingClientEntryPoint:!1,Events:[Uf,Bl,y0,lk,ck,PC]},Bu={findFiberByHostInstance:Wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P6={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gk(t),t===null?null:t.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{g0=Yh.inject(P6),Li=Yh}catch{}}Qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U6;Qn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!MC(e))throw Error(re(200));return F6(t,e,null,r)};Qn.createRoot=function(t,e){if(!MC(t))throw Error(re(299));var r=!1,n="",i=WQ;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jC(t,1,!1,null,null,r,!1,n,i),t[Ps]=e.current,Vd(t.nodeType===8?t.parentNode:t),new RC(e)};Qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=gk(e),t=t===null?null:t.stateNode,t};Qn.flushSync=function(t){return mA(t)};Qn.hydrate=function(t,e,r){if(!S0(e))throw Error(re(200));return T0(null,t,e,!0,r)};Qn.hydrateRoot=function(t,e,r){if(!MC(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=WQ;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=GQ(e,null,t,1,r??null,i,!1,s,a),t[Ps]=e.current,Vd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new I0(e)};Qn.render=function(t,e,r){if(!S0(e))throw Error(re(200));return T0(null,t,e,!1,r)};Qn.unmountComponentAtNode=function(t){if(!S0(t))throw Error(re(40));return t._reactRootContainer?(mA(function(){T0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ps]=null})}),!0):!1};Qn.unstable_batchedUpdates=PC;Qn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!S0(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return T0(t,e,r,!1,n)};Qn.version="18.3.1-next-f1338f8080-20240426";function zQ(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zQ)}catch(t){console.error(t)}}zQ(),zP.exports=Qn;var LC=zP.exports,KS=LC;rx.createRoot=KS.createRoot,rx.hydrateRoot=KS.hydrateRoot;const k6="modulepreload",Q6=function(t){return"/Brainless/"+t},$S={},Cn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(A=>{if(A=Q6(A),A in $S)return;$S[A]=!0;const l=A.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${c}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":k6,l||(d.as="script"),d.crossOrigin="",d.href=A,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jd.apply(this,arguments)}var Ba;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ba||(Ba={}));const GS="popstate";function O6(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:A=""}=NA(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),Yx("",{pathname:a,search:o,hash:A},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let A=i.location.href,l=A.indexOf("#");o=l===-1?A:A.slice(0,l)}return o+"#"+(typeof s=="string"?s:Ym(s))}function n(i,s){HC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return D6(e,r,n,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j6(){return Math.random().toString(36).substr(2,8)}function WS(t,e){return{usr:t.state,key:t.key,idx:e}}function Yx(t,e,r,n){return r===void 0&&(r=null),Jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?NA(e):e,{state:r,key:e&&e.key||n||j6()})}function Ym(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function NA(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function D6(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ba.Pop,A=null,l=c();l==null&&(l=0,a.replaceState(Jd({},a.state,{idx:l}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=Ba.Pop;let y=c(),w=y==null?null:y-l;l=y,A&&A({action:o,location:p.location,delta:w})}function f(y,w){o=Ba.Push;let v=Yx(p.location,y,w);r(v,y),l=c()+1;let x=WS(v,l),S=p.createHref(v);try{a.pushState(x,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&A&&A({action:o,location:p.location,delta:1})}function g(y,w){o=Ba.Replace;let v=Yx(p.location,y,w);r(v,y),l=c();let x=WS(v,l),S=p.createHref(v);a.replaceState(x,"",S),s&&A&&A({action:o,location:p.location,delta:0})}function m(y){let w=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Ym(y);return v=v.replace(/ $/,"%20"),Tt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let p={get action(){return o},get location(){return t(i,a)},listen(y){if(A)throw new Error("A history only accepts one active listener");return i.addEventListener(GS,d),A=y,()=>{i.removeEventListener(GS,d),A=null}},createHref(y){return e(i,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:g,go(y){return a.go(y)}};return p}var zS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zS||(zS={}));function R6(t,e,r){return r===void 0&&(r="/"),M6(t,e,r)}function M6(t,e,r,n){let i=typeof e=="string"?NA(e):e,s=ac(i.pathname||"/",r);if(s==null)return null;let a=YQ(t);L6(a);let o=null;for(let A=0;o==null&&A<a.length;++A){let l=J6(s);o=X6(a[A],l)}return o}function YQ(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let A={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};A.relativePath.startsWith("/")&&(Tt(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let l=Oa([n,A.relativePath]),c=r.concat(A);s.children&&s.children.length>0&&(Tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),YQ(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:z6(l,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let A of XQ(s.path))i(s,a,A)}),e}function XQ(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=XQ(n.join("/")),o=[];return o.push(...a.map(A=>A===""?s:[s,A].join("/"))),i&&o.push(...a),o.map(A=>t.startsWith("/")&&A===""?"/":A)}function L6(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Y6(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const H6=/^:[\w-]+$/,V6=3,K6=2,$6=1,G6=10,W6=-2,YS=t=>t==="*";function z6(t,e){let r=t.split("/"),n=r.length;return r.some(YS)&&(n+=W6),e&&(n+=K6),r.filter(i=>!YS(i)).reduce((i,s)=>i+(H6.test(s)?V6:s===""?$6:G6),n)}function Y6(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function X6(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let A=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Xx({path:A.relativePath,caseSensitive:A.caseSensitive,end:l},c),f=A.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Oa([s,d.pathname]),pathnameBase:r$(Oa([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Oa([s,d.pathnameBase]))}return a}function Xx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=q6(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((l,c,d)=>{let{paramName:f,isOptional:g}=c;if(f==="*"){let p=o[d]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:a,pattern:t}}function q6(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),HC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,A)=>(n.push({paramName:o,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function J6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ac(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Z6(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?NA(t):t;return{pathname:r?r.startsWith("/")?r:e$(r,e):e,search:n$(n),hash:i$(i)}}function e$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Xy(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function VC(t,e){let r=t$(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function KC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=NA(t):(i=Jd({},t),Tt(!i.pathname||!i.pathname.includes("?"),Xy("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Xy("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Xy("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let A=Z6(i,o),l=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(l||c)&&(A.pathname+="/"),A}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),r$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function s$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qQ=["post","put","patch","delete"];new Set(qQ);const a$=["get",...qQ];new Set(a$);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zd.apply(this,arguments)}const F0=b.createContext(null),JQ=b.createContext(null),Gs=b.createContext(null),N0=b.createContext(null),lo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ZQ=b.createContext(null);function o$(t,e){let{relative:r}=e===void 0?{}:e;kc()||Tt(!1);let{basename:n,navigator:i}=b.useContext(Gs),{hash:s,pathname:a,search:o}=U0(t,{relative:r}),A=a;return n!=="/"&&(A=a==="/"?n:Oa([n,a])),i.createHref({pathname:A,search:o,hash:s})}function kc(){return b.useContext(N0)!=null}function Qc(){return kc()||Tt(!1),b.useContext(N0).location}function e4(t){b.useContext(Gs).static||b.useLayoutEffect(t)}function t4(){let{isDataRoute:t}=b.useContext(lo);return t?w$():A$()}function A$(){kc()||Tt(!1);let t=b.useContext(F0),{basename:e,future:r,navigator:n}=b.useContext(Gs),{matches:i}=b.useContext(lo),{pathname:s}=Qc(),a=JSON.stringify(VC(i,r.v7_relativeSplatPath)),o=b.useRef(!1);return e4(()=>{o.current=!0}),b.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=KC(l,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oa([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,a,s,t])}function U0(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Gs),{matches:i}=b.useContext(lo),{pathname:s}=Qc(),a=JSON.stringify(VC(i,n.v7_relativeSplatPath));return b.useMemo(()=>KC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function l$(t,e){return c$(t,e)}function c$(t,e,r,n){kc()||Tt(!1);let{navigator:i}=b.useContext(Gs),{matches:s}=b.useContext(lo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let A=a?a.pathnameBase:"/";a&&a.route;let l=Qc(),c;if(e){var d;let y=typeof e=="string"?NA(e):e;A==="/"||(d=y.pathname)!=null&&d.startsWith(A)||Tt(!1),c=y}else c=l;let f=c.pathname||"/",g=f;if(A!=="/"){let y=A.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=R6(t,{pathname:g}),p=g$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:Oa([A,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?A:Oa([A,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return e&&p?b.createElement(N0.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ba.Pop}},p):p}function u$(){let t=y$(),e=s$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const d$=b.createElement(u$,null);class f$ extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(lo.Provider,{value:this.props.routeContext},b.createElement(ZQ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h$(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(F0);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(lo.Provider,{value:e},n)}function g$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||Tt(!1),a=a.slice(0,Math.min(a.length,c+1))}let A=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:g}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){A=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,d,f)=>{let g,m=!1,p=null,y=null;r&&(g=o&&d.route.id?o[d.route.id]:void 0,p=d.route.errorElement||d$,A&&(l<0&&f===0?(m=!0,y=null):l===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),v=()=>{let x;return g?x=p:m?x=y:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=c,b.createElement(h$,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(f$,{location:r.location,revalidation:r.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var r4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(r4||{}),Xm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xm||{});function m$(t){let e=b.useContext(F0);return e||Tt(!1),e}function p$(t){let e=b.useContext(JQ);return e||Tt(!1),e}function v$(t){let e=b.useContext(lo);return e||Tt(!1),e}function n4(t){let e=v$(),r=e.matches[e.matches.length-1];return r.route.id||Tt(!1),r.route.id}function y$(){var t;let e=b.useContext(ZQ),r=p$(Xm.UseRouteError),n=n4(Xm.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function w$(){let{router:t}=m$(r4.UseNavigateStable),e=n4(Xm.UseNavigateStable),r=b.useRef(!1);return e4(()=>{r.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zd({fromRouteId:e},s)))},[t,e])}const XS={};function x$(t,e){XS[e]||(XS[e]=!0,console.warn(e))}const qS=(t,e,r)=>x$(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function b$(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&qS("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&qS("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function B$(t){let{to:e,replace:r,state:n,relative:i}=t;kc()||Tt(!1);let{future:s,static:a}=b.useContext(Gs),{matches:o}=b.useContext(lo),{pathname:A}=Qc(),l=t4(),c=KC(e,VC(o,s.v7_relativeSplatPath),A,i==="path"),d=JSON.stringify(c);return b.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Hn(t){Tt(!1)}function C$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ba.Pop,navigator:s,static:a=!1,future:o}=t;kc()&&Tt(!1);let A=e.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:A,navigator:s,static:a,future:Zd({v7_relativeSplatPath:!1},o)}),[A,o,s,a]);typeof n=="string"&&(n=NA(n));let{pathname:c="/",search:d="",hash:f="",state:g=null,key:m="default"}=n,p=b.useMemo(()=>{let y=ac(c,A);return y==null?null:{location:{pathname:y,search:d,hash:f,state:g,key:m},navigationType:i}},[A,c,d,f,g,m,i]);return p==null?null:b.createElement(Gs.Provider,{value:l},b.createElement(N0.Provider,{children:r,value:p}))}function E$(t){let{children:e,location:r}=t;return l$(qx(e),r)}new Promise(()=>{});function qx(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let s=[...e,i];if(n.type===b.Fragment){r.push.apply(r,qx(n.props.children,s));return}n.type!==Hn&&Tt(!1),!n.props.index||!n.props.children||Tt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=qx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qm.apply(this,arguments)}function i4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function _$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I$(t,e){return t.button===0&&(!e||e==="_self")&&!_$(t)}const S$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],F$="6";try{window.__reactRouterVersion=F$}catch{}const N$=b.createContext({isTransitioning:!1}),U$="startTransition",JS=GP[U$];function P$(t){let{basename:e,children:r,future:n,window:i}=t,s=b.useRef();s.current==null&&(s.current=O6({window:i,v5Compat:!0}));let a=s.current,[o,A]=b.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},c=b.useCallback(d=>{l&&JS?JS(()=>A(d)):A(d)},[A,l]);return b.useLayoutEffect(()=>a.listen(c),[a,c]),b.useEffect(()=>b$(n),[n]),b.createElement(C$,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const k$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Q$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O$=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:A,to:l,preventScrollReset:c,viewTransition:d}=e,f=i4(e,S$),{basename:g}=b.useContext(Gs),m,p=!1;if(typeof l=="string"&&Q$.test(l)&&(m=l,k$))try{let x=new URL(window.location.href),S=l.startsWith("//")?new URL(x.protocol+l):new URL(l),T=ac(S.pathname,g);S.origin===x.origin&&T!=null?l=T+S.search+S.hash:p=!0}catch{}let y=o$(l,{relative:i}),w=R$(l,{replace:a,state:o,target:A,preventScrollReset:c,relative:i,viewTransition:d});function v(x){n&&n(x),x.defaultPrevented||w(x)}return b.createElement("a",qm({},f,{href:m||y,onClick:p||s?n:v,ref:r,target:A}))}),j$=b.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:A,viewTransition:l,children:c}=e,d=i4(e,T$),f=U0(A,{relative:d.relative}),g=Qc(),m=b.useContext(JQ),{navigator:p,basename:y}=b.useContext(Gs),w=m!=null&&M$(f)&&l===!0,v=p.encodeLocation?p.encodeLocation(f).pathname:f.pathname,x=g.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&y&&(S=ac(S,y)||S);const T=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let I=x===v||!a&&x.startsWith(v)&&x.charAt(T)==="/",C=S!=null&&(S===v||!a&&S.startsWith(v)&&S.charAt(v.length)==="/"),E={isActive:I,isPending:C,isTransitioning:w},F=I?n:void 0,N;typeof s=="function"?N=s(E):N=[s,I?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(E):o;return b.createElement(O$,qm({},d,{"aria-current":F,className:N,ref:r,style:k,to:A,viewTransition:l}),typeof c=="function"?c(E):c)});var Jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jx||(Jx={}));var ZS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZS||(ZS={}));function D$(t){let e=b.useContext(F0);return e||Tt(!1),e}function R$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,A=t4(),l=Qc(),c=U0(t,{relative:a});return b.useCallback(d=>{if(I$(d,r)){d.preventDefault();let f=n!==void 0?n:Ym(l)===Ym(c);A(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[l,A,c,n,i,r,t,s,a,o])}function M$(t,e){e===void 0&&(e={});let r=b.useContext(N$);r==null&&Tt(!1);let{basename:n}=D$(Jx.useViewTransitionState),i=U0(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=ac(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=ac(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Xx(i.pathname,a)!=null||Xx(i.pathname,s)!=null}function L$(){const[t,e]=b.useState(null),[r,n]=b.useState(null),[i,s]=b.useState(null);b.useEffect(()=>{const A=setInterval(()=>{const l=new Date,c=l.getHours(),d=l.getMinutes(),f=c*60+d,g=4*60+30,m=13*60,p=21*60+30;let y=null;f>=g&&f<m?(y=m-f,n("workEnd"),s("morning")):f>=m&&f<p?(y=p-f,n("workEnd"),s("afternoon")):(f<g?y=g-f:y=1440-f+g,n("workStart"),s("morning")),e(y)},1e3);return()=>clearInterval(A)},[]);const a=A=>A===null?"text-text-secondary":A<=30?"text-red-400 bg-red-400/10 ring-1 ring-red-400":A<=120?"text-orange-400 bg-orange-400/10 ring-1 ring-orange-400":"text-primary bg-primary/10 ring-1 ring-primary",o=A=>{if(A===null)return"";const l=Math.floor(A/60),c=A%60;return`${l}小時 ${c}分鐘`};return u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("span",{className:"text-text-secondary",children:r==="workEnd"?`${i==="morning"?"早班":"晚班"}離下班還有 `:"早班離上班還有 "}),u.jsx("span",{className:`
        font-medium px-3 py-1 rounded-full
        ${a(t)}
        transition-all duration-300
      `,children:o(t)})]})}var e2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},H$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],A=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(A&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},a4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,A=i+2<t.length,l=A?t[i+2]:0,c=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|l>>6,g=l&63;A||(g=64,a||(f=64)),n.push(r[c],r[d],r[f],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const l=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||l==null||d==null)throw new V$;const f=s<<2|o>>4;if(n.push(f),l!==64){const g=o<<4&240|l>>2;if(n.push(g),d!==64){const m=l<<6&192|d;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K$=function(t){const e=s4(t);return a4.encodeByteArray(e,!0)},Jm=function(t){return K$(t).replace(/\./g,"")},o4=function(t){try{return a4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=()=>$$().__FIREBASE_DEFAULTS__,W$=()=>{if(typeof process>"u"||typeof e2>"u")return;const t=e2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&o4(t[1]);return e&&JSON.parse(e)},P0=()=>{try{return G$()||W$()||z$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A4=t=>{var e,r;return(r=(e=P0())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Y$=t=>{const e=A4(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},l4=()=>{var t;return(t=P0())===null||t===void 0?void 0:t.config},c4=t=>{var e;return(e=P0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jm(JSON.stringify(r)),Jm(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function Z$(){var t;const e=(t=P0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n8(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u4(){return!Z$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d4(){try{return typeof indexedDB=="object"}catch{return!1}}function i8(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="FirebaseError";class Ws extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=s8,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kf.prototype.create)}}class kf{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?a8(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ws(i,o,n)}}function a8(t,e){return t.replace(o8,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const o8=/\{\$([^}]+)}/g;function A8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zm(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(t2(s)&&t2(a)){if(!Zm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function t2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function zu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function l8(t,e){const r=new c8(t,e);return r.subscribe.bind(r)}class c8{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");u8(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=qy),i.error===void 0&&(i.error=qy),i.complete===void 0&&(i.complete=qy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u8(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t&&t._delegate?t._delegate:t}class pA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d8=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new X$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h8(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:f8(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function f8(t){return t===Qo?void 0:t}function h8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new d8(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const m8={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},p8=Re.INFO,v8={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},y8=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=v8[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let $C=class{constructor(e){this.name=e,this._logLevel=p8,this._logHandler=y8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}};const w8=(t,e)=>e.some(r=>t instanceof r);let r2,n2;function x8(){return r2||(r2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b8(){return n2||(n2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f4=new WeakMap,Zx=new WeakMap,h4=new WeakMap,Jy=new WeakMap,GC=new WeakMap;function B8(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(ja(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&f4.set(r,t)}).catch(()=>{}),GC.set(e,t),e}function C8(t){if(Zx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Zx.set(t,e)}let eb={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Zx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h4.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ja(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E8(t){eb=t(eb)}function _8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Zy(this),e,...r);return h4.set(n,e.sort?e.sort():[e]),ja(n)}:b8().includes(t)?function(...e){return t.apply(Zy(this),e),ja(f4.get(this))}:function(...e){return ja(t.apply(Zy(this),e))}}function I8(t){return typeof t=="function"?_8(t):(t instanceof IDBTransaction&&C8(t),w8(t,x8())?new Proxy(t,eb):t)}function ja(t){if(t instanceof IDBRequest)return B8(t);if(Jy.has(t))return Jy.get(t);const e=I8(t);return e!==t&&(Jy.set(t,e),GC.set(e,t)),e}const Zy=t=>GC.get(t);function S8(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ja(a);return n&&a.addEventListener("upgradeneeded",A=>{n(ja(a.result),A.oldVersion,A.newVersion,ja(a.transaction),A)}),r&&a.addEventListener("blocked",A=>r(A.oldVersion,A.newVersion,A)),o.then(A=>{s&&A.addEventListener("close",()=>s()),i&&A.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),o}const T8=["get","getKey","getAll","getAllKeys","count"],F8=["put","add","delete","clear"],ew=new Map;function i2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ew.get(e))return ew.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=F8.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||T8.includes(r)))return;const s=async function(a,...o){const A=this.transaction(a,i?"readwrite":"readonly");let l=A.store;return n&&(l=l.index(o.shift())),(await Promise.all([l[r](...o),i&&A.done]))[0]};return ew.set(e,s),s}E8(t=>({...t,get:(e,r,n)=>i2(e,r)||t.get(e,r,n),has:(e,r)=>!!i2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(U8(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function U8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const tb="@firebase/app",s2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new $C("@firebase/app"),P8="@firebase/app-compat",k8="@firebase/analytics-compat",Q8="@firebase/analytics",O8="@firebase/app-check-compat",j8="@firebase/app-check",D8="@firebase/auth",R8="@firebase/auth-compat",M8="@firebase/database",L8="@firebase/data-connect",H8="@firebase/database-compat",V8="@firebase/functions",K8="@firebase/functions-compat",$8="@firebase/installations",G8="@firebase/installations-compat",W8="@firebase/messaging",z8="@firebase/messaging-compat",Y8="@firebase/performance",X8="@firebase/performance-compat",q8="@firebase/remote-config",J8="@firebase/remote-config-compat",Z8="@firebase/storage",e9="@firebase/storage-compat",t9="@firebase/firestore",r9="@firebase/vertexai-preview",n9="@firebase/firestore-compat",i9="firebase",s9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="[DEFAULT]",a9={[tb]:"fire-core",[P8]:"fire-core-compat",[Q8]:"fire-analytics",[k8]:"fire-analytics-compat",[j8]:"fire-app-check",[O8]:"fire-app-check-compat",[D8]:"fire-auth",[R8]:"fire-auth-compat",[M8]:"fire-rtdb",[L8]:"fire-data-connect",[H8]:"fire-rtdb-compat",[V8]:"fire-fn",[K8]:"fire-fn-compat",[$8]:"fire-iid",[G8]:"fire-iid-compat",[W8]:"fire-fcm",[z8]:"fire-fcm-compat",[Y8]:"fire-perf",[X8]:"fire-perf-compat",[q8]:"fire-rc",[J8]:"fire-rc-compat",[Z8]:"fire-gcs",[e9]:"fire-gcs-compat",[t9]:"fire-fst",[n9]:"fire-fst-compat",[r9]:"fire-vertex","fire-js":"fire-js",[i9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,o9=new Map,nb=new Map;function a2(t,e){try{t.container.addComponent(e)}catch(r){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function oc(t){const e=t.name;if(nb.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;nb.set(e,t);for(const r of ef.values())a2(r,t);for(const r of o9.values())a2(r,t);return!0}function WC(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ws(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new kf("app","Firebase",A9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new pA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=s9;function g4(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:rb,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Da.create("bad-app-name",{appName:String(i)});if(r||(r=l4()),!r)throw Da.create("no-options");const s=ef.get(i);if(s){if(Zm(r,s.options)&&Zm(n,s.config))return s;throw Da.create("duplicate-app",{appName:i})}const a=new g8(i);for(const A of nb.values())a.addComponent(A);const o=new l9(r,n,a);return ef.set(i,o),o}function m4(t=rb){const e=ef.get(t);if(!e&&t===rb&&l4())return g4();if(!e)throw Da.create("no-app",{appName:t});return e}function o2(){return Array.from(ef.values())}function Ra(t,e,r){var n;let i=(n=a9[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(o.join(" "));return}oc(new pA(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="firebase-heartbeat-database",u9=1,tf="firebase-heartbeat-store";let tw=null;function p4(){return tw||(tw=S8(c9,u9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(r){console.warn(r)}}}}).catch(t=>{throw Da.create("idb-open",{originalErrorMessage:t.message})})),tw}async function d9(t){try{const r=(await p4()).transaction(tf),n=await r.objectStore(tf).get(v4(t));return await r.done,n}catch(e){if(e instanceof Ws)Os.warn(e.message);else{const r=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Os.warn(r.message)}}}async function A2(t,e){try{const n=(await p4()).transaction(tf,"readwrite");await n.objectStore(tf).put(e,v4(t)),await n.done}catch(r){if(r instanceof Ws)Os.warn(r.message);else{const n=Da.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Os.warn(n.message)}}}function v4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1024,h9=30*24*60*60*1e3;class g9{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new p9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=h9}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Os.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=l2(),{heartbeatsToSend:n,unsentEntries:i}=m9(this._heartbeatsCache.heartbeats),s=Jm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Os.warn(r),""}}}function l2(){return new Date().toISOString().substring(0,10)}function m9(t,e=f9){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),c2(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),c2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class p9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d4()?i8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await d9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return A2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return A2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function c2(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){oc(new pA("platform-logger",e=>new N8(e),"PRIVATE")),oc(new pA("heartbeat",e=>new g9(e),"PRIVATE")),Ra(tb,s2,t),Ra(tb,s2,"esm2017"),Ra("fire-js","")}v9("");var u2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iA,y4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function F(){}F.prototype=E.prototype,C.D=E.prototype,C.prototype=new F,C.prototype.constructor=C,C.C=function(N,k,Q){for(var P=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)P[oe-2]=arguments[oe];return E.prototype[k].apply(N,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,F){F||(F=0);var N=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)N[k]=E.charCodeAt(F++)|E.charCodeAt(F++)<<8|E.charCodeAt(F++)<<16|E.charCodeAt(F++)<<24;else for(k=0;16>k;++k)N[k]=E[F++]|E[F++]<<8|E[F++]<<16|E[F++]<<24;E=C.g[0],F=C.g[1],k=C.g[2];var Q=C.g[3],P=E+(Q^F&(k^Q))+N[0]+3614090360&4294967295;E=F+(P<<7&4294967295|P>>>25),P=Q+(k^E&(F^k))+N[1]+3905402710&4294967295,Q=E+(P<<12&4294967295|P>>>20),P=k+(F^Q&(E^F))+N[2]+606105819&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=F+(E^k&(Q^E))+N[3]+3250441966&4294967295,F=k+(P<<22&4294967295|P>>>10),P=E+(Q^F&(k^Q))+N[4]+4118548399&4294967295,E=F+(P<<7&4294967295|P>>>25),P=Q+(k^E&(F^k))+N[5]+1200080426&4294967295,Q=E+(P<<12&4294967295|P>>>20),P=k+(F^Q&(E^F))+N[6]+2821735955&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=F+(E^k&(Q^E))+N[7]+4249261313&4294967295,F=k+(P<<22&4294967295|P>>>10),P=E+(Q^F&(k^Q))+N[8]+1770035416&4294967295,E=F+(P<<7&4294967295|P>>>25),P=Q+(k^E&(F^k))+N[9]+2336552879&4294967295,Q=E+(P<<12&4294967295|P>>>20),P=k+(F^Q&(E^F))+N[10]+4294925233&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=F+(E^k&(Q^E))+N[11]+2304563134&4294967295,F=k+(P<<22&4294967295|P>>>10),P=E+(Q^F&(k^Q))+N[12]+1804603682&4294967295,E=F+(P<<7&4294967295|P>>>25),P=Q+(k^E&(F^k))+N[13]+4254626195&4294967295,Q=E+(P<<12&4294967295|P>>>20),P=k+(F^Q&(E^F))+N[14]+2792965006&4294967295,k=Q+(P<<17&4294967295|P>>>15),P=F+(E^k&(Q^E))+N[15]+1236535329&4294967295,F=k+(P<<22&4294967295|P>>>10),P=E+(k^Q&(F^k))+N[1]+4129170786&4294967295,E=F+(P<<5&4294967295|P>>>27),P=Q+(F^k&(E^F))+N[6]+3225465664&4294967295,Q=E+(P<<9&4294967295|P>>>23),P=k+(E^F&(Q^E))+N[11]+643717713&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=F+(Q^E&(k^Q))+N[0]+3921069994&4294967295,F=k+(P<<20&4294967295|P>>>12),P=E+(k^Q&(F^k))+N[5]+3593408605&4294967295,E=F+(P<<5&4294967295|P>>>27),P=Q+(F^k&(E^F))+N[10]+38016083&4294967295,Q=E+(P<<9&4294967295|P>>>23),P=k+(E^F&(Q^E))+N[15]+3634488961&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=F+(Q^E&(k^Q))+N[4]+3889429448&4294967295,F=k+(P<<20&4294967295|P>>>12),P=E+(k^Q&(F^k))+N[9]+568446438&4294967295,E=F+(P<<5&4294967295|P>>>27),P=Q+(F^k&(E^F))+N[14]+3275163606&4294967295,Q=E+(P<<9&4294967295|P>>>23),P=k+(E^F&(Q^E))+N[3]+4107603335&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=F+(Q^E&(k^Q))+N[8]+1163531501&4294967295,F=k+(P<<20&4294967295|P>>>12),P=E+(k^Q&(F^k))+N[13]+2850285829&4294967295,E=F+(P<<5&4294967295|P>>>27),P=Q+(F^k&(E^F))+N[2]+4243563512&4294967295,Q=E+(P<<9&4294967295|P>>>23),P=k+(E^F&(Q^E))+N[7]+1735328473&4294967295,k=Q+(P<<14&4294967295|P>>>18),P=F+(Q^E&(k^Q))+N[12]+2368359562&4294967295,F=k+(P<<20&4294967295|P>>>12),P=E+(F^k^Q)+N[5]+4294588738&4294967295,E=F+(P<<4&4294967295|P>>>28),P=Q+(E^F^k)+N[8]+2272392833&4294967295,Q=E+(P<<11&4294967295|P>>>21),P=k+(Q^E^F)+N[11]+1839030562&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=F+(k^Q^E)+N[14]+4259657740&4294967295,F=k+(P<<23&4294967295|P>>>9),P=E+(F^k^Q)+N[1]+2763975236&4294967295,E=F+(P<<4&4294967295|P>>>28),P=Q+(E^F^k)+N[4]+1272893353&4294967295,Q=E+(P<<11&4294967295|P>>>21),P=k+(Q^E^F)+N[7]+4139469664&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=F+(k^Q^E)+N[10]+3200236656&4294967295,F=k+(P<<23&4294967295|P>>>9),P=E+(F^k^Q)+N[13]+681279174&4294967295,E=F+(P<<4&4294967295|P>>>28),P=Q+(E^F^k)+N[0]+3936430074&4294967295,Q=E+(P<<11&4294967295|P>>>21),P=k+(Q^E^F)+N[3]+3572445317&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=F+(k^Q^E)+N[6]+76029189&4294967295,F=k+(P<<23&4294967295|P>>>9),P=E+(F^k^Q)+N[9]+3654602809&4294967295,E=F+(P<<4&4294967295|P>>>28),P=Q+(E^F^k)+N[12]+3873151461&4294967295,Q=E+(P<<11&4294967295|P>>>21),P=k+(Q^E^F)+N[15]+530742520&4294967295,k=Q+(P<<16&4294967295|P>>>16),P=F+(k^Q^E)+N[2]+3299628645&4294967295,F=k+(P<<23&4294967295|P>>>9),P=E+(k^(F|~Q))+N[0]+4096336452&4294967295,E=F+(P<<6&4294967295|P>>>26),P=Q+(F^(E|~k))+N[7]+1126891415&4294967295,Q=E+(P<<10&4294967295|P>>>22),P=k+(E^(Q|~F))+N[14]+2878612391&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=F+(Q^(k|~E))+N[5]+4237533241&4294967295,F=k+(P<<21&4294967295|P>>>11),P=E+(k^(F|~Q))+N[12]+1700485571&4294967295,E=F+(P<<6&4294967295|P>>>26),P=Q+(F^(E|~k))+N[3]+2399980690&4294967295,Q=E+(P<<10&4294967295|P>>>22),P=k+(E^(Q|~F))+N[10]+4293915773&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=F+(Q^(k|~E))+N[1]+2240044497&4294967295,F=k+(P<<21&4294967295|P>>>11),P=E+(k^(F|~Q))+N[8]+1873313359&4294967295,E=F+(P<<6&4294967295|P>>>26),P=Q+(F^(E|~k))+N[15]+4264355552&4294967295,Q=E+(P<<10&4294967295|P>>>22),P=k+(E^(Q|~F))+N[6]+2734768916&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=F+(Q^(k|~E))+N[13]+1309151649&4294967295,F=k+(P<<21&4294967295|P>>>11),P=E+(k^(F|~Q))+N[4]+4149444226&4294967295,E=F+(P<<6&4294967295|P>>>26),P=Q+(F^(E|~k))+N[11]+3174756917&4294967295,Q=E+(P<<10&4294967295|P>>>22),P=k+(E^(Q|~F))+N[2]+718787259&4294967295,k=Q+(P<<15&4294967295|P>>>17),P=F+(Q^(k|~E))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+Q&4294967295}n.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var F=E-this.blockSize,N=this.B,k=this.h,Q=0;Q<E;){if(k==0)for(;Q<=F;)i(this,C,Q),Q+=this.blockSize;if(typeof C=="string"){for(;Q<E;)if(N[k++]=C.charCodeAt(Q++),k==this.blockSize){i(this,N),k=0;break}}else for(;Q<E;)if(N[k++]=C[Q++],k==this.blockSize){i(this,N),k=0;break}}this.h=k,this.o+=E},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var F=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=F&255,F/=256;for(this.u(C),C=Array(16),E=F=0;4>E;++E)for(var N=0;32>N;N+=8)C[F++]=this.g[E]>>>N&255;return C};function s(C,E){var F=o;return Object.prototype.hasOwnProperty.call(F,C)?F[C]:F[C]=E(C)}function a(C,E){this.h=E;for(var F=[],N=!0,k=C.length-1;0<=k;k--){var Q=C[k]|0;N&&Q==E||(F[k]=Q,N=!1)}this.g=F}var o={};function A(C){return-128<=C&&128>C?s(C,function(E){return new a([E|0],0>E?-1:0)}):new a([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return y(l(-C));for(var E=[],F=1,N=0;C>=F;N++)E[N]=C/F|0,F*=4294967296;return new a(E,0)}function c(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return y(c(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var F=l(Math.pow(E,8)),N=d,k=0;k<C.length;k+=8){var Q=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+Q),E);8>Q?(Q=l(Math.pow(E,Q)),N=N.j(Q).add(l(P))):(N=N.j(F),N=N.add(l(P)))}return N}var d=A(0),f=A(1),g=A(16777216);t=a.prototype,t.m=function(){if(p(this))return-y(this).m();for(var C=0,E=1,F=0;F<this.g.length;F++){var N=this.i(F);C+=(0<=N?N:4294967296+N)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(m(this))return"0";if(p(this))return"-"+y(this).toString(C);for(var E=l(Math.pow(C,6)),F=this,N="";;){var k=S(F,E).g;F=w(F,k.j(E));var Q=((0<F.g.length?F.g[0]:F.h)>>>0).toString(C);if(F=k,m(F))return Q+N;for(;6>Q.length;)Q="0"+Q;N=Q+N}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function m(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=w(this,C),p(C)?-1:m(C)?0:1};function y(C){for(var E=C.g.length,F=[],N=0;N<E;N++)F[N]=~C.g[N];return new a(F,~C.h).add(f)}t.abs=function(){return p(this)?y(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),F=[],N=0,k=0;k<=E;k++){var Q=N+(this.i(k)&65535)+(C.i(k)&65535),P=(Q>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);N=P>>>16,Q&=65535,P&=65535,F[k]=P<<16|Q}return new a(F,F[F.length-1]&-2147483648?-1:0)};function w(C,E){return C.add(y(E))}t.j=function(C){if(m(this)||m(C))return d;if(p(this))return p(C)?y(this).j(y(C)):y(y(this).j(C));if(p(C))return y(this.j(y(C)));if(0>this.l(g)&&0>C.l(g))return l(this.m()*C.m());for(var E=this.g.length+C.g.length,F=[],N=0;N<2*E;N++)F[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<C.g.length;k++){var Q=this.i(N)>>>16,P=this.i(N)&65535,oe=C.i(k)>>>16,Ce=C.i(k)&65535;F[2*N+2*k]+=P*Ce,v(F,2*N+2*k),F[2*N+2*k+1]+=Q*Ce,v(F,2*N+2*k+1),F[2*N+2*k+1]+=P*oe,v(F,2*N+2*k+1),F[2*N+2*k+2]+=Q*oe,v(F,2*N+2*k+2)}for(N=0;N<E;N++)F[N]=F[2*N+1]<<16|F[2*N];for(N=E;N<2*E;N++)F[N]=0;return new a(F,0)};function v(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function x(C,E){this.g=C,this.h=E}function S(C,E){if(m(E))throw Error("division by zero");if(m(C))return new x(d,d);if(p(C))return E=S(y(C),E),new x(y(E.g),y(E.h));if(p(E))return E=S(C,y(E)),new x(y(E.g),E.h);if(30<C.g.length){if(p(C)||p(E))throw Error("slowDivide_ only works with positive integers.");for(var F=f,N=E;0>=N.l(C);)F=T(F),N=T(N);var k=I(F,1),Q=I(N,1);for(N=I(N,2),F=I(F,2);!m(N);){var P=Q.add(N);0>=P.l(C)&&(k=k.add(F),Q=P),N=I(N,1),F=I(F,1)}return E=w(C,k.j(E)),new x(k,E)}for(k=d;0<=C.l(E);){for(F=Math.max(1,Math.floor(C.m()/E.m())),N=Math.ceil(Math.log(F)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),Q=l(F),P=Q.j(E);p(P)||0<P.l(C);)F-=N,Q=l(F),P=Q.j(E);m(Q)&&(Q=f),k=k.add(Q),C=w(C,P)}return new x(k,C)}t.A=function(C){return S(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),F=[],N=0;N<E;N++)F[N]=this.i(N)&C.i(N);return new a(F,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),F=[],N=0;N<E;N++)F[N]=this.i(N)|C.i(N);return new a(F,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),F=[],N=0;N<E;N++)F[N]=this.i(N)^C.i(N);return new a(F,this.h^C.h)};function T(C){for(var E=C.g.length+1,F=[],N=0;N<E;N++)F[N]=C.i(N)<<1|C.i(N-1)>>>31;return new a(F,C.h)}function I(C,E){var F=E>>5;E%=32;for(var N=C.g.length-F,k=[],Q=0;Q<N;Q++)k[Q]=0<E?C.i(Q+F)>>>E|C.i(Q+F+1)<<32-E:C.i(Q+F);return new a(k,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,y4=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=l,a.fromString=c,iA=a}).apply(typeof u2<"u"?u2:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w4,Xu,x4,am,ib,b4,B4,C4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,B,_){return h==Array.prototype||h==Object.prototype||(h[B]=_.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var B=0;B<h.length;++B){var _=h[B];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=r(this);function i(h,B){if(B)e:{var _=n;h=h.split(".");for(var U=0;U<h.length-1;U++){var H=h[U];if(!(H in _))break e;_=_[H]}h=h[h.length-1],U=_[h],B=B(U),B!=U&&B!=null&&e(_,h,{configurable:!0,writable:!0,value:B})}}function s(h,B){h instanceof String&&(h+="");var _=0,U=!1,H={next:function(){if(!U&&_<h.length){var W=_++;return{value:B(W,h[W]),done:!1}}return U=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return s(this,function(B,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function A(h){var B=typeof h;return B=B!="object"?B:h?Array.isArray(h)?"array":B:"null",B=="array"||B=="object"&&typeof h.length=="number"}function l(h){var B=typeof h;return B=="object"&&h!=null||B=="function"}function c(h,B,_){return h.call.apply(h.bind,arguments)}function d(h,B,_){if(!h)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,U),h.apply(B,H)}}return function(){return h.apply(B,arguments)}}function f(h,B,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function g(h,B){var _=Array.prototype.slice.call(arguments,1);return function(){var U=_.slice();return U.push.apply(U,arguments),h.apply(this,U)}}function m(h,B){function _(){}_.prototype=B.prototype,h.aa=B.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(U,H,W){for(var Ae=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)Ae[nt-2]=arguments[nt];return B.prototype[H].apply(U,Ae)}}function p(h){const B=h.length;if(0<B){const _=Array(B);for(let U=0;U<B;U++)_[U]=h[U];return _}return[]}function y(h,B){for(let _=1;_<arguments.length;_++){const U=arguments[_];if(A(U)){const H=h.length||0,W=U.length||0;h.length=H+W;for(let Ae=0;Ae<W;Ae++)h[H+Ae]=U[Ae]}else h.push(U)}}class w{constructor(B,_){this.i=B,this.j=_,this.h=0,this.g=null}get(){let B;return 0<this.h?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function v(h){return/^[\s\xa0]*$/.test(h)}function x(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function I(h,B,_){for(const U in h)B.call(_,h[U],U,h)}function C(h,B){for(const _ in h)B.call(void 0,h[_],_,h)}function E(h){const B={};for(const _ in h)B[_]=h[_];return B}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,B){let _,U;for(let H=1;H<arguments.length;H++){U=arguments[H];for(_ in U)h[_]=U[_];for(let W=0;W<F.length;W++)_=F[W],Object.prototype.hasOwnProperty.call(U,_)&&(h[_]=U[_])}}function k(h){var B=1;h=h.split(":");const _=[];for(;0<B&&h.length;)_.push(h.shift()),B--;return h.length&&_.push(h.join(":")),_}function Q(h){o.setTimeout(()=>{throw h},0)}function P(){var h=ae;let B=null;return h.g&&(B=h.g,h.g=h.g.next,h.g||(h.h=null),B.next=null),B}class oe{constructor(){this.h=this.g=null}add(B,_){const U=Ce.get();U.set(B,_),this.h?this.h.next=U:this.g=U,this.h=U}}var Ce=new w(()=>new ve,h=>h.reset());class ve{constructor(){this.next=this.g=this.h=null}set(B,_){this.h=B,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,Z=!1,ae=new oe,de=()=>{const h=o.Promise.resolve(void 0);xe=()=>{h.then(Fe)}};var Fe=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(_){Q(_)}var B=Ce;B.j(h),100>B.h&&(B.h++,h.next=B.g,B.g=h)}Z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(h,B){this.type=h,this.g=this.target=B,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var ze=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,B=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};o.addEventListener("test",_,B),o.removeEventListener("test",_,B)}catch{}return h}();function D(h,B){if(Ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,U=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=B,B=h.relatedTarget){if(T){e:{try{S(B.nodeName);var H=!0;break e}catch{}H=!1}H||(B=null)}}else _=="mouseover"?B=h.fromElement:_=="mouseout"&&(B=h.toElement);this.relatedTarget=B,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:V[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&D.aa.h.call(this)}}m(D,Ue);var V={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),q=0;function M(h,B,_,U,H){this.listener=h,this.proxy=null,this.src=B,this.type=_,this.capture=!!U,this.ha=H,this.key=++q,this.da=this.fa=!1}function $(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Y(h){this.src=h,this.g={},this.h=0}Y.prototype.add=function(h,B,_,U,H){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var Ae=Ee(h,B,U,H);return-1<Ae?(B=h[Ae],_||(B.fa=!1)):(B=new M(B,this.src,W,!!U,H),B.fa=_,h.push(B)),B};function L(h,B){var _=B.type;if(_ in h.g){var U=h.g[_],H=Array.prototype.indexOf.call(U,B,void 0),W;(W=0<=H)&&Array.prototype.splice.call(U,H,1),W&&($(B),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ee(h,B,_,U){for(var H=0;H<h.length;++H){var W=h[H];if(!W.da&&W.listener==B&&W.capture==!!_&&W.ha==U)return H}return-1}var be="closure_lm_"+(1e6*Math.random()|0),Qe={};function Me(h,B,_,U,H){if(Array.isArray(B)){for(var W=0;W<B.length;W++)Me(h,B[W],_,U,H);return null}return _=KA(_),h&&h[R]?h.K(B,_,l(U)?!!U.capture:!1,H):ar(h,B,_,!1,U,H)}function ar(h,B,_,U,H,W){if(!B)throw Error("Invalid event type");var Ae=l(H)?!!H.capture:!!H,nt=HA(h);if(nt||(h[be]=nt=new Y(h)),_=nt.add(B,_,U,Ae,W),_.proxy)return _;if(U=LA(),_.proxy=U,U.src=h,U.listener=_,h.addEventListener)ze||(H=Ae),H===void 0&&(H=!1),h.addEventListener(B.toString(),U,H);else if(h.attachEvent)h.attachEvent(eu(B.toString()),U);else if(h.addListener&&h.removeListener)h.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return _}function LA(){function h(_){return B.call(h.src,h.listener,_)}const B=ea;return h}function uy(h,B,_,U,H){if(Array.isArray(B))for(var W=0;W<B.length;W++)uy(h,B[W],_,U,H);else U=l(U)?!!U.capture:!!U,_=KA(_),h&&h[R]?(h=h.i,B=String(B).toString(),B in h.g&&(W=h.g[B],_=Ee(W,_,U,H),-1<_&&($(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete h.g[B],h.h--)))):h&&(h=HA(h))&&(B=h.g[B.toString()],h=-1,B&&(h=Ee(B,_,U,H)),(_=-1<h?B[h]:null)&&xo(_))}function xo(h){if(typeof h!="number"&&h&&!h.da){var B=h.src;if(B&&B[R])L(B.i,h);else{var _=h.type,U=h.proxy;B.removeEventListener?B.removeEventListener(_,U,h.capture):B.detachEvent?B.detachEvent(eu(_),U):B.addListener&&B.removeListener&&B.removeListener(U),(_=HA(B))?(L(_,h),_.h==0&&(_.src=null,B[be]=null)):$(h)}}}function eu(h){return h in Qe?Qe[h]:Qe[h]="on"+h}function ea(h,B){if(h.da)h=!0;else{B=new D(B,this);var _=h.listener,U=h.ha||h.src;h.fa&&xo(h),h=_.call(U,B)}return h}function HA(h){return h=h[be],h instanceof Y?h:null}var VA="__closure_events_fn_"+(1e9*Math.random()>>>0);function KA(h){return typeof h=="function"?h:(h[VA]||(h[VA]=function(B){return h.handleEvent(B)}),h[VA])}function Ze(){ie.call(this),this.i=new Y(this),this.M=this,this.F=null}m(Ze,ie),Ze.prototype[R]=!0,Ze.prototype.removeEventListener=function(h,B,_,U){uy(this,h,B,_,U)};function or(h,B){var _,U=h.F;if(U)for(_=[];U;U=U.F)_.push(U);if(h=h.M,U=B.type||B,typeof B=="string")B=new Ue(B,h);else if(B instanceof Ue)B.target=B.target||h;else{var H=B;B=new Ue(U,h),N(B,H)}if(H=!0,_)for(var W=_.length-1;0<=W;W--){var Ae=B.g=_[W];H=Zi(Ae,U,!0,B)&&H}if(Ae=B.g=h,H=Zi(Ae,U,!0,B)&&H,H=Zi(Ae,U,!1,B)&&H,_)for(W=0;W<_.length;W++)Ae=B.g=_[W],H=Zi(Ae,U,!1,B)&&H}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var h=this.i,B;for(B in h.g){for(var _=h.g[B],U=0;U<_.length;U++)$(_[U]);delete h.g[B],h.h--}}this.F=null},Ze.prototype.K=function(h,B,_,U){return this.i.add(String(h),B,!1,_,U)},Ze.prototype.L=function(h,B,_,U){return this.i.add(String(h),B,!0,_,U)};function Zi(h,B,_,U){if(B=h.i.g[String(B)],!B)return!0;B=B.concat();for(var H=!0,W=0;W<B.length;++W){var Ae=B[W];if(Ae&&!Ae.da&&Ae.capture==_){var nt=Ae.listener,vr=Ae.ha||Ae.src;Ae.fa&&L(h.i,Ae),H=nt.call(vr,U)!==!1&&H}}return H&&!U.defaultPrevented}function tu(h,B,_){if(typeof h=="function")_&&(h=f(h,_));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(B)?-1:o.setTimeout(h,B||0)}function bo(h){h.g=tu(()=>{h.g=null,h.i&&(h.i=!1,bo(h))},h.l);const B=h.h;h.h=null,h.m.apply(null,B)}class mh extends ie{constructor(B,_){super(),this.m=B,this.l=_,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rn(h){ie.call(this),this.h=h,this.g={}}m(Rn,ie);var es=[];function $A(h){I(h.g,function(B,_){this.g.hasOwnProperty(_)&&xo(B)},h),h.g={}}Rn.prototype.N=function(){Rn.aa.N.call(this),$A(this)},Rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var GA=o.JSON.stringify,dy=o.JSON.parse,fy=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function ru(){}ru.prototype.h=null;function ph(h){return h.h||(h.h=h.i())}function vh(){}var Bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nu(){Ue.call(this,"d")}m(nu,Ue);function iu(){Ue.call(this,"c")}m(iu,Ue);var ts={},yh=null;function ta(){return yh=yh||new Ze}ts.La="serverreachability";function Ut(h){Ue.call(this,ts.La,h)}m(Ut,Ue);function Co(h){const B=ta();or(B,new Ut(B))}ts.STAT_EVENT="statevent";function wh(h,B){Ue.call(this,ts.STAT_EVENT,h),this.stat=B}m(wh,Ue);function Ar(h){const B=ta();or(B,new wh(B,h))}ts.Ma="timingevent";function Eo(h,B){Ue.call(this,ts.Ma,h),this.size=B}m(Eo,Ue);function _o(h,B){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},B)}function Io(){this.g=!0}Io.prototype.xa=function(){this.g=!1};function hy(h,B,_,U,H,W){h.info(function(){if(h.g)if(W)for(var Ae="",nt=W.split("&"),vr=0;vr<nt.length;vr++){var $e=nt[vr].split("=");if(1<$e.length){var Sr=$e[0];$e=$e[1];var Tr=Sr.split("_");Ae=2<=Tr.length&&Tr[1]=="type"?Ae+(Sr+"="+$e+"&"):Ae+(Sr+"=redacted&")}}else Ae=null;else Ae=W;return"XMLHTTP REQ ("+U+") [attempt "+H+"]: "+B+`
`+_+`
`+Ae})}function xh(h,B,_,U,H,W,Ae){h.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+H+"]: "+B+`
`+_+`
`+W+" "+Ae})}function ra(h,B,_,U){h.info(function(){return"XMLHTTP TEXT ("+B+"): "+my(h,_)+(U?" "+U:"")})}function gy(h,B){h.info(function(){return"TIMEOUT: "+B})}Io.prototype.info=function(){};function my(h,B){if(!h.g)return B;if(!B)return null;try{var _=JSON.parse(B);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var U=_[h];if(!(2>U.length)){var H=U[1];if(Array.isArray(H)&&!(1>H.length)){var W=H[0];if(W!="noop"&&W!="stop"&&W!="close")for(var Ae=1;Ae<H.length;Ae++)H[Ae]=""}}}}return GA(_)}catch{return B}}var WA={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},O={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},j;function X(){}m(X,ru),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},j=new X;function ee(h,B,_,U){this.j=h,this.i=B,this.l=_,this.R=U||1,this.U=new Rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new z}function z(){this.i=null,this.g="",this.h=!1}var le={},se={};function ne(h,B,_){h.L=1,h.v=Ch(rs(B)),h.m=_,h.P=!0,_e(h,null)}function _e(h,B){h.F=Date.now(),Rt(h),h.A=rs(h.v);var _=h.A,U=h.R;Array.isArray(U)||(U=[String(U)]),hI(_.i,"t",U),h.C=0,_=h.j.J,h.h=new z,h.g=UI(h.j,_?B:null,!h.m),0<h.O&&(h.M=new mh(f(h.Y,h,h.g),h.O)),B=h.U,_=h.g,U=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(es[0]=H.toString()),H=es);for(var W=0;W<H.length;W++){var Ae=Me(_,H[W],U||B.handleEvent,!1,B.h||B);if(!Ae)break;B.g[Ae.key]=Ae}B=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),B["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,B)):(h.u="GET",h.g.ea(h.A,h.u,null,B)),Co(),hy(h.i,h.u,h.A,h.l,h.R,h.m)}ee.prototype.ca=function(h){h=h.target;const B=this.M;B&&ns(h)==3?B.j():this.Y(h)},ee.prototype.Y=function(h){try{if(h==this.g)e:{const Tr=ns(this.g);var B=this.g.Ba();const XA=this.g.Z();if(!(3>Tr)&&(Tr!=3||this.g&&(this.h.h||this.g.oa()||xI(this.g)))){this.J||Tr!=4||B==7||(B==8||0>=XA?Co(3):Co(2)),pr(this);var _=this.g.Z();this.X=_;t:if(Oe(this)){var U=xI(this.g);h="";var H=U.length,W=ns(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Ni(this);var Ae="";break t}this.h.i=new o.TextDecoder}for(B=0;B<H;B++)this.h.h=!0,h+=this.h.i.decode(U[B],{stream:!(W&&B==H-1)});U.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=_==200,xh(this.i,this.u,this.A,this.l,this.R,Tr,_),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,vr=this.g;if((nt=vr.g?vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(nt)){var $e=nt;break t}}$e=null}if(_=$e)ra(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,su(this,_);else{this.o=!1,this.s=3,Ar(12),lr(this),Ni(this);break e}}if(this.P){_=!0;let hi;for(;!this.J&&this.C<Ae.length;)if(hi=Ct(this,Ae),hi==se){Tr==4&&(this.s=4,Ar(14),_=!1),ra(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==le){this.s=4,Ar(15),ra(this.i,this.l,Ae,"[Invalid Chunk]"),_=!1;break}else ra(this.i,this.l,hi,null),su(this,hi);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tr!=4||Ae.length!=0||this.h.h||(this.s=1,Ar(16),_=!1),this.o=this.o&&_,!_)ra(this.i,this.l,Ae,"[Invalid Chunked Response]"),lr(this),Ni(this);else if(0<Ae.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),xy(Sr),Sr.M=!0,Ar(11))}}else ra(this.i,this.l,Ae,null),su(this,Ae);Tr==4&&lr(this),this.o&&!this.J&&(Tr==4?SI(this.j,this):(this.o=!1,Rt(this)))}else sV(this.g),_==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Ar(12)):(this.s=0,Ar(13)),lr(this),Ni(this)}}}catch{}finally{}};function Oe(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ct(h,B){var _=h.C,U=B.indexOf(`
`,_);return U==-1?se:(_=Number(B.substring(_,U)),isNaN(_)?le:(U+=1,U+_>B.length?se:(B=B.slice(U,U+_),h.C=U+_,B)))}ee.prototype.cancel=function(){this.J=!0,lr(this)};function Rt(h){h.S=Date.now()+h.I,Et(h,h.I)}function Et(h,B){if(h.B!=null)throw Error("WatchDog timer not null");h.B=_o(f(h.ba,h),B)}function pr(h){h.B&&(o.clearTimeout(h.B),h.B=null)}ee.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(gy(this.i,this.A),this.L!=2&&(Co(),Ar(17)),lr(this),this.s=2,Ni(this)):Et(this,this.S-h)};function Ni(h){h.j.G==0||h.J||SI(h.j,h)}function lr(h){pr(h);var B=h.M;B&&typeof B.ma=="function"&&B.ma(),h.M=null,$A(h.U),h.g&&(B=h.g,h.g=null,B.abort(),B.ma())}function su(h,B){try{var _=h.j;if(_.G!=0&&(_.g==h||Au(_.h,h))){if(!h.K&&Au(_.h,h)&&_.G==3){try{var U=_.Da.g.parse(B)}catch{U=null}if(Array.isArray(U)&&U.length==3){var H=U;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Fh(_),Sh(_);else break e;wy(_),Ar(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=_o(f(_.Za,_),6e3));if(1>=ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Fo(_,11)}else if((h.K||_.g==h)&&Fh(_),!v(B))for(H=_.Da.g.parse(B),B=0;B<H.length;B++){let $e=H[B];if(_.T=$e[0],$e=$e[1],_.G==2)if($e[0]=="c"){_.K=$e[1],_.ia=$e[2];const Sr=$e[3];Sr!=null&&(_.la=Sr,_.j.info("VER="+_.la));const Tr=$e[4];Tr!=null&&(_.Aa=Tr,_.j.info("SVER="+_.Aa));const XA=$e[5];XA!=null&&typeof XA=="number"&&0<XA&&(U=1.5*XA,_.L=U,_.j.info("backChannelRequestTimeoutMs_="+U)),U=_;const hi=h.g;if(hi){const Uh=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uh){var W=U.h;W.g||Uh.indexOf("spdy")==-1&&Uh.indexOf("quic")==-1&&Uh.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(py(W,W.h),W.h=null))}if(U.D){const by=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;by&&(U.ya=by,ct(U.I,U.D,by))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),U=_;var Ae=h;if(U.qa=NI(U,U.J?U.ia:null,U.W),Ae.K){aI(U.h,Ae);var nt=Ae,vr=U.L;vr&&(nt.I=vr),nt.B&&(pr(nt),Rt(nt)),U.g=Ae}else _I(U);0<_.i.length&&Th(_)}else $e[0]!="stop"&&$e[0]!="close"||Fo(_,7);else _.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Fo(_,7):yy(_):$e[0]!="noop"&&_.l&&_.l.ta($e),_.v=0)}}Co(4)}catch{}}var So=class{constructor(h,B){this.g=h,this.map=B}};function hn(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function au(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ou(h){return h.h?1:h.g?h.g.size:0}function Au(h,B){return h.h?h.h==B:h.g?h.g.has(B):!1}function py(h,B){h.g?h.g.add(B):h.h=B}function aI(h,B){h.h&&h.h==B?h.h=null:h.g&&h.g.has(B)&&h.g.delete(B)}hn.prototype.cancel=function(){if(this.i=oI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function oI(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let B=h.i;for(const _ of h.g.values())B=B.concat(_.D);return B}return p(h.i)}function KH(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(A(h)){for(var B=[],_=h.length,U=0;U<_;U++)B.push(h[U]);return B}B=[],_=0;for(U in h)B[_++]=h[U];return B}function $H(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(A(h)||typeof h=="string"){var B=[];h=h.length;for(var _=0;_<h;_++)B.push(_);return B}B=[],_=0;for(const U in h)B[_++]=U;return B}}}function AI(h,B){if(h.forEach&&typeof h.forEach=="function")h.forEach(B,void 0);else if(A(h)||typeof h=="string")Array.prototype.forEach.call(h,B,void 0);else for(var _=$H(h),U=KH(h),H=U.length,W=0;W<H;W++)B.call(void 0,U[W],_&&_[W],h)}var lI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GH(h,B){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var U=h[_].indexOf("="),H=null;if(0<=U){var W=h[_].substring(0,U);H=h[_].substring(U+1)}else W=h[_];B(W,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function To(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof To){this.h=h.h,bh(this,h.j),this.o=h.o,this.g=h.g,Bh(this,h.s),this.l=h.l;var B=h.i,_=new uu;_.i=B.i,B.g&&(_.g=new Map(B.g),_.h=B.h),cI(this,_),this.m=h.m}else h&&(B=String(h).match(lI))?(this.h=!1,bh(this,B[1]||"",!0),this.o=lu(B[2]||""),this.g=lu(B[3]||"",!0),Bh(this,B[4]),this.l=lu(B[5]||"",!0),cI(this,B[6]||"",!0),this.m=lu(B[7]||"")):(this.h=!1,this.i=new uu(null,this.h))}To.prototype.toString=function(){var h=[],B=this.j;B&&h.push(cu(B,uI,!0),":");var _=this.g;return(_||B=="file")&&(h.push("//"),(B=this.o)&&h.push(cu(B,uI,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(cu(_,_.charAt(0)=="/"?YH:zH,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",cu(_,qH)),h.join("")};function rs(h){return new To(h)}function bh(h,B,_){h.j=_?lu(B,!0):B,h.j&&(h.j=h.j.replace(/:$/,""))}function Bh(h,B){if(B){if(B=Number(B),isNaN(B)||0>B)throw Error("Bad port number "+B);h.s=B}else h.s=null}function cI(h,B,_){B instanceof uu?(h.i=B,JH(h.i,h.h)):(_||(B=cu(B,XH)),h.i=new uu(B,h.h))}function ct(h,B,_){h.i.set(B,_)}function Ch(h){return ct(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function lu(h,B){return h?B?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function cu(h,B,_){return typeof h=="string"?(h=encodeURI(h).replace(B,WH),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function WH(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var uI=/[#\/\?@]/g,zH=/[#\?:]/g,YH=/[#\?]/g,XH=/[#\?@]/g,qH=/#/g;function uu(h,B){this.h=this.g=null,this.i=h||null,this.j=!!B}function na(h){h.g||(h.g=new Map,h.h=0,h.i&&GH(h.i,function(B,_){h.add(decodeURIComponent(B.replace(/\+/g," ")),_)}))}t=uu.prototype,t.add=function(h,B){na(this),this.i=null,h=zA(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(B),this.h+=1,this};function dI(h,B){na(h),B=zA(h,B),h.g.has(B)&&(h.i=null,h.h-=h.g.get(B).length,h.g.delete(B))}function fI(h,B){return na(h),B=zA(h,B),h.g.has(B)}t.forEach=function(h,B){na(this),this.g.forEach(function(_,U){_.forEach(function(H){h.call(B,H,U,this)},this)},this)},t.na=function(){na(this);const h=Array.from(this.g.values()),B=Array.from(this.g.keys()),_=[];for(let U=0;U<B.length;U++){const H=h[U];for(let W=0;W<H.length;W++)_.push(B[U])}return _},t.V=function(h){na(this);let B=[];if(typeof h=="string")fI(this,h)&&(B=B.concat(this.g.get(zA(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)B=B.concat(h[_])}return B},t.set=function(h,B){return na(this),this.i=null,h=zA(this,h),fI(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[B]),this.h+=1,this},t.get=function(h,B){return h?(h=this.V(h),0<h.length?String(h[0]):B):B};function hI(h,B,_){dI(h,B),0<_.length&&(h.i=null,h.g.set(zA(h,B),p(_)),h.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],B=Array.from(this.g.keys());for(var _=0;_<B.length;_++){var U=B[_];const W=encodeURIComponent(String(U)),Ae=this.V(U);for(U=0;U<Ae.length;U++){var H=W;Ae[U]!==""&&(H+="="+encodeURIComponent(String(Ae[U]))),h.push(H)}}return this.i=h.join("&")};function zA(h,B){return B=String(B),h.j&&(B=B.toLowerCase()),B}function JH(h,B){B&&!h.j&&(na(h),h.i=null,h.g.forEach(function(_,U){var H=U.toLowerCase();U!=H&&(dI(this,U),hI(this,H,_))},h)),h.j=B}function ZH(h,B){const _=new Io;if(o.Image){const U=new Image;U.onload=g(ia,_,"TestLoadImage: loaded",!0,B,U),U.onerror=g(ia,_,"TestLoadImage: error",!1,B,U),U.onabort=g(ia,_,"TestLoadImage: abort",!1,B,U),U.ontimeout=g(ia,_,"TestLoadImage: timeout",!1,B,U),o.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=h}else B(!1)}function eV(h,B){const _=new Io,U=new AbortController,H=setTimeout(()=>{U.abort(),ia(_,"TestPingServer: timeout",!1,B)},1e4);fetch(h,{signal:U.signal}).then(W=>{clearTimeout(H),W.ok?ia(_,"TestPingServer: ok",!0,B):ia(_,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(H),ia(_,"TestPingServer: error",!1,B)})}function ia(h,B,_,U,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),U(_)}catch{}}function tV(){this.g=new fy}function rV(h,B,_){const U=_||"";try{AI(h,function(H,W){let Ae=H;l(H)&&(Ae=GA(H)),B.push(U+W+"="+encodeURIComponent(Ae))})}catch(H){throw B.push(U+"type="+encodeURIComponent("_badmap")),H}}function Eh(h){this.l=h.Ub||null,this.j=h.eb||!1}m(Eh,ru),Eh.prototype.g=function(){return new _h(this.l,this.j)},Eh.prototype.i=function(h){return function(){return h}}({});function _h(h,B){Ze.call(this),this.D=h,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(_h,Ze),t=_h.prototype,t.open=function(h,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=B,this.readyState=1,fu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const B={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(B.body=h),(this.D||o).fetch(new Request(this.A,B)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,du(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gI(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function gI(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var B=h.value?h.value:new Uint8Array(0);(B=this.v.decode(B,{stream:!h.done}))&&(this.response=this.responseText+=B)}h.done?du(this):fu(this),this.readyState==3&&gI(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,du(this))},t.Qa=function(h){this.g&&(this.response=h,du(this))},t.ga=function(){this.g&&du(this)};function du(h){h.readyState=4,h.l=null,h.j=null,h.v=null,fu(h)}t.setRequestHeader=function(h,B){this.u.append(h,B)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],B=this.h.entries();for(var _=B.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=B.next();return h.join(`\r
`)};function fu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_h.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function mI(h){let B="";return I(h,function(_,U){B+=U,B+=":",B+=_,B+=`\r
`}),B}function vy(h,B,_){e:{for(U in _){var U=!1;break e}U=!0}U||(_=mI(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):ct(h,B,_))}function Pt(h){Ze.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Pt,Ze);var nV=/^https?$/i,iV=["POST","PUT"];t=Pt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,B,_,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);B=B?B.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():j.g(),this.v=this.o?ph(this.o):ph(j),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(B,String(h),!0),this.B=!1}catch(W){pI(this,W);return}if(h=_||"",_=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var H in U)_.set(H,U[H]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const W of U.keys())_.set(W,U.get(W));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),H=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(iV,B,void 0))||U||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,Ae]of _)this.g.setRequestHeader(W,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wI(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){pI(this,W)}};function pI(h,B){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=B,h.m=5,vI(h),Ih(h)}function vI(h){h.A||(h.A=!0,or(h,"complete"),or(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,or(this,"complete"),or(this,"abort"),Ih(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ih(this,!0)),Pt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yI(this):this.bb())},t.bb=function(){yI(this)};function yI(h){if(h.h&&typeof a<"u"&&(!h.v[1]||ns(h)!=4||h.Z()!=2)){if(h.u&&ns(h)==4)tu(h.Ea,0,h);else if(or(h,"readystatechange"),ns(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var _;if(!(_=B)){var U;if(U=Ae===0){var H=String(h.D).match(lI)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),U=!nV.test(H?H.toLowerCase():"")}_=U}if(_)or(h,"complete"),or(h,"success");else{h.m=6;try{var W=2<ns(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",vI(h)}}finally{Ih(h)}}}}function Ih(h,B){if(h.g){wI(h);const _=h.g,U=h.v[0]?()=>{}:null;h.g=null,h.v=null,B||or(h,"ready");try{_.onreadystatechange=U}catch{}}}function wI(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ns(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var B=this.g.responseText;return h&&B.indexOf(h)==0&&(B=B.substring(h.length)),dy(B)}};function xI(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function sV(h){const B={};h=(h.g&&2<=ns(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<h.length;U++){if(v(h[U]))continue;var _=k(h[U]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=B[H]||[];B[H]=W,W.push(_)}C(B,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hu(h,B,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||B}function bI(h){this.Aa=0,this.i=[],this.j=new Io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hu("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hu("baseRetryDelayMs",5e3,h),this.cb=hu("retryDelaySeedMs",1e4,h),this.Wa=hu("forwardChannelMaxRetries",2,h),this.wa=hu("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new hn(h&&h.concurrentRequestLimit),this.Da=new tV,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bI.prototype,t.la=8,t.G=1,t.connect=function(h,B,_,U){Ar(0),this.W=h,this.H=B||{},_&&U!==void 0&&(this.H.OSID=_,this.H.OAID=U),this.F=this.X,this.I=NI(this,null,this.W),Th(this)};function yy(h){if(BI(h),h.G==3){var B=h.U++,_=rs(h.I);if(ct(_,"SID",h.K),ct(_,"RID",B),ct(_,"TYPE","terminate"),gu(h,_),B=new ee(h,h.j,B),B.L=2,B.v=Ch(rs(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(B.v.toString(),"")}catch{}!_&&o.Image&&(new Image().src=B.v,_=!0),_||(B.g=UI(B.j,null),B.g.ea(B.v)),B.F=Date.now(),Rt(B)}FI(h)}function Sh(h){h.g&&(xy(h),h.g.cancel(),h.g=null)}function BI(h){Sh(h),h.u&&(o.clearTimeout(h.u),h.u=null),Fh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function Th(h){if(!au(h.h)&&!h.s){h.s=!0;var B=h.Ga;xe||de(),Z||(xe(),Z=!0),ae.add(B,h),h.B=0}}function aV(h,B){return ou(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=B.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=_o(f(h.Ga,h,B),TI(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new ee(this,this.j,h);let W=this.o;if(this.S&&(W?(W=E(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(H.H=W,W=null),this.P)e:{for(var B=0,_=0;_<this.i.length;_++){t:{var U=this.i[_];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(B+=U,4096<B){B=_;break e}if(B===4096||_===this.i.length-1){B=_+1;break e}}B=1e3}else B=1e3;B=EI(this,H,B),_=rs(this.I),ct(_,"RID",h),ct(_,"CVER",22),this.D&&ct(_,"X-HTTP-Session-Id",this.D),gu(this,_),W&&(this.O?B="headers="+encodeURIComponent(String(mI(W)))+"&"+B:this.m&&vy(_,this.m,W)),py(this.h,H),this.Ua&&ct(_,"TYPE","init"),this.P?(ct(_,"$req",B),ct(_,"SID","null"),H.T=!0,ne(H,_,null)):ne(H,_,B),this.G=2}}else this.G==3&&(h?CI(this,h):this.i.length==0||au(this.h)||CI(this))};function CI(h,B){var _;B?_=B.l:_=h.U++;const U=rs(h.I);ct(U,"SID",h.K),ct(U,"RID",_),ct(U,"AID",h.T),gu(h,U),h.m&&h.o&&vy(U,h.m,h.o),_=new ee(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),B&&(h.i=B.D.concat(h.i)),B=EI(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),py(h.h,_),ne(_,U,B)}function gu(h,B){h.H&&I(h.H,function(_,U){ct(B,U,_)}),h.l&&AI({},function(_,U){ct(B,U,_)})}function EI(h,B,_){_=Math.min(h.i.length,_);var U=h.l?f(h.l.Na,h.l,h):null;e:{var H=h.i;let W=-1;for(;;){const Ae=["count="+_];W==-1?0<_?(W=H[0].g,Ae.push("ofs="+W)):W=0:Ae.push("ofs="+W);let nt=!0;for(let vr=0;vr<_;vr++){let $e=H[vr].g;const Sr=H[vr].map;if($e-=W,0>$e)W=Math.max(0,H[vr].g-100),nt=!1;else try{rV(Sr,Ae,"req"+$e+"_")}catch{U&&U(Sr)}}if(nt){U=Ae.join("&");break e}}}return h=h.i.splice(0,_),B.D=h,U}function _I(h){if(!h.g&&!h.u){h.Y=1;var B=h.Fa;xe||de(),Z||(xe(),Z=!0),ae.add(B,h),h.v=0}}function wy(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=_o(f(h.Fa,h),TI(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,II(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=_o(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ar(10),Sh(this),II(this))};function xy(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function II(h){h.g=new ee(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var B=rs(h.qa);ct(B,"RID","rpc"),ct(B,"SID",h.K),ct(B,"AID",h.T),ct(B,"CI",h.F?"0":"1"),!h.F&&h.ja&&ct(B,"TO",h.ja),ct(B,"TYPE","xmlhttp"),gu(h,B),h.m&&h.o&&vy(B,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ch(rs(B)),_.m=null,_.P=!0,_e(_,h)}t.Za=function(){this.C!=null&&(this.C=null,Sh(this),wy(this),Ar(19))};function Fh(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function SI(h,B){var _=null;if(h.g==B){Fh(h),xy(h),h.g=null;var U=2}else if(Au(h.h,B))_=B.D,aI(h.h,B),U=1;else return;if(h.G!=0){if(B.o)if(U==1){_=B.m?B.m.length:0,B=Date.now()-B.F;var H=h.B;U=ta(),or(U,new Eo(U,_)),Th(h)}else _I(h);else if(H=B.s,H==3||H==0&&0<B.X||!(U==1&&aV(h,B)||U==2&&wy(h)))switch(_&&0<_.length&&(B=h.h,B.i=B.i.concat(_)),H){case 1:Fo(h,5);break;case 4:Fo(h,10);break;case 3:Fo(h,6);break;default:Fo(h,2)}}}function TI(h,B){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*B}function Fo(h,B){if(h.j.info("Error code "+B),B==2){var _=f(h.fb,h),U=h.Xa;const H=!U;U=new To(U||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||bh(U,"https"),Ch(U),H?ZH(U.toString(),_):eV(U.toString(),_)}else Ar(2);h.G=0,h.l&&h.l.sa(B),FI(h),BI(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))};function FI(h){if(h.G=0,h.ka=[],h.l){const B=oI(h.h);(B.length!=0||h.i.length!=0)&&(y(h.ka,B),y(h.ka,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.ra()}}function NI(h,B,_){var U=_ instanceof To?rs(_):new To(_);if(U.g!="")B&&(U.g=B+"."+U.g),Bh(U,U.s);else{var H=o.location;U=H.protocol,B=B?B+"."+H.hostname:H.hostname,H=+H.port;var W=new To(null);U&&bh(W,U),B&&(W.g=B),H&&Bh(W,H),_&&(W.l=_),U=W}return _=h.D,B=h.ya,_&&B&&ct(U,_,B),ct(U,"VER",h.la),gu(h,U),U}function UI(h,B,_){if(B&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return B=h.Ca&&!h.pa?new Pt(new Eh({eb:_})):new Pt(h.pa),B.Ha(h.J),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PI(){}t=PI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nh(){}Nh.prototype.g=function(h,B){return new gn(h,B)};function gn(h,B){Ze.call(this),this.g=new bI(B),this.l=h,this.h=B&&B.messageUrlParams||null,h=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(h?h["X-WebChannel-Content-Type"]=B.messageContentType:h={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.va&&(h?h["X-WebChannel-Client-Profile"]=B.va:h={"X-WebChannel-Client-Profile":B.va}),this.g.S=h,(h=B&&B.Sb)&&!v(h)&&(this.g.m=h),this.v=B&&B.supportsCrossDomainXhr||!1,this.u=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!v(B)&&(this.g.D=B,h=this.h,h!==null&&B in h&&(h=this.h,B in h&&delete h[B])),this.j=new YA(this)}m(gn,Ze),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){yy(this.g)},gn.prototype.o=function(h){var B=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=GA(h),h=_);B.i.push(new So(B.Ya++,h)),B.G==3&&Th(B)},gn.prototype.N=function(){this.g.l=null,delete this.j,yy(this.g),delete this.g,gn.aa.N.call(this)};function kI(h){nu.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var B=h.__sm__;if(B){e:{for(const _ in B){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,B=B!==null&&h in B?B[h]:void 0),this.data=B}else this.data=h}m(kI,nu);function QI(){iu.call(this),this.status=1}m(QI,iu);function YA(h){this.g=h}m(YA,PI),YA.prototype.ua=function(){or(this.g,"a")},YA.prototype.ta=function(h){or(this.g,new kI(h))},YA.prototype.sa=function(h){or(this.g,new QI)},YA.prototype.ra=function(){or(this.g,"b")},Nh.prototype.createWebChannel=Nh.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,C4=function(){return new Nh},B4=function(){return ta()},b4=ts,ib={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},WA.NO_ERROR=0,WA.TIMEOUT=8,WA.HTTP_ERROR=6,am=WA,O.COMPLETE="complete",x4=O,vh.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,Xu=vh,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,w4=Pt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const d2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new $C("@firebase/firestore");function ul(){return vA.logLevel}function te(t,...e){if(vA.logLevel<=Re.DEBUG){const r=e.map(zC);vA.debug(`Firestore (${jc}): ${t}`,...r)}}function $r(t,...e){if(vA.logLevel<=Re.ERROR){const r=e.map(zC);vA.error(`Firestore (${jc}): ${t}`,...r)}}function za(t,...e){if(vA.logLevel<=Re.WARN){const r=e.map(zC);vA.warn(`Firestore (${jc}): ${t}`,...r)}}function zC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Be(t,e){t||ye()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ws{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(br.UNAUTHENTICATED))}shutdown(){}}class y9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class w9{constructor(e){this.t=e,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Be(this.o===void 0);let n=this.i;const i=A=>this.i!==n?(n=this.i,r(A)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const A=s;e.enqueueRetryable(async()=>{await A.promise,await i(this.currentUser)})},o=A=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(A=>o(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?o(A):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Be(typeof n.accessToken=="string"),new E4(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new br(e)}}class x9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=br.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new x9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Be(this.o===void 0);const n=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Be(typeof r.token=="string"),this.R=r.token,new B9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=E9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Pe(t,e){return t<e?-1:t>e?1:0}function Ac(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function I4(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new xt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,r,n){r===void 0?r=0:r>e.length&&ye(),n===void 0?n=e.length-r:n>e.length-r&&ye(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return rf.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof rf?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class qe extends rf{construct(e,r,n){return new qe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new qe(r)}static emptyPath(){return new qe([])}}const _9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends rf{construct(e,r,n){return new vt(e,r,n)}static isValidIdentifier(e){return _9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if(A!=="\\"&&A!=="."&&A!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=A,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(r)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(qe.fromString(e))}static fromName(e){return new ce(qe.fromString(e).popFirst(5))}static empty(){return new ce(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return qe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function sb(t){return t.fields.find(e=>e.kind===2)}function Oo(t){return t.fields.filter(e=>e.kind!==2)}ep.UNKNOWN_ID=-1;class om{constructor(e,r){this.fieldPath=e,this.kind=r}}class nf{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new nf(0,Fn.min())}}function I9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(n===1e9?new xt(r+1,0):new xt(r,n));return new Fn(i,ce.empty(),e)}function S4(t){return new Fn(t.readTime,t.key,-1)}class Fn{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Fn(Ie.min(),ce.empty(),-1)}static max(){return new Fn(Ie.max(),ce.empty(),-1)}}function XC(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=ce.comparator(t.documentKey,e.documentKey),r!==0?r:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==T4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new K((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):K.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):K.reject(r)}static resolve(e){return new K((r,n)=>{r(e)})}static reject(e){return new K((r,n)=>{n(e)})}static waitFor(e){return new K((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},A=>n(A))}),a=!0,s===i&&r()})}static or(e){let r=K.resolve(!1);for(const n of e)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new K((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let A=0;A<s;A++){const l=A;r(e[l]).next(c=>{a[l]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new K((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Vi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new yd(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=qC(n.target.error);this.V.reject(new yd(e,i))}}static open(e,r,n,i){try{return new k0(r,e.transaction(i,n))}catch(s){throw new yd(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new T9(r)}}class Ma{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Ma.S(er())===12.2&&$r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Mo(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!d4())return!1;if(Ma.v())return!0;const e=er(),r=Ma.S(e),n=0<r&&r<10,i=N4(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new yd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new ge(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new ge(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new yd(e,a))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=k0.open(this.db,e,s?"readonly":"readwrite",n),A=i(o).next(l=>(o.g(),l)).catch(l=>(o.abort(l),K.reject(l))).toPromise();return A.catch(()=>{}),await o.m,A}catch(o){const A=o,l=A.name!=="FirebaseError"&&a<3;if(te("SimpleDb","Transaction failed with error:",A.message,"Retrying:",l),this.close(),!l)return Promise.reject(A)}}}close(){this.db&&this.db.close(),this.db=void 0}}function N4(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class S9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Mo(this.B.delete())}}class yd extends ge{constructor(e,r){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function co(t){return t.name==="IndexedDbTransactionError"}class T9{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(te("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Mo(n)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Mo(this.store.add(e))}get(e){return Mo(this.store.get(e)).next(r=>(r===void 0&&(r=null),te("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Mo(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Mo(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new K((a,o)=>{s.onerror=A=>{o(A.target.error)},s.onsuccess=A=>{a(A.target.result)}})}{const s=this.cursor(n),a=[];return this.W(s,(o,A)=>{a.push(A)}).next(()=>a)}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new K((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}})}j(e,r){te("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,(s,a,o)=>o.delete())}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new K((n,i)=>{r.onerror=s=>{const a=qC(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next(o=>{o?a.continue():n()}):n()}})}W(e,r){const n=[];return new K((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const A=new S9(o),l=r(o.primaryKey,o.value,A);if(l instanceof K){const c=l.catch(d=>(A.done(),K.reject(d)));n.push(c)}A.isDone?i():A.K===null?o.continue():o.continue(A.K)}}).next(()=>K.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Mo(t){return new K((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=qC(n.target.error);r(i)}})}let f2=!1;function qC(t){const e=Ma.S(er());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f2||(f2=!0,setTimeout(()=>{throw n},0)),n}}return t}class F9{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){te("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{te("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){co(r)?te("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await UA(r)}await this.X(6e4)})}}class N9{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.te(r,e))}te(e,r){const n=new Set;let i=r,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!n.has(a))return te("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(o=>{i-=o,n.add(a)});s=!1})).next(()=>r-i)}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next(s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,s)).next(o=>(te("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o))).next(()=>a.size)}))}re(e,r){let n=e;return r.changes.forEach((i,s)=>{const a=S4(s);XC(a,n)>0&&(n=a)}),new Fn(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jn.oe=-1;function Q0(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function U9(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=h2(e)),e=P9(t.get(r),e);return h2(e)}function P9(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function h2(t){return t+""}function Di(t){const e=t.length;if(Be(e>=2),e===2)return Be(t.charAt(0)===""&&t.charAt(1)===""),qe.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&ye(),t.charAt(a+1)){case"":const o=t.substring(s,a);let A;i.length===0?A=o:(i+=o,A=i,i=""),n.push(A);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:ye()}s=a+2}return new qe(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){return[t,zr(e)]}function U4(t,e,r){return[t,zr(e),r]}const k9={},Q9=["prefixPath","collectionGroup","readTime","documentId"],O9=["prefixPath","collectionGroup","documentId"],j9=["collectionGroup","readTime","prefixPath","documentId"],D9=["canonicalId","targetId"],R9=["targetId","path"],M9=["path","targetId"],L9=["collectionId","parent"],H9=["indexId","uid"],V9=["uid","sequenceNumber"],K9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$9=["indexId","uid","orderedDocumentKey"],G9=["userId","collectionPath","documentId"],W9=["userId","collectionPath","largestBatchId"],z9=["userId","collectionGroup","largestBatchId"],P4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Y9=[...P4,"documentOverlays"],k4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Q4=k4,JC=[...Q4,"indexConfiguration","indexState","indexEntries"],X9=JC,q9=[...JC,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends F4{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function tr(t,e){const r=Ne(t);return Ma.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Dc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function O4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,r){this.comparator=e,this.root=r||Br.EMPTY}insert(e,r){return new bt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qh(this.root,e,this.comparator,!1)}getReverseIterator(){return new qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qh(this.root,e,this.comparator,!0)}}class qh{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Br.RED,this.left=i??Br.EMPTY,this.right=s??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Br(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Br.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1;Br.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Br(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new p2(this.data.getIterator())}getIteratorFrom(e){return new p2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new rt(this.comparator);return r.data=e,r}}class p2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function JA(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new Zn([])}unionWith(e){let r=new rt(vt.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Zn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ac(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j4("Invalid base64 string: "+s):s}}(e);return new Vt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Vt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const J9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(Be(!!t),typeof t=="string"){let e=0;const r=J9.exec(t);if(Be(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ya(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function e1(t){const e=t.mapValue.fields.__previous_value__;return ZC(e)?e1(e):e}function af(t){const e=js(t.mapValue.fields.__local_write_time__.timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,r,n,i,s,a,o,A,l){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=A,this.useFetchStreams=l}}class Xa{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lm={nullValue:"NULL_VALUE"};function yA(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZC(t)?4:D4(t)?9007199254740991:O0(t)?10:11:ye()}function Wi(t,e){if(t===e)return!0;const r=yA(t);if(r!==yA(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return af(t).isEqual(af(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=js(i.timestampValue),o=js(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ya(i.bytesValue).isEqual(Ya(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mt(i.doubleValue),o=mt(s.doubleValue);return a===o?sf(a)===sf(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ac(t.arrayValue.values||[],e.arrayValue.values||[],Wi);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(m2(a)!==m2(o))return!1;for(const A in a)if(a.hasOwnProperty(A)&&(o[A]===void 0||!Wi(a[A],o[A])))return!1;return!0}(t,e);default:return ye()}}function of(t,e){return(t.values||[]).find(r=>Wi(r,e))!==void 0}function qa(t,e){if(t===e)return 0;const r=yA(t),n=yA(e);if(r!==n)return Pe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mt(s.integerValue||s.doubleValue),A=mt(a.integerValue||a.doubleValue);return o<A?-1:o>A?1:o===A?0:isNaN(o)?isNaN(A)?0:-1:1}(t,e);case 3:return v2(t.timestampValue,e.timestampValue);case 4:return v2(af(t),af(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Ya(s),A=Ya(a);return o.compareTo(A)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),A=a.split("/");for(let l=0;l<o.length&&l<A.length;l++){const c=Pe(o[l],A[l]);if(c!==0)return c}return Pe(o.length,A.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Pe(mt(s.latitude),mt(a.latitude));return o!==0?o:Pe(mt(s.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return y2(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,A,l,c;const d=s.fields||{},f=a.fields||{},g=(o=d.value)===null||o===void 0?void 0:o.arrayValue,m=(A=f.value)===null||A===void 0?void 0:A.arrayValue,p=Pe(((l=g==null?void 0:g.values)===null||l===void 0?void 0:l.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return p!==0?p:y2(g,m)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ca.mapValue&&a===Ca.mapValue)return 0;if(s===Ca.mapValue)return 1;if(a===Ca.mapValue)return-1;const o=s.fields||{},A=Object.keys(o),l=a.fields||{},c=Object.keys(l);A.sort(),c.sort();for(let d=0;d<A.length&&d<c.length;++d){const f=Pe(A[d],c[d]);if(f!==0)return f;const g=qa(o[A[d]],l[c[d]]);if(g!==0)return g}return Pe(A.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function v2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const r=js(t),n=js(e),i=Pe(r.seconds,n.seconds);return i!==0?i:Pe(r.nanos,n.nanos)}function y2(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=qa(r[i],n[i]);if(s)return s}return Pe(r.length,n.length)}function lc(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=js(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ya(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return ce.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=ob(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${ob(r.fields[a])}`;return i+"}"}(t.mapValue):ye()}function t1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ab(t){return!!t&&"integerValue"in t}function Af(t){return!!t&&"arrayValue"in t}function w2(t){return!!t&&"nullValue"in t}function x2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cm(t){return!!t&&"mapValue"in t}function O0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function wd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=wd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=wd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function D4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const R4={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function eG(t){return"nullValue"in t?lm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?t1(Xa.empty(),ce.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?O0(t)?R4:{mapValue:{}}:ye()}function tG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?t1(Xa.empty(),ce.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?R4:"mapValue"in t?O0(t)?{mapValue:{}}:Ca:ye()}function b2(t,e){const r=qa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function B2(t,e){const r=qa(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!cm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=wd(r)}setAll(e){let r=vt.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const A=this.getFieldsMap(r);this.applyChanges(A,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=wd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());cm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Wi(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];cm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Dc(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new an(wd(this.value))}}function M4(t){const e=[];return Dc(t.fields,(r,n)=>{const i=new vt([r]);if(cm(n)){const s=M4(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Dt(e,0,Ie.min(),Ie.min(),Ie.min(),an.empty(),0)}static newFoundDocument(e,r,n,i){return new Dt(e,1,r,Ie.min(),n,i,0)}static newNoDocument(e,r){return new Dt(e,2,r,Ie.min(),Ie.min(),an.empty(),0)}static newUnknownDocument(e,r){return new Dt(e,3,r,Ie.min(),Ie.min(),an.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,r){this.position=e,this.inclusive=r}}function C2(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=ce.comparator(ce.fromName(a.referenceValue),r.key):n=qa(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function E2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Wi(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,r="asc"){this.field=e,this.dir=r}}function rG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{}class Le extends L4{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new nG(e,r,n):r==="array-contains"?new aG(e,n):r==="in"?new W4(e,n):r==="not-in"?new oG(e,n):r==="array-contains-any"?new AG(e,n):new Le(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new iG(e,n):new sG(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(qa(r,this.value)):r!==null&&yA(this.value)===yA(r)&&this.matchesComparison(qa(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tt extends L4{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tt(e,r)}matches(e){return uc(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uc(t){return t.op==="and"}function lb(t){return t.op==="or"}function r1(t){return H4(t)&&uc(t)}function H4(t){for(const e of t.filters)if(e instanceof tt)return!1;return!0}function cb(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+lc(t.value);if(r1(t))return t.filters.map(e=>cb(e)).join(",");{const e=t.filters.map(r=>cb(r)).join(",");return`${t.op}(${e})`}}function V4(t,e){return t instanceof Le?function(n,i){return i instanceof Le&&n.op===i.op&&n.field.isEqual(i.field)&&Wi(n.value,i.value)}(t,e):t instanceof tt?function(n,i){return i instanceof tt&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&V4(a,i.filters[o]),!0):!1}(t,e):void ye()}function K4(t,e){const r=t.filters.concat(e);return tt.create(r,t.op)}function $4(t){return t instanceof Le?function(r){return`${r.field.canonicalString()} ${r.op} ${lc(r.value)}`}(t):t instanceof tt?function(r){return r.op.toString()+" {"+r.getFilters().map($4).join(" ,")+"}"}(t):"Filter"}class nG extends Le{constructor(e,r,n){super(e,r,n),this.key=ce.fromName(n.referenceValue)}matches(e){const r=ce.comparator(e.key,this.key);return this.matchesComparison(r)}}class iG extends Le{constructor(e,r){super(e,"in",r),this.keys=G4("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class sG extends Le{constructor(e,r){super(e,"not-in",r),this.keys=G4("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function G4(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ce.fromName(n.referenceValue))}class aG extends Le{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Af(r)&&of(r.arrayValue,this.value)}}class W4 extends Le{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&of(this.value.arrayValue,r)}}class oG extends Le{constructor(e,r){super(e,"not-in",r)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!of(this.value.arrayValue,r)}}class AG extends Le{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Af(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>of(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function ub(t,e=null,r=[],n=[],i=null,s=null,a=null){return new lG(t,e,r,n,i,s,a)}function wA(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>cb(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Q0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>lc(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>lc(n)).join(",")),e.ue=r}return e.ue}function Of(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!rG(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!V4(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E2(t.startAt,e.startAt)&&E2(t.endAt,e.endAt)}function rp(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function np(t,e){return t.filters.filter(r=>r instanceof Le&&r.field.isEqual(e))}function _2(t,e,r){let n=lm,i=!0;for(const s of np(t,e)){let a=lm,o=!0;switch(s.op){case"<":case"<=":a=eG(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=lm}b2({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];b2({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function I2(t,e,r){let n=Ca,i=!0;for(const s of np(t,e)){let a=Ca,o=!0;switch(s.op){case">=":case">":a=tG(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Ca}B2({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];B2({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,A=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=A,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cG(t,e,r,n,i,s,a,o){return new j0(t,e,r,n,i,s,a,o)}function jf(t){return new j0(t)}function S2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uG(t){return t.collectionGroup!==null}function xd(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new rt(vt.comparator);return a.filters.forEach(A=>{A.getFlattenedFilters().forEach(l=>{l.isInequality()&&(o=o.add(l.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new tp(s,n))}),r.has(vt.keyField().canonicalString())||e.ce.push(new tp(vt.keyField(),n))}return e.ce}function ai(t){const e=Ne(t);return e.le||(e.le=dG(e,xd(t))),e.le}function dG(t,e){if(t.limitType==="F")return ub(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new tp(i.field,s)});const r=t.endAt?new cc(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new cc(t.startAt.position,t.startAt.inclusive):null;return ub(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ip(t,e,r){return new j0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function D0(t,e){return Of(ai(t),ai(e))&&t.limitType===e.limitType}function z4(t){return`${wA(ai(t))}|lt:${t.limitType}`}function dl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>$4(i)).join(", ")}]`),Q0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>lc(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>lc(i)).join(",")),`Target(${n})`}(ai(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ce.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of xd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,A){const l=C2(a,o,A);return a.inclusive?l<=0:l<0}(n.startAt,xd(n),i)||n.endAt&&!function(a,o,A){const l=C2(a,o,A);return a.inclusive?l>=0:l>0}(n.endAt,xd(n),i))}(t,e)}function fG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y4(t){return(e,r)=>{let n=!1;for(const i of xd(t)){const s=hG(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function hG(t,e,r){const n=t.field.isKeyField()?ce.comparator(e.key,r.key):function(s,a,o){const A=a.data.field(s),l=o.data.field(s);return A!==null&&l!==null?qa(A,l):ye()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return O4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new bt(ce.comparator);function En(){return gG}const X4=new bt(ce.comparator);function qu(...t){let e=X4;for(const r of t)e=e.insert(r.key,r);return e}function q4(t){let e=X4;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ri(){return bd()}function J4(){return bd()}function bd(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const mG=new bt(ce.comparator),pG=new rt(ce.comparator);function ke(...t){let e=pG;for(const r of t)e=e.add(r);return e}const vG=new rt(Pe);function yG(){return vG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function Z4(t){return{integerValue:""+t}}function wG(t,e){return U9(e)?Z4(e):n1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this._=void 0}}function xG(t,e,r){return t instanceof dc?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ZC(s)&&(s=e1(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof fc?tO(t,e):t instanceof hc?rO(t,e):function(i,s){const a=eO(i,s),o=T2(a)+T2(i.Pe);return Ab(a)&&Ab(i.Pe)?Z4(o):n1(i.serializer,o)}(t,e)}function bG(t,e,r){return t instanceof fc?tO(t,e):t instanceof hc?rO(t,e):r}function eO(t,e){return t instanceof lf?function(n){return Ab(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class dc extends R0{}class fc extends R0{constructor(e){super(),this.elements=e}}function tO(t,e){const r=nO(e);for(const n of t.elements)r.some(i=>Wi(i,n))||r.push(n);return{arrayValue:{values:r}}}class hc extends R0{constructor(e){super(),this.elements=e}}function rO(t,e){let r=nO(e);for(const n of t.elements)r=r.filter(i=>!Wi(i,n));return{arrayValue:{values:r}}}class lf extends R0{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function T2(t){return mt(t.integerValue||t.doubleValue)}function nO(t){return Af(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,r){this.field=e,this.transform=r}}function BG(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof fc&&i instanceof fc||n instanceof hc&&i instanceof hc?Ac(n.elements,i.elements,Wi):n instanceof lf&&i instanceof lf?Wi(n.Pe,i.Pe):n instanceof dc&&i instanceof dc}(t.transform,e.transform)}class CG{constructor(e,r){this.version=e,this.transformResults=r}}class _n{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function um(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class M0{}function sO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new i1(t.key,_n.none()):new Rc(t.key,t.data,_n.none());{const r=t.data,n=an.empty();let i=new rt(vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new fo(t.key,n,new Zn(i.toArray()),_n.none())}}function EG(t,e,r){t instanceof Rc?function(i,s,a){const o=i.value.clone(),A=N2(i.fieldTransforms,s,a.transformResults);o.setAll(A),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof fo?function(i,s,a){if(!um(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=N2(i.fieldTransforms,s,a.transformResults),A=s.data;A.setAll(aO(i)),A.setAll(o),s.convertToFoundDocument(a.version,A).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Bd(t,e,r,n){return t instanceof Rc?function(s,a,o,A){if(!um(s.precondition,a))return o;const l=s.value.clone(),c=U2(s.fieldTransforms,A,a);return l.setAll(c),a.convertToFoundDocument(a.version,l).setHasLocalMutations(),null}(t,e,r,n):t instanceof fo?function(s,a,o,A){if(!um(s.precondition,a))return o;const l=U2(s.fieldTransforms,A,a),c=a.data;return c.setAll(aO(s)),c.setAll(l),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(s,a,o){return um(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function _G(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=eO(n.transform,i||null);s!=null&&(r===null&&(r=an.empty()),r.set(n.field,s))}return r||null}function F2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ac(n,i,(s,a)=>BG(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends M0{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fo extends M0{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aO(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function N2(t,e,r){const n=new Map;Be(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,bG(a,o,r[i]))}return n}function U2(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,xG(s,a,e))}return n}class i1 extends M0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends M0{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EG(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Bd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Bd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=J4();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const A=sO(a,o);A!==null&&n.set(i.key,A),a.isValidDocument()||a.convertToNoDocument(Ie.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),ke())}isEqual(e){return this.batchId===e.batchId&&Ac(this.mutations,e.mutations,(r,n)=>F2(r,n))&&Ac(this.baseMutations,e.baseMutations,(r,n)=>F2(r,n))}}class a1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Be(e.mutations.length===n.length);let i=function(){return mG}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new a1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,He;function SG(t){switch(t){default:return ye();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function AO(t){if(t===void 0)return $r("GRPC error has no .code"),J.UNKNOWN;switch(t){case $t.OK:return J.OK;case $t.CANCELLED:return J.CANCELLED;case $t.UNKNOWN:return J.UNKNOWN;case $t.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case $t.INTERNAL:return J.INTERNAL;case $t.UNAVAILABLE:return J.UNAVAILABLE;case $t.UNAUTHENTICATED:return J.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case $t.NOT_FOUND:return J.NOT_FOUND;case $t.ALREADY_EXISTS:return J.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return J.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case $t.ABORTED:return J.ABORTED;case $t.OUT_OF_RANGE:return J.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return J.UNIMPLEMENTED;case $t.DATA_LOSS:return J.DATA_LOSS;default:return ye()}}(He=$t||($t={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=new iA([4294967295,4294967295],0);function P2(t){const e=TG().encode(t),r=new y4;return r.update(e),new Uint8Array(r.digest())}function k2(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new iA([r,n],0),new iA([i,s],0)]}class A1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ju(`Invalid padding: ${r}`);if(n<0)throw new Ju(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=iA.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(iA.fromNumber(n)));return i.compare(FG)===1&&(i=new iA([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=P2(e),[n,i]=k2(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new A1(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=P2(e),[n,i]=k2(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new L0(Ie.min(),i,new bt(Pe),En(),ke())}}class Rf{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Rf(n,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class lO{constructor(e,r){this.targetId=e,this.me=r}}class cO{constructor(e,r,n=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Q2{constructor(){this.fe=0,this.ge=j2(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),r=ke(),n=ke();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ye()}}),new Rf(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=j2()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NG{constructor(e){this.Le=e,this.Be=new Map,this.ke=En(),this.qe=O2(),this.Qe=new bt(Pe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(rp(s))if(n===0){const a=new ce(s.path);this.Ue(r,a,Dt.newNoDocument(a,Ie.min()))}else Be(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),A=o?this.Xe(o,e,a):1;if(A!==0){this.je(r);const l=A===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,l)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Ya(n).toUint8Array()}catch(A){if(A instanceof j4)return za("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw A}try{o=new A1(a,i,s)}catch(A){return za(A instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",A),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&rp(o.target)){const A=new ce(o.target.path);this.ke.get(A)!==null||this.it(a,A)||this.Ue(a,A,Dt.newNoDocument(A,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=ke();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(A=>{const l=this.Je(A);return!l||l.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new L0(e,r,this.Qe,this.ke,n);return this.ke=En(),this.qe=O2(),this.Qe=new bt(Pe),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Q2,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new rt(Pe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||te("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Q2),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function O2(){return new bt(ce.comparator)}function j2(){return new bt(ce.comparator)}const UG={asc:"ASCENDING",desc:"DESCENDING"},PG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kG={and:"AND",or:"OR"};class QG{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function db(t,e){return t.useProto3Json||Q0(e)?e:{value:e}}function gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OG(t,e){return gc(t,e.toTimestamp())}function Yr(t){return Be(!!t),Ie.fromTimestamp(function(r){const n=js(r);return new xt(n.seconds,n.nanos)}(t))}function l1(t,e){return fb(t,e).canonicalString()}function fb(t,e){const r=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function dO(t){const e=qe.fromString(t);return Be(xO(e)),e}function sp(t,e){return l1(t.databaseId,e.path)}function sA(t,e){const r=dO(e);if(r.get(1)!==t.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new ce(gO(r))}function fO(t,e){return l1(t.databaseId,e)}function hO(t){const e=dO(t);return e.length===4?qe.emptyPath():gO(e)}function hb(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gO(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function D2(t,e,r){return{name:sp(t,e),fields:r.value.mapValue.fields}}function jG(t,e,r){const n=sA(t,e.name),i=Yr(e.updateTime),s=e.createTime?Yr(e.createTime):Ie.min(),a=new an({mapValue:{fields:e.fields}}),o=Dt.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function DG(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Be(c===void 0||typeof c=="string"),Vt.fromBase64String(c||"")):(Be(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Vt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(l){const c=l.code===void 0?J.UNKNOWN:AO(l.code);return new ge(c,l.message||"")}(a);r=new cO(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=sA(t,n.document.name),s=Yr(n.document.updateTime),a=n.document.createTime?Yr(n.document.createTime):Ie.min(),o=new an({mapValue:{fields:n.document.fields}}),A=Dt.newFoundDocument(i,s,a,o),l=n.targetIds||[],c=n.removedTargetIds||[];r=new dm(l,c,A.key,A)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=sA(t,n.document),s=n.readTime?Yr(n.readTime):Ie.min(),a=Dt.newNoDocument(i,s),o=n.removedTargetIds||[];r=new dm([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=sA(t,n.document),s=n.removedTargetIds||[];r=new dm([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new IG(i,s),o=n.targetId;r=new lO(o,a)}}return r}function ap(t,e){let r;if(e instanceof Rc)r={update:D2(t,e.key,e.value)};else if(e instanceof i1)r={delete:sp(t,e.key)};else if(e instanceof fo)r={update:D2(t,e.key,e.data),updateMask:KG(e.fieldMask)};else{if(!(e instanceof oO))return ye();r={verify:sp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof dc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof fc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof hc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof lf)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ye()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:OG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),r}function gb(t,e){const r=e.currentDocument?function(s){return s.updateTime!==void 0?_n.updateTime(Yr(s.updateTime)):s.exists!==void 0?_n.exists(s.exists):_n.none()}(e.currentDocument):_n.none(),n=e.updateTransforms?e.updateTransforms.map(i=>function(a,o){let A=null;if("setToServerValue"in o)Be(o.setToServerValue==="REQUEST_TIME"),A=new dc;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];A=new fc(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];A=new hc(c)}else"increment"in o?A=new lf(a,o.increment):ye();const l=vt.fromServerFormat(o.fieldPath);return new iO(l,A)}(t,i)):[];if(e.update){e.update.name;const i=sA(t,e.update.name),s=new an({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(A){const l=A.fieldPaths||[];return new Zn(l.map(c=>vt.fromServerFormat(c)))}(e.updateMask);return new fo(i,s,a,r,n)}return new Rc(i,s,r,n)}if(e.delete){const i=sA(t,e.delete);return new i1(i,r)}if(e.verify){const i=sA(t,e.verify);return new oO(i,r)}return ye()}function RG(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Yr(i.updateTime):Yr(s);return a.isEqual(Ie.min())&&(a=Yr(s)),new CG(a,i.transformResults||[])}(r,e))):[]}function mO(t,e){return{documents:[fO(t,e.path)]}}function pO(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fO(t,i);const s=function(l){if(l.length!==0)return wO(tt.create(l,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:fl(f.field),direction:LG(f.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=db(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:r,parent:i}}function vO(t){let e=hO(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Be(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(d){const f=yO(d);return f instanceof tt&&r1(f)?f.getFilters():[f]}(r.where));let a=[];r.orderBy&&(a=function(d){return d.map(f=>function(m){return new tp(hl(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(r.orderBy));let o=null;r.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,Q0(f)?null:f}(r.limit));let A=null;r.startAt&&(A=function(d){const f=!!d.before,g=d.values||[];return new cc(g,f)}(r.startAt));let l=null;return r.endAt&&(l=function(d){const f=!d.before,g=d.values||[];return new cc(g,f)}(r.endAt)),cG(e,i,a,s,o,"F",A,l)}function MG(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function yO(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=hl(r.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=hl(r.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=hl(r.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=hl(r.unaryFilter.field);return Le.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(r){return Le.create(hl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return tt.create(r.compositeFilter.filters.map(n=>yO(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(r.compositeFilter.op))}(t):ye()}function LG(t){return UG[t]}function HG(t){return PG[t]}function VG(t){return kG[t]}function fl(t){return{fieldPath:t.canonicalString()}}function hl(t){return vt.fromServerFormat(t.fieldPath)}function wO(t){return t instanceof Le?function(r){if(r.op==="=="){if(x2(r.value))return{unaryFilter:{field:fl(r.field),op:"IS_NAN"}};if(w2(r.value))return{unaryFilter:{field:fl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(x2(r.value))return{unaryFilter:{field:fl(r.field),op:"IS_NOT_NAN"}};if(w2(r.value))return{unaryFilter:{field:fl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(r.field),op:HG(r.op),value:r.value}}}(t):t instanceof tt?function(r){const n=r.getFilters().map(i=>wO(i));return n.length===1?n[0]:{compositeFilter:{op:VG(r.op),filters:n}}}(t):ye()}function KG(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function xO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,r,n,i,s=Ie.min(),a=Ie.min(),o=Vt.EMPTY_BYTE_STRING,A=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=A}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.ct=e}}function $G(t,e){let r;if(e.document)r=jG(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=ce.fromSegments(e.noDocument.path),i=bA(e.noDocument.readTime);r=Dt.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye();{const n=ce.fromSegments(e.unknownDocument.path),i=bA(e.unknownDocument.version);r=Dt.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime(function(i){const s=new xt(i[0],i[1]);return Ie.fromTimestamp(s)}(e.readTime)),r}function R2(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:op(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(s,a){return{name:sp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:gc(s,a.version.toTimestamp()),createTime:gc(s,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:xA(e.version)};else{if(!e.isUnknownDocument())return ye();n.unknownDocument={path:r.path.toArray(),version:xA(e.version)}}return n}function op(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function xA(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bA(t){const e=new xt(t.seconds,t.nanoseconds);return Ie.fromTimestamp(e)}function Lo(t,e){const r=(e.baseMutations||[]).map(s=>gb(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map(s=>gb(t.ct,s)),i=xt.fromMillis(e.localWriteTimeMs);return new s1(e.batchId,i,r,n)}function Zu(t){const e=bA(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?bA(t.lastLimboFreeSnapshotVersion):Ie.min();let n;return n=function(s){return s.documents!==void 0}(t.query)?function(s){return Be(s.documents.length===1),ai(jf(hO(s.documents[0])))}(t.query):function(s){return ai(vO(s))}(t.query),new xs(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Vt.fromBase64String(t.resumeToken))}function BO(t,e){const r=xA(e.snapshotVersion),n=xA(e.lastLimboFreeSnapshotVersion);let i;i=rp(e.target)?mO(t.ct,e.target):pO(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wA(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function CO(t){const e=vO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}function rw(t,e){return new o1(e.largestBatchId,gb(t.ct,e.overlayMutation))}function M2(t,e){const r=e.path.lastSegment();return[t,zr(e.path.popLast()),r]}function L2(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:xA(n.readTime),documentKey:zr(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{getBundleMetadata(e,r){return H2(e).get(r).next(n=>{if(n)return function(s){return{id:s.bundleId,createTime:bA(s.createTime),version:s.version}}(n)})}saveBundleMetadata(e,r){return H2(e).put(function(i){return{bundleId:i.id,createTime:xA(Yr(i.createTime)),version:i.version}}(r))}getNamedQuery(e,r){return V2(e).get(r).next(n=>{if(n)return function(s){return{name:s.name,query:CO(s.bundledQuery),readTime:bA(s.readTime)}}(n)})}saveNamedQuery(e,r){return V2(e).put(function(i){return{name:i.name,readTime:xA(Yr(i.readTime)),bundledQuery:i.bundledQuery}}(r))}}function H2(t){return tr(t,"bundles")}function V2(t){return tr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new H0(e,n)}getOverlay(e,r){return Cu(e).get(M2(this.userId,r)).next(n=>n?rw(this.serializer,n):null)}getOverlays(e,r){const n=Ri();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){const i=[];return n.forEach((s,a)=>{const o=new o1(r,a);i.push(this.ht(e,o))}),K.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach(a=>i.add(zr(a.getCollectionPath())));const s=[];return i.forEach(a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(Cu(e).j("collectionPathOverlayIndex",o))}),K.waitFor(s)}getOverlaysForCollection(e,r,n){const i=Ri(),s=zr(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Cu(e).U("collectionPathOverlayIndex",a).next(o=>{for(const A of o){const l=rw(this.serializer,A);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,r,n,i){const s=Ri();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Cu(e).J({index:"collectionGroupOverlayIndex",range:o},(A,l,c)=>{const d=rw(this.serializer,l);s.size()<i||d.largestBatchId===a?(s.set(d.getKey(),d),a=d.largestBatchId):c.done()}).next(()=>s)}ht(e,r){return Cu(e).put(function(i,s,a){const[o,A,l]=M2(s,a.mutation.key);return{userId:s,collectionPath:A,documentId:l,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ap(i.ct,a.mutation)}}(this.serializer,this.userId,r))}}function Cu(t){return tr(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{Pt(e){return tr(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Vt.fromUint8Array(n):Vt.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(mt(e.integerValue));else if("doubleValue"in e){const n=mt(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),sf(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=js(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(Ya(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?D4(e)?this.dt(r,Number.MAX_SAFE_INTEGER):O0(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):ye()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(mt(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),ce.fromName(e).path.forEach(n=>{this.dt(r,60),this.Dt(n,r)})}dt(e,r){e.At(r)}ft(e){e.At(2)}}Ho.vt=new Ho;function zG(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function K2(t){const e=64-function(n){let i=0;for(let s=0;s<8;++s){const a=zG(255&n[s]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class YG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=K2(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=K2(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)}(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class XG{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class qG{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Eu{constructor(){this.jt=new YG,this.Ht=new XG(this.jt),this.Jt=new qG(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Vo(this.indexId,this.documentKey,this.arrayValue,n)}}function aa(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=$2(t.arrayValue,e.arrayValue),r!==0?r:(r=$2(t.directionalValue,e.directionalValue),r!==0?r:ce.comparator(t.documentKey,e.documentKey)))}function $2(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.Xt=new rt((r,n)=>vt.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(Be(e.collectionGroup===this.collectionId),this.nn)return!1;const r=sb(e);if(r!==void 0&&!this.sn(r))return!1;const n=Oo(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const A=n[s];if(!this.on(o,A)||!this._n(this.en[a++],A))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new rt(vt.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new om(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new om(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new om(n.field,n.dir==="asc"?0:1)));return new ep(ep.UNKNOWN_ID,this.collectionId,r,nf.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){var e,r;if(Be(t instanceof Le||t instanceof tt),t instanceof Le){if(t instanceof W4){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(s=>Le.create(t.field,"==",s)))||[];return tt.create(i,"or")}return t}const n=t.filters.map(i=>EO(i));return tt.create(n,t.op)}function JG(t){if(t.getFilters().length===0)return[];const e=vb(EO(t));return Be(_O(e)),mb(e)||pb(e)?[e]:e.getFilters()}function mb(t){return t instanceof Le}function pb(t){return t instanceof tt&&r1(t)}function _O(t){return mb(t)||pb(t)||function(r){if(r instanceof tt&&lb(r)){for(const n of r.getFilters())if(!mb(n)&&!pb(n))return!1;return!0}return!1}(t)}function vb(t){if(Be(t instanceof Le||t instanceof tt),t instanceof Le)return t;if(t.filters.length===1)return vb(t.filters[0]);const e=t.filters.map(n=>vb(n));let r=tt.create(e,t.op);return r=Ap(r),_O(r)?r:(Be(r instanceof tt),Be(uc(r)),Be(r.filters.length>1),r.filters.reduce((n,i)=>c1(n,i)))}function c1(t,e){let r;return Be(t instanceof Le||t instanceof tt),Be(e instanceof Le||e instanceof tt),r=t instanceof Le?e instanceof Le?function(i,s){return tt.create([i,s],"and")}(t,e):W2(t,e):e instanceof Le?W2(e,t):function(i,s){if(Be(i.filters.length>0&&s.filters.length>0),uc(i)&&uc(s))return K4(i,s.getFilters());const a=lb(i)?i:s,o=lb(i)?s:i,A=a.filters.map(l=>c1(l,o));return tt.create(A,"or")}(t,e),Ap(r)}function W2(t,e){if(uc(e))return K4(e,t.getFilters());{const r=e.filters.map(n=>c1(t,n));return tt.create(r,"or")}}function Ap(t){if(Be(t instanceof Le||t instanceof tt),t instanceof Le)return t;const e=t.getFilters();if(e.length===1)return Ap(e[0]);if(H4(t))return t;const r=e.map(i=>Ap(i)),n=[];return r.forEach(i=>{i instanceof Le?n.push(i):i instanceof tt&&(i.op===t.op?n.push(...i.filters):n.push(i))}),n.length===1?n[0]:tt.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.un=new u1}addToCollectionParentIndex(e,r){return this.un.add(r),K.resolve()}getCollectionParents(e,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return K.resolve()}deleteFieldIndex(e,r){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,r){return K.resolve()}getDocumentsMatchingTarget(e,r){return K.resolve(null)}getIndexType(e,r){return K.resolve(0)}getFieldIndexes(e,r){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,r){return K.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,r){return K.resolve(Fn.min())}updateCollectionGroup(e,r,n){return K.resolve()}updateIndexEntries(e,r){return K.resolve()}}class u1{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new rt(qe.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new rt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Uint8Array(0);class e7{constructor(e,r){this.databaseId=r,this.cn=new u1,this.ln=new uo(n=>wA(n),(n,i)=>Of(n,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener(()=>{this.cn.add(r)});const s={collectionId:n,parent:zr(i)};return z2(e).put(s)}return K.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[I4(r),""],!1,!0);return z2(e).U(i).next(s=>{for(const a of s){if(a.collectionId!==r)break;n.push(Di(a.parent))}return n})}addFieldIndex(e,r){const n=_u(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])}}(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=el(e);return s.next(o=>{a.put(L2(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return s.next()}deleteFieldIndex(e,r){const n=_u(e),i=el(e),s=ZA(e);return n.delete(r.indexId).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=_u(e),n=ZA(e),i=el(e);return r.j().next(()=>n.j()).next(()=>i.j())}createTargetIndexes(e,r){return K.forEach(this.hn(r),n=>this.getIndexType(e,n).next(i=>{if(i===0||i===1){const s=new G2(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,r){const n=ZA(e);let i=!0;const s=new Map;return K.forEach(this.hn(r),a=>this.Pn(e,a).next(o=>{i&&(i=!!o),s.set(a,o)})).next(()=>{if(i){let a=ke();const o=[];return K.forEach(s,(A,l)=>{te("IndexedDbIndexManager",`Using index ${function(x){return`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(S=>`${S.fieldPath}:${S.kind}`).join(",")}`}(A)} to execute ${wA(r)}`);const c=function(x,S){const T=sb(S);if(T===void 0)return null;for(const I of np(x,T.fieldPath))switch(I.op){case"array-contains-any":return I.value.arrayValue.values||[];case"array-contains":return[I.value]}return null}(l,A),d=function(x,S){const T=new Map;for(const I of Oo(S))for(const C of np(x,I.fieldPath))switch(C.op){case"==":case"in":T.set(I.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return T.set(I.fieldPath.canonicalString(),C.value),Array.from(T.values())}return null}(l,A),f=function(x,S){const T=[];let I=!0;for(const C of Oo(S)){const E=C.kind===0?_2(x,C.fieldPath,x.startAt):I2(x,C.fieldPath,x.startAt);T.push(E.value),I&&(I=E.inclusive)}return new cc(T,I)}(l,A),g=function(x,S){const T=[];let I=!0;for(const C of Oo(S)){const E=C.kind===0?I2(x,C.fieldPath,x.endAt):_2(x,C.fieldPath,x.endAt);T.push(E.value),I&&(I=E.inclusive)}return new cc(T,I)}(l,A),m=this.In(A,l,f),p=this.In(A,l,g),y=this.Tn(A,l,d),w=this.En(A.indexId,c,m,f.inclusive,p,g.inclusive,y);return K.forEach(w,v=>n.G(v,r.limit).next(x=>{x.forEach(S=>{const T=ce.fromSegments(S.documentKey);a.has(T)||(a=a.add(T),o.push(T))})}))}).next(()=>o)}return K.resolve(null)})}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=JG(tt.create(e.filters,"and")).map(n=>ub(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const A=(r!=null?r.length:1)*Math.max(n.length,s.length),l=A/(r!=null?r.length:1),c=[];for(let d=0;d<A;++d){const f=r?this.dn(r[d/l]):Jh,g=this.An(e,f,n[d%l],i),m=this.Rn(e,f,s[d%l],a),p=o.map(y=>this.An(e,f,y,!0));c.push(...this.createRange(g,m,p))}return c}An(e,r,n,i){const s=new Vo(e,ce.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Vo(e,ce.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new G2(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a})}getIndexType(e,r){let n=2;const i=this.hn(r);return K.forEach(i,s=>this.Pn(e,s).next(a=>{a?n!==0&&a.fields.length<function(A){let l=new rt(vt.comparator),c=!1;for(const d of A.filters)for(const f of d.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?c=!0:l=l.add(f.field));for(const d of A.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(c?1:0)}(s)&&(n=1):n=0})).next(()=>function(a){return a.limit!==null}(r)&&i.length>1&&n===2?1:n)}Vn(e,r){const n=new Eu;for(const i of Oo(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Ho.vt.It(s,a)}return n.zt()}dn(e){const r=new Eu;return Ho.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Eu;return Ho.vt.It(t1(this.databaseId,r),n.Yt(function(s){const a=Oo(s);return a.length===0?0:a[a.length-1].kind}(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Eu);let s=0;for(const a of Oo(e)){const o=n[s++];for(const A of i)if(this.fn(r,a.fieldPath)&&Af(o))i=this.gn(i,a,o);else{const l=A.Yt(a.kind);Ho.vt.It(o,l)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const A=new Eu;A.seed(o.zt()),Ho.vt.It(a,A.Yt(r.kind)),s.push(A)}return s}fn(e,r){return!!e.filters.find(n=>n instanceof Le&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=_u(e),i=el(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next(s=>{const a=[];return K.forEach(s,o=>i.get([o.indexId,this.uid]).next(A=>{a.push(function(c,d){const f=d?new nf(d.sequenceNumber,new Fn(bA(d.readTime),new ce(Di(d.documentKey)),d.largestBatchId)):nf.empty(),g=c.fields.map(([m,p])=>new om(vt.fromServerFormat(m),p));return new ep(c.indexId,c.collectionGroup,g,f)}(o,A))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Pe(n.collectionGroup,i.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const i=_u(e),s=el(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(o=>K.forEach(o,A=>s.put(L2(A.indexId,this.uid,a,n)))))}updateIndexEntries(e,r){const n=new Map;return K.forEach(r,(i,s)=>{const a=n.get(i.collectionGroup);return(a?K.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(o=>(n.set(i.collectionGroup,o),K.forEach(o,A=>this.wn(e,i,A).next(l=>{const c=this.Sn(s,A);return l.isEqual(c)?K.resolve():this.bn(e,s,A,l,c)}))))})}Dn(e,r,n,i){return ZA(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return ZA(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=ZA(e);let s=new rt(aa);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},(a,o)=>{s=s.add(new Vo(n.indexId,r,o.arrayValue,o.directionalValue))}).next(()=>s)}Sn(e,r){let n=new rt(aa);const i=this.Vn(r,e);if(i==null)return n;const s=sb(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Af(a))for(const o of a.arrayValue.values||[])n=n.add(new Vo(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Vo(r.indexId,e.key,Jh,i));return n}bn(e,r,n,i,s){te("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return function(A,l,c,d,f){const g=A.getIterator(),m=l.getIterator();let p=JA(g),y=JA(m);for(;p||y;){let w=!1,v=!1;if(p&&y){const x=c(p,y);x<0?v=!0:x>0&&(w=!0)}else p!=null?v=!0:w=!0;w?(d(y),y=JA(m)):v?(f(p),p=JA(g)):(p=JA(g),y=JA(m))}}(i,s,aa,o=>{a.push(this.Dn(e,r,n,o))},o=>{a.push(this.vn(e,r,n,o))}),K.waitFor(a)}yn(e){let r=1;return el(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,i,s)=>{s.done(),r=i.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((a,o)=>aa(a,o)).filter((a,o,A)=>!o||aa(a,A[o-1])!==0);const i=[];i.push(e);for(const a of n){const o=aa(a,e),A=aa(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&A<0)i.push(a),i.push(a.Zt());else if(A>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Jh,[]],A=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Jh,[]];s.push(IDBKeyRange.bound(o,A))}return s}Cn(e,r){return aa(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Y2)}getMinOffset(e,r){return K.mapArray(this.hn(r),n=>this.Pn(e,n).next(i=>i||ye())).next(Y2)}}function z2(t){return tr(t,"collectionParents")}function ZA(t){return tr(t,"indexEntries")}function _u(t){return tr(t,"indexConfiguration")}function el(t){return tr(t,"indexState")}function Y2(t){Be(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;XC(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Fn(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rn{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const A=n.J({range:a},(c,d,f)=>(o++,f.delete()));s.push(A.next(()=>{Be(o===1)}));const l=[];for(const c of r.mutations){const d=U4(e,c.key.path,r.batchId);s.push(i.delete(d)),l.push(c.key)}return K.waitFor(s).next(()=>l)}function lp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ye();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);class V0{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){Be(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new V0(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).J({index:"userMutationsIndex",range:n},(i,s,a)=>{r=!1,a.done()}).next(()=>r)}addMutationBatch(e,r,n,i){const s=gl(e),a=oa(e);return a.add({}).next(o=>{Be(typeof o=="number");const A=new s1(o,r,n,i),l=function(g,m,p){const y=p.baseMutations.map(v=>ap(g.ct,v)),w=p.mutations.map(v=>ap(g.ct,v));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:y,mutations:w}}(this.serializer,this.userId,A),c=[];let d=new rt((f,g)=>Pe(f.canonicalString(),g.canonicalString()));for(const f of i){const g=U4(this.userId,f.key.path,o);d=d.add(f.key.path.popLast()),c.push(a.put(l)),c.push(s.put(g,k9))}return d.forEach(f=>{c.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[o]=A.keys()}),K.waitFor(c).next(()=>A)})}lookupMutationBatch(e,r){return oa(e).get(r).next(n=>n?(Be(n.userId===this.userId),Lo(this.serializer,n)):null)}Mn(e,r){return this.Fn[r]?K.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return oa(e).J({index:"userMutationsIndex",range:i},(a,o,A)=>{o.userId===this.userId&&(Be(o.batchId>=n),s=Lo(this.serializer,o)),A.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return oa(e).J({index:"userMutationsIndex",range:r,reverse:!0},(i,s,a)=>{n=s.batchId,a.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).U("userMutationsIndex",r).next(n=>n.map(i=>Lo(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Am(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return gl(e).J({range:i},(a,o,A)=>{const[l,c,d]=a,f=Di(c);if(l===this.userId&&r.path.isEqual(f))return oa(e).get(d).next(g=>{if(!g)throw ye();Be(g.userId===this.userId),s.push(Lo(this.serializer,g))});A.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rt(Pe);const i=[];return r.forEach(s=>{const a=Am(this.userId,s.path),o=IDBKeyRange.lowerBound(a),A=gl(e).J({range:o},(l,c,d)=>{const[f,g,m]=l,p=Di(g);f===this.userId&&s.path.isEqual(p)?n=n.add(m):d.done()});i.push(A)}),K.waitFor(i).next(()=>this.xn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Am(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new rt(Pe);return gl(e).J({range:a},(A,l,c)=>{const[d,f,g]=A,m=Di(f);d===this.userId&&n.isPrefixOf(m)?m.length===i&&(o=o.add(g)):c.done()}).next(()=>this.xn(e,o))}xn(e,r){const n=[],i=[];return r.forEach(s=>{i.push(oa(e).get(s).next(a=>{if(a===null)throw ye();Be(a.userId===this.userId),n.push(Lo(this.serializer,a))}))}),K.waitFor(i).next(()=>n)}removeMutationBatch(e,r){return IO(e._e,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.On(r.batchId)}),K.forEach(n,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return K.resolve();const n=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return gl(e).J({range:n},(s,a,o)=>{if(s[0]===this.userId){const A=Di(s[1]);i.push(A)}else o.done()}).next(()=>{Be(i.length===0)})})}containsKey(e,r){return SO(e,this.userId,r)}Nn(e){return TO(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SO(t,e,r){const n=Am(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return gl(t).J({range:s,H:!0},(o,A,l)=>{const[c,d,f]=o;c===e&&d===i&&(a=!0),l.done()}).next(()=>a)}function oa(t){return tr(t,"mutations")}function gl(t){return tr(t,"documentMutations")}function TO(t){return tr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new BA(0)}static kn(){return new BA(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next(r=>{const n=new BA(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(r=>Ie.fromTimestamp(new xt(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.qn(e).next(i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i)))}addTargetData(e,r){return this.Kn(e,r).next(()=>this.qn(e).next(n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>tl(e).delete(r.targetId)).next(()=>this.qn(e)).next(n=>(Be(n.targetCount>0),n.targetCount-=1,this.Qn(e,n)))}removeTargets(e,r,n){let i=0;const s=[];return tl(e).J((a,o)=>{const A=Zu(o);A.sequenceNumber<=r&&n.get(A.targetId)===null&&(i++,s.push(this.removeTargetData(e,A)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,r){return tl(e).J((n,i)=>{const s=Zu(i);r(s)})}qn(e){return q2(e).get("targetGlobalKey").next(r=>(Be(r!==null),r))}Qn(e,r){return q2(e).put("targetGlobalKey",r)}Kn(e,r){return tl(e).put(BO(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=wA(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return tl(e).J({range:i,index:"queryTargetsIndex"},(a,o,A)=>{const l=Zu(o);Of(r,l.target)&&(s=l,A.done())}).next(()=>s)}addMatchingKeys(e,r,n){const i=[],s=ya(e);return r.forEach(a=>{const o=zr(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))}),K.waitFor(i)}removeMatchingKeys(e,r,n){const i=ya(e);return K.forEach(r,s=>{const a=zr(s.path);return K.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])})}removeMatchingKeysForTargetId(e,r){const n=ya(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=ya(e);let s=ke();return i.J({range:n,H:!0},(a,o,A)=>{const l=Di(a[1]),c=new ce(l);s=s.add(c)}).next(()=>s)}containsKey(e,r){const n=zr(r.path),i=IDBKeyRange.bound([n],[I4(n)],!1,!0);let s=0;return ya(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,o],A,l)=>{a!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,r){return tl(e).get(r).next(n=>n?Zu(n):null)}}function tl(t){return tr(t,"targets")}function q2(t){return tr(t,"targetGlobal")}function ya(t){return tr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2([t,e],[r,n]){const i=Pe(t,r);return i===0?Pe(e,n):i}class r7{constructor(e){this.Un=e,this.buffer=new rt(J2),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();J2(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class n7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){co(r)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await UA(r)}await this.Hn(3e5)})}}class i7{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return K.resolve(Jn.oe);const n=new r7(r);return this.Jn.forEachTarget(e,i=>n.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>n.zn(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(X2)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X2):this.Xn(e,r))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,A,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(n=d,o=Date.now(),this.removeTargets(e,n,r))).next(d=>(s=d,A=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(l=Date.now(),ul()<=Re.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(A-o)+`ms
	Removed ${d} documents in `+(l-A)+`ms
Total Duration: ${l-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function s7(t,e){return new i7(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,r){this.db=e,this.garbageCollector=s7(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}er(e){let r=0;return this.Zn(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,(n,i)=>r(i))}addReference(e,r,n){return Zh(e,n)}removeReference(e,r,n){return Zh(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Zh(e,r)}nr(e,r){return function(i,s){let a=!1;return TO(i).Y(o=>SO(i,o,s).next(A=>(A&&(a=!0),K.resolve(!A)))).next(()=>a)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(a,o)=>{if(o<=r){const A=this.nr(e,a).next(l=>{if(!l)return s++,n.getEntry(e,a).next(()=>(n.removeEntry(a,Ie.min()),ya(e).delete(function(d){return[0,zr(d.path)]}(a))))});i.push(A)}}).next(()=>K.waitFor(i)).next(()=>n.apply(e)).next(()=>s)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Zh(e,r)}tr(e,r){const n=ya(e);let i,s=Jn.oe;return n.J({index:"documentTargetsIndex"},([a,o],{path:A,sequenceNumber:l})=>{a===0?(s!==Jn.oe&&r(new ce(Di(i)),s),s=l,i=A):s=Jn.oe}).next(()=>{s!==Jn.oe&&r(new ce(Di(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zh(t,e){return ya(t).put(function(n,i){return{targetId:0,path:zr(n.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.changes=new uo(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return No(e).put(n)}removeEntry(e,r,n){return No(e).delete(function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],op(a),o[o.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.rr(e,n)))}getEntry(e,r){let n=Dt.newInvalidDocument(r);return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(r))},(i,s)=>{n=this.ir(r,s)}).next(()=>n)}sr(e,r){let n={size:0,document:Dt.newInvalidDocument(r)};return No(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Iu(r))},(i,s)=>{n={document:this.ir(r,s),size:lp(s)}}).next(()=>n)}getEntries(e,r){let n=En();return this._r(e,r,(i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)}).next(()=>n)}ar(e,r){let n=En(),i=new bt(ce.comparator);return this._r(e,r,(s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,lp(a))}).next(()=>({documents:n,ur:i}))}_r(e,r,n){if(r.isEmpty())return K.resolve();let i=new rt(tT);r.forEach(A=>i=i.add(A));const s=IDBKeyRange.bound(Iu(i.first()),Iu(i.last())),a=i.getIterator();let o=a.getNext();return No(e).J({index:"documentKeyIndex",range:s},(A,l,c)=>{const d=ce.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;o&&tT(o,d)<0;)n(o,null),o=a.getNext();o&&o.isEqual(d)&&(n(o,l),o=a.hasNext()?a.getNext():null),o?c.$(Iu(o)):c.done()}).next(()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),op(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],A=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return No(e).U(IDBKeyRange.bound(o,A,!0)).next(l=>{s==null||s.incrementDocumentReadCount(l.length);let c=En();for(const d of l){const f=this.ir(ce.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);f.isFoundDocument()&&(Df(r,f)||i.has(f.key))&&(c=c.insert(f.key,f))}return c})}getAllFromCollectionGroup(e,r,n,i){let s=En();const a=eT(r,n),o=eT(r,Fn.max());return No(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(A,l,c)=>{const d=this.ir(ce.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new A7(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Z2(e).get("remoteDocumentGlobalKey").next(r=>(Be(!!r),r))}rr(e,r){return Z2(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=$G(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Ie.min())))return n}return Dt.newInvalidDocument(e)}}function NO(t){return new o7(t)}class A7 extends FO{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new uo(n=>n.toString(),(n,i)=>n.isEqual(i))}applyChanges(e){const r=[];let n=0,i=new rt((s,a)=>Pe(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const A=R2(this.cr.serializer,a);i=i.add(s.path.popLast());const l=lp(A);n+=l-o.size,r.push(this.cr.addEntry(e,s,A))}else if(n-=o.size,this.trackRemovals){const A=R2(this.cr.serializer,a.convertToNoDocument(Ie.min()));r.push(this.cr.addEntry(e,s,A))}}),i.forEach(s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),r.push(this.cr.updateMetadata(e,n)),K.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next(n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.cr.ar(e,r).next(({documents:n,ur:i})=>(i.forEach((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})}),n))}}function Z2(t){return tr(t,"remoteDocumentGlobal")}function No(t){return tr(t,"remoteDocumentsV14")}function Iu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function eT(t,e){const r=e.documentKey.path.toArray();return[t,op(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function tT(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Pe(r[s],n[s]),i)return i;return i=Pe(r.length,n.length),i||(i=Pe(r[r.length-2],n[n.length-2]),i||Pe(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Bd(n.mutation,i,Zn.empty(),xt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,ke()).next(()=>n))}getLocalViewOfDocuments(e,r,n=ke()){const i=Ri();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=qu();return s.forEach((o,A)=>{a=a.insert(o,A.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ri();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,ke()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=En();const a=bd(),o=function(){return bd()}();return r.forEach((A,l)=>{const c=n.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof fo)?s=s.insert(l.key,l):c!==void 0?(a.set(l.key,c.mutation.getFieldMask()),Bd(c.mutation,l,c.mutation.getFieldMask(),xt.now())):a.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(A=>(A.forEach((l,c)=>a.set(l,c)),r.forEach((l,c)=>{var d;return o.set(l,new l7(c,(d=a.get(l))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(e,r){const n=bd();let i=new bt((a,o)=>a-o),s=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(A=>{const l=r.get(A);if(l===null)return;let c=n.get(A)||Zn.empty();c=o.applyToLocalView(l,c),n.set(A,c);const d=(i.get(o.batchId)||ke()).add(A);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const A=o.getNext(),l=A.key,c=A.value,d=J4();c.forEach(f=>{if(!s.has(f)){const g=sO(r.get(f),n.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,l,d))}return K.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return ce.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):uG(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):K.resolve(Ri());let o=-1,A=s;return a.next(l=>K.forEach(l,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{A=A.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,A,l,ke())).next(c=>({batchId:o,changes:q4(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new ce(r)).next(n=>{let i=qu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=qu();return this.indexManager.getCollectionParents(e,s).next(o=>K.forEach(o,A=>{const l=function(d,f){return new j0(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,A.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,n,i).next(c=>{c.forEach((d,f)=>{a=a.insert(d,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((A,l)=>{const c=l.getKey();a.get(c)===null&&(a=a.insert(c,Dt.newInvalidDocument(c)))});let o=qu();return a.forEach((A,l)=>{const c=s.get(A);c!==void 0&&Bd(c.mutation,l,Zn.empty(),xt.now()),Df(r,l)&&(o=o.insert(A,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Yr(i.createTime)}}(r)),K.resolve()}getNamedQuery(e,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:CO(i.bundledQuery),readTime:Yr(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.overlays=new bt(ce.comparator),this.Ir=new Map}getOverlay(e,r){return K.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ri();return K.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),K.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(e,r,n){const i=Ri(),s=r.length+1,a=new ce(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const A=o.getNext().value,l=A.getKey();if(!r.isPrefixOf(l.path))break;l.path.length===s&&A.largestBatchId>n&&i.set(A.getKey(),A)}return K.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new bt((l,c)=>l-c);const a=this.overlays.getIterator();for(;a.hasNext();){const l=a.getNext().value;if(l.getKey().getCollectionGroup()===r&&l.largestBatchId>n){let c=s.get(l.largestBatchId);c===null&&(c=Ri(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const o=Ri(),A=s.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((l,c)=>o.set(l,c)),!(o.size()>=i)););return K.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new o1(r,n));let s=this.Ir.get(r);s===void 0&&(s=ke(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.Tr=new rt(ur.Er),this.dr=new rt(ur.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new ur(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new ur(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new ce(new qe([])),n=new ur(r,e),i=new ur(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new ce(new qe([])),n=new ur(r,e),i=new ur(r,e+1);let s=ke();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new ur(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ur{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return ce.comparator(e.key,r.key)||Pe(e.wr,r.wr)}static Ar(e,r){return Pe(e.wr,r.wr)||ce.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new rt(ur.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new s1(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ur(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ur(r,0),i=new ur(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new rt(Pe);return r.forEach(i=>{const s=new ur(i,0),a=new ur(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;ce.isDocumentKey(s)||(s=s.child(""));const a=new ur(new ce(s),0);let o=new rt(Pe);return this.br.forEachWhile(A=>{const l=A.key.path;return!!n.isPrefixOf(l)&&(l.length===i&&(o=o.add(A.wr)),!0)},a),K.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Be(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const s=new ur(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new ur(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.Mr=e,this.docs=function(){return new bt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():Dt.newInvalidDocument(r))}getEntries(e,r){let n=En();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=En();const a=r.path,o=new ce(a.child("")),A=this.docs.getIteratorFrom(o);for(;A.hasNext();){const{key:l,value:{document:c}}=A.getNext();if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||XC(S4(c),n)<=0||(i.has(c.key)||Df(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ye()}Or(e,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new g7(this)}getSize(e){return K.resolve(this.size)}}class g7 extends FO{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.persistence=e,this.Nr=new uo(r=>wA(r),Of),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new d1,this.targetCount=0,this.kr=BA.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new BA(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(e,r){return this.Kn(r),K.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(e,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Jn(0),this.Kr=!1,this.Kr=!0,this.$r=new d7,this.referenceDelegate=e(this),this.Ur=new m7(this),this.indexManager=new ZG,this.remoteDocumentCache=function(i){return new h7(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new bO(r),this.Gr=new c7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new u7,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new f7(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("MemoryPersistence","Starting transaction:",e);const i=new p7(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class p7 extends F4{constructor(e){super(),this.currentSequenceNumber=e}}class K0{constructor(e){this.persistence=e,this.Jr=new d1,this.Yr=null}static Zr(e){return new K0(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=ce.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ie.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.serializer=e}O(e,r,n,i){const s=new k0("createOrUpgrade",r);n<1&&i>=1&&(function(A){A.createObjectStore("owner")}(e),function(A){A.createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g2,{unique:!0}),A.createObjectStore("documentMutations")}(e),rT(e),function(A){A.createObjectStore("remoteDocuments")}(e));let a=K.resolve();return n<3&&i>=3&&(n!==0&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),rT(e)),a=a.next(()=>function(A){const l=A.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),n<4&&i>=4&&(n!==0&&(a=a.next(()=>function(A,l){return l.store("mutations").U().next(c=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g2,{unique:!0});const d=l.store("mutations"),f=c.map(g=>d.put(g));return K.waitFor(f)})}(e,s))),a=a.next(()=>{(function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),n<5&&i>=5&&(a=a.next(()=>this.ni(s))),n<6&&i>=6&&(a=a.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),n<7&&i>=7&&(a=a.next(()=>this.ii(s))),n<8&&i>=8&&(a=a.next(()=>this.si(e,s))),n<9&&i>=9&&(a=a.next(()=>{(function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&i>=10&&(a=a.next(()=>this.oi(s))),n<11&&i>=11&&(a=a.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&i>=12&&(a=a.next(()=>{(function(A){const l=A.createObjectStore("documentOverlays",{keyPath:G9});l.createIndex("collectionPathOverlayIndex",W9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",z9,{unique:!1})})(e)})),n<13&&i>=13&&(a=a.next(()=>function(A){const l=A.createObjectStore("remoteDocumentsV14",{keyPath:Q9});l.createIndex("documentKeyIndex",O9),l.createIndex("collectionGroupIndex",j9)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&i>=14&&(a=a.next(()=>this.ai(e,s))),n<15&&i>=15&&(a=a.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:H9}).createIndex("sequenceNumberIndex",V9,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:K9}).createIndex("documentKeyIndex",$9,{unique:!1})}(e))),n<16&&i>=16&&(a=a.next(()=>{r.objectStore("indexState").clear()}).next(()=>{r.objectStore("indexEntries").clear()})),n<17&&i>=17&&(a=a.next(()=>{(function(A){A.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let r=0;return e.store("remoteDocuments").J((n,i)=>{r+=lp(i)}).next(()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next(i=>K.forEach(i,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next(o=>K.forEach(o,A=>{Be(A.userId===s.userId);const l=Lo(this.serializer,A);return IO(e,s.userId,l).next(()=>{})}))}))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return n.J((a,o)=>{const A=new qe(a),l=function(d){return[0,zr(d)]}(A);s.push(r.get(l).next(c=>c?K.resolve():(d=>r.put({targetId:0,path:zr(d),sequenceNumber:i.highestListenSequenceNumber}))(A)))}).next(()=>K.waitFor(s))})}si(e,r){e.createObjectStore("collectionParents",{keyPath:L9});const n=r.store("collectionParents"),i=new u1,s=a=>{if(i.add(a)){const o=a.lastSegment(),A=a.popLast();return n.put({collectionId:o,parent:zr(A)})}};return r.store("remoteDocuments").J({H:!0},(a,o)=>{const A=new qe(a);return s(A.popLast())}).next(()=>r.store("documentMutations").J({H:!0},([a,o,A],l)=>{const c=Di(o);return s(c.popLast())}))}oi(e){const r=e.store("targets");return r.J((n,i)=>{const s=Zu(i),a=BO(this.serializer,s);return r.put(a)})}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J((s,a)=>{const o=r.store("remoteDocumentsV14"),A=function(d){return d.document?new ce(qe.fromString(d.document.name).popFirst(5)):d.noDocument?ce.fromSegments(d.noDocument.path):d.unknownDocument?ce.fromSegments(d.unknownDocument.path):ye()}(a).path.toArray(),l={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(l))}).next(()=>K.waitFor(i))}ai(e,r){const n=r.store("mutations"),i=NO(this.serializer),s=new PO(K0.Zr,this.serializer.ct);return n.U().next(a=>{const o=new Map;return a.forEach(A=>{var l;let c=(l=o.get(A.userId))!==null&&l!==void 0?l:ke();Lo(this.serializer,A).keys().forEach(d=>c=c.add(d)),o.set(A.userId,c)}),K.forEach(o,(A,l)=>{const c=new br(l),d=H0.lt(this.serializer,c),f=s.getIndexManager(c),g=V0.lt(c,this.serializer,f,s.referenceDelegate);return new UO(i,g,d,f).recalculateAndSaveOverlaysForDocumentKeys(new ab(r,Jn.oe),A).next()})})}}function rT(t){t.createObjectStore("targetDocuments",{keyPath:R9}).createIndex("documentTargetsIndex",M9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",D9,{unique:!0}),t.createObjectStore("targetGlobal")}const nw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f1{constructor(e,r,n,i,s,a,o,A,l,c,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=l,this.li=c,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!f1.D())throw new ge(J.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new a7(this,i),this.Ai=r+"main",this.serializer=new bO(A),this.Ri=new Ma(this.Ai,this.hi,new v7(this.serializer)),this.$r=new WG,this.Ur=new t7(this.referenceDelegate,this.serializer),this.remoteDocumentCache=NO(this.serializer),this.Gr=new GG,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&$r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(J.FAILED_PRECONDITION,nw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Jn(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(r=>this.isPrimary&&!r?this.bi(e).next(()=>!1):!!r&&this.Di(e).next(()=>!0))).catch(e=>{if(co(e))return te("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Su(e).get("owner").next(r=>K.resolve(this.vi(r)))}Ci(e){return eg(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=tr(r,"clientMetadata");return n.U().next(i=>{const s=this.xi(i,18e5),a=i.filter(o=>s.indexOf(o)===-1);return K.forEach(a,o=>n.delete(o.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):Su(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new ge(J.FAILED_PRECONDITION,nw);return!1}}return!(!this.networkEnabled||!this.inForeground)||eg(e).U().next(n=>this.xi(n,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&te("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const r=new ab(e,Jn.oe);return this.bi(r).next(()=>this.Ci(r))}),this.Ri.close(),this.qi()}xi(e,r){return e.filter(n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>eg(e).U().next(r=>this.xi(r,18e5).map(n=>n.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return V0.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new e7(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return H0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){te("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=function(A){return A===17?q9:A===16?X9:A===15?JC:A===14?Q4:A===13?k4:A===12?Y9:A===11?P4:void ye()}(this.hi);let a;return this.Ri.runTransaction(e,i,s,o=>(a=new ab(o,this.Qr?this.Qr.next():Jn.oe),r==="readwrite-primary"?this.wi(a).next(A=>!!A||this.Si(a)).next(A=>{if(!A)throw $r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ge(J.FAILED_PRECONDITION,T4);return n(a)}).next(A=>this.Di(a).next(()=>A)):this.Ki(a).next(()=>n(a)))).then(o=>(a.raiseOnCommittedEvent(),o))}Ki(e){return Su(e).get("owner").next(r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new ge(J.FAILED_PRECONDITION,nw)})}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Su(e).put("owner",r)}static D(){return Ma.D()}bi(e){const r=Su(e);return r.get("owner").next(n=>this.vi(n)?(te("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):K.resolve())}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||($r(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;u4()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return te("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return $r("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){$r("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Su(t){return tr(t,"owner")}function eg(t){return tr(t,"clientMetadata")}function y7(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=ke(),i=ke();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return u4()?8:N4(er())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new w7;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(ul()<=Re.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",dl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ul()<=Re.DEBUG&&te("QueryEngine","Query:",dl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(ul()<=Re.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",dl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(r))):K.resolve())}Yi(e,r){if(S2(r))return K.resolve(null);let n=ai(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=ip(r,null,"F"),n=ai(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=ke(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(A=>{const l=this.ts(r,o);return this.ns(r,l,a,A.readTime)?this.Yi(e,ip(r,null,"F")):this.rs(e,l,r,A)}))})))}Zi(e,r,n,i){return S2(r)||i.isEqual(Ie.min())?K.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?K.resolve(null):(ul()<=Re.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dl(r)),this.rs(e,a,r,I9(i,-1)).next(o=>o))})}ts(e,r){let n=new rt(Y4(e));return r.forEach((i,s)=>{Df(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return ul()<=Re.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",dl(r)),this.Ji.getDocumentsMatchingQuery(e,r,Fn.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new bt(Pe),this._s=new uo(s=>wA(s),Of),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function QO(t,e,r,n){return new x7(t,e,r,n)}async function OO(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let A=ke();for(const l of i){a.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}for(const l of s){o.push(l.batchId);for(const c of l.mutations)A=A.add(c.key)}return r.localDocuments.getDocuments(n,A).next(l=>({hs:l,removedBatchIds:a,addedBatchIds:o}))})})}function b7(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,A,l,c){const d=l.batch,f=d.keys();let g=K.resolve();return f.forEach(m=>{g=g.next(()=>c.getEntry(A,m)).next(p=>{const y=l.docVersions.get(m);Be(y!==null),p.version.compareTo(y)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),g.next(()=>o.mutationQueue.removeMutationBatch(A,d))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let A=ke();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(A=A.add(o.batch.mutations[l].key));return A}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function jO(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function B7(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Vt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):c.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(c.resumeToken,n)),i=i.insert(d,g),function(p,y,w){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,g,c)&&o.push(r.Ur.updateTargetData(s,g))});let A=En(),l=ke();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(C7(s,a,e.documentUpdates).next(c=>{A=c.Ps,l=c.Is})),!n.isEqual(Ie.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(d=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return K.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,A,l)).next(()=>A)}).then(s=>(r.os=i,s))}function C7(t,e,r){let n=ke(),i=ke();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=En();return r.forEach((o,A)=>{const l=s.get(o);A.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(o)),A.isNoDocument()&&A.version.isEqual(Ie.min())?(e.removeEntry(o,A.readTime),a=a.insert(o,A)):!l.isValidDocument()||A.version.compareTo(l.version)>0||A.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(A),a=a.insert(o,A)):te("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",A.version)}),{Ps:a,Is:i}})}function E7(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function _7(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,K.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new xs(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function yb(t,e,r){const n=Ne(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!co(a))throw a;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function nT(t,e,r){const n=Ne(t);let i=Ie.min(),s=ke();return n.persistence.runTransaction("Execute query","readwrite",a=>function(A,l,c){const d=Ne(A),f=d._s.get(c);return f!==void 0?K.resolve(d.os.get(f)):d.Ur.getTargetData(l,c)}(n,a,ai(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(A=>{s=A})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ie.min(),r?s:ke())).next(o=>(I7(n,fG(e),o),{documents:o,Ts:s})))}function I7(t,e,r){let n=t.us.get(e)||Ie.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class iT{constructor(){this.activeTargetIds=yG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DO{constructor(){this.so=new iT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg=null;function iw(){return tg===null?tg=function(){return 268435456+Math.round(2147483648*Math.random())}():tg++,"0x"+tg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class N7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=iw(),A=this.xo(r,n.toUriEncodedString());te("RestConnection",`Sending RPC '${r}' ${o}:`,A,i);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,a),this.No(r,A,l,i).then(c=>(te("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw za("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",A,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=T7[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=iw();return new Promise((a,o)=>{const A=new w4;A.setWithCredentials(!0),A.listenOnce(x4.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case am.NO_ERROR:const c=A.getResponseJson();te(Ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case am.TIMEOUT:te(Ur,`RPC '${e}' ${s} timed out`),o(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case am.HTTP_ERROR:const d=A.getStatus();if(te(Ur,`RPC '${e}' ${s} failed with status:`,d,"response text:",A.getResponseText()),d>0){let f=A.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(w)>=0?w:J.UNKNOWN}(g.status);o(new ge(m,g.message))}else o(new ge(J.UNKNOWN,"Server responded with status "+A.getStatus()))}else o(new ge(J.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{te(Ur,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);te(Ur,`RPC '${e}' ${s} sending request:`,i),A.send(r,"POST",l,n,15)})}Bo(e,r,n){const i=iw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=C4(),o=B4(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(A.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(A.useFetchStreams=!0),this.Oo(A.initMessageHeaders,r,n),A.encodeInitMessageHeaders=!0;const c=s.join("");te(Ur,`Creating RPC '${e}' stream ${i}: ${c}`,A);const d=a.createWebChannel(c,A);let f=!1,g=!1;const m=new F7({Io:y=>{g?te(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(te(Ur,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(Ur,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),p=(y,w,v)=>{y.listen(w,x=>{try{v(x)}catch(S){setTimeout(()=>{throw S},0)}})};return p(d,Xu.EventType.OPEN,()=>{g||(te(Ur,`RPC '${e}' stream ${i} transport opened.`),m.yo())}),p(d,Xu.EventType.CLOSE,()=>{g||(g=!0,te(Ur,`RPC '${e}' stream ${i} transport closed`),m.So())}),p(d,Xu.EventType.ERROR,y=>{g||(g=!0,za(Ur,`RPC '${e}' stream ${i} transport errored:`,y),m.So(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),p(d,Xu.EventType.MESSAGE,y=>{var w;if(!g){const v=y.data[0];Be(!!v);const x=v,S=x.error||((w=x[0])===null||w===void 0?void 0:w.error);if(S){te(Ur,`RPC '${e}' stream ${i} received error:`,S);const T=S.status;let I=function(F){const N=$t[F];if(N!==void 0)return AO(N)}(T),C=S.message;I===void 0&&(I=J.INTERNAL,C="Unknown error status: "+T+" with message "+S.message),g=!0,m.So(new ge(I,C)),d.close()}else te(Ur,`RPC '${e}' stream ${i} received:`,v),m.bo(v)}}),p(o,b4.STAT_EVENT,y=>{y.stat===ib.PROXY?te(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===ib.NOPROXY&&te(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(){return typeof window<"u"?window:null}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){return new QG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,r,n,i,s,a,o,A){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=A,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RO(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===J.RESOURCE_EXHAUSTED?($r(r.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new ge(J.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P7 extends MO{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=DG(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ie.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ie.min():a.readTime?Yr(a.readTime):Ie.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=hb(this.serializer),r.addTarget=function(s,a){let o;const A=a.target;if(o=rp(A)?{documents:mO(s,A)}:{query:pO(s,A)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=uO(s,a.resumeToken);const l=db(s,a.expectedCount);l!==null&&(o.expectedCount=l)}else if(a.snapshotVersion.compareTo(Ie.min())>0){o.readTime=gc(s,a.snapshotVersion.toTimestamp());const l=db(s,a.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const n=MG(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=hb(this.serializer),r.removeTarget=e,this.a_(r)}}class k7 extends MO{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=RG(e.writeResults,e.commitTime),n=Yr(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=hb(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>ap(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,fb(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(J.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,fb(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(J.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class O7{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(r),this.D_=!1):te("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{PA(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(A){const l=Ne(A);l.L_.add(4),await Mf(l),l.q_.set("Unknown"),l.L_.delete(4),await G0(l)}(this))})}),this.q_=new O7(n,i)}}async function G0(t){if(PA(t))for(const e of t.B_)await e(!0)}async function Mf(t){for(const e of t.B_)await e(!1)}function LO(t,e){const r=Ne(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),v1(r)?p1(r):Mc(r).r_()&&m1(r,e))}function g1(t,e){const r=Ne(t),n=Mc(r);r.N_.delete(e),n.r_()&&HO(r,e),r.N_.size===0&&(n.r_()?n.o_():PA(r)&&r.q_.set("Unknown"))}function m1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Mc(t).A_(e)}function HO(t,e){t.Q_.xe(e),Mc(t).R_(e)}function p1(t){t.Q_=new NG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Mc(t).start(),t.q_.v_()}function v1(t){return PA(t)&&!Mc(t).n_()&&t.N_.size>0}function PA(t){return Ne(t).L_.size===0}function VO(t){t.Q_=void 0}async function D7(t){t.q_.set("Online")}async function R7(t){t.N_.forEach((e,r)=>{m1(t,e)})}async function M7(t,e){VO(t),v1(t)?(t.q_.M_(e),p1(t)):t.q_.set("Unknown")}async function L7(t,e,r){if(t.q_.set("Online"),e instanceof cO&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await cp(t,n)}else if(e instanceof dm?t.Q_.Ke(e):e instanceof lO?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ie.min()))try{const n=await jO(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((A,l)=>{if(A.resumeToken.approximateByteSize()>0){const c=s.N_.get(l);c&&s.N_.set(l,c.withResumeToken(A.resumeToken,a))}}),o.targetMismatches.forEach((A,l)=>{const c=s.N_.get(A);if(!c)return;s.N_.set(A,c.withResumeToken(Vt.EMPTY_BYTE_STRING,c.snapshotVersion)),HO(s,A);const d=new xs(c.target,A,l,c.sequenceNumber);m1(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){te("RemoteStore","Failed to raise snapshot:",n),await cp(t,n)}}async function cp(t,e,r){if(!co(e))throw e;t.L_.add(1),await Mf(t),t.q_.set("Offline"),r||(r=()=>jO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await G0(t)})}function KO(t,e){return e().catch(r=>cp(t,r,e))}async function Lf(t){const e=Ne(t),r=Ja(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;H7(e);)try{const i=await E7(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,V7(e,i)}catch(i){await cp(e,i)}$O(e)&&GO(e)}function H7(t){return PA(t)&&t.O_.length<10}function V7(t,e){t.O_.push(e);const r=Ja(t);r.r_()&&r.V_&&r.m_(e.mutations)}function $O(t){return PA(t)&&!Ja(t).n_()&&t.O_.length>0}function GO(t){Ja(t).start()}async function K7(t){Ja(t).p_()}async function $7(t){const e=Ja(t);for(const r of t.O_)e.m_(r.mutations)}async function G7(t,e,r){const n=t.O_.shift(),i=a1.from(n,e,r);await KO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lf(t)}async function W7(t,e){e&&Ja(t).V_&&await async function(n,i){if(function(a){return SG(a)&&a!==J.ABORTED}(i.code)){const s=n.O_.shift();Ja(n).s_(),await KO(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lf(n)}}(t,e),$O(t)&&GO(t)}async function aT(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const n=PA(r);r.L_.add(3),await Mf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await G0(r)}async function z7(t,e){const r=Ne(t);e?(r.L_.delete(2),await G0(r)):e||(r.L_.add(2),await Mf(r),r.q_.set("Unknown"))}function Mc(t){return t.K_||(t.K_=function(r,n,i){const s=Ne(r);return s.w_(),new P7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:D7.bind(null,t),Ro:R7.bind(null,t),mo:M7.bind(null,t),d_:L7.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),v1(t)?p1(t):t.q_.set("Unknown")):(await t.K_.stop(),VO(t))})),t.K_}function Ja(t){return t.U_||(t.U_=function(r,n,i){const s=Ne(r);return s.w_(),new k7(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:K7.bind(null,t),mo:W7.bind(null,t),f_:$7.bind(null,t),g_:G7.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Lf(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new y1(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w1(t,e){if($r("AsyncQueue",`${e}: ${t}`),co(t))return new ge(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.comparator=e?(r,n)=>e(r,n)||ce.comparator(r.key,n.key):(r,n)=>ce.comparator(r.key,n.key),this.keyedMap=qu(),this.sortedSet=new bt(this.comparator)}static emptySet(e){return new Vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Vl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.W_=new bt(ce.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class mc{constructor(e,r,n,i,s,a,o,A,l){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=A,this.hasCachedResults=l}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new mc(e,r,Vl.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&D0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class X7{constructor(){this.queries=AT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ne(r),s=i.queries;i.queries=AT(),s.forEach((a,o)=>{for(const A of o.j_)A.onError(n)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function AT(){return new uo(t=>z4(t),D0)}async function x1(t,e){const r=Ne(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new Y7,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=w1(a,`Initialization of query '${dl(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&B1(r)}async function b1(t,e){const r=Ne(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function q7(t,e){const r=Ne(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&B1(r)}function J7(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function B1(t){t.Y_.forEach(e=>{e.next()})}var wb,lT;(lT=wb||(wb={})).ea="default",lT.Cache="cache";class C1{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new mc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.key=e}}class zO{constructor(e){this.key=e}}class Z7{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=Y4(e),this.Ra=new Vl(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new oT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const A=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),g=Df(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),p=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let y=!1;f&&g?f.data.isEqual(g.data)?m!==p&&(n.track({type:3,doc:g}),y=!0):this.ga(f,g)||(n.track({type:2,doc:g}),y=!0,(A&&this.Aa(g,A)>0||l&&this.Aa(g,l)<0)&&(o=!0)):!f&&g?(n.track({type:0,doc:g}),y=!0):f&&!g&&(n.track({type:1,doc:f}),y=!0,(A||l)&&(o=!0)),y&&(g?(a=a.add(g),s=p?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,d)=>function(g,m){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return p(g)-p(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],A=this.da.size===0&&this.current&&!i?1:0,l=A!==this.Ea;return this.Ea=A,a.length!==0||l?{snapshot:new mc(this.query,e.Ra,s,a,e.mutatedKeys,A===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ke(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new zO(n))}),this.da.forEach(n=>{e.has(n)||r.push(new WO(n))}),r}ba(e){this.Ta=e.Ts,this.da=ke();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return mc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eW{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class tW{constructor(e){this.key=e,this.va=!1}}class rW{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new uo(o=>z4(o),D0),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(ce.comparator),this.Na=new Map,this.La=new d1,this.Ba={},this.ka=new Map,this.qa=BA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nW(t,e,r=!0){const n=ej(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await YO(n,e,r,!0),i}async function iW(t,e){const r=ej(t);await YO(r,e,!0,!1)}async function YO(t,e,r,n){const i=await _7(t.localStore,ai(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await sW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&LO(t.remoteStore,i),o}async function sW(t,e,r,n,i){t.Ka=(d,f,g)=>async function(p,y,w,v){let x=y.view.ma(w);x.ns&&(x=await nT(p.localStore,y.query,!1).then(({documents:C})=>y.view.ma(C,x)));const S=v&&v.targetChanges.get(y.targetId),T=v&&v.targetMismatches.get(y.targetId)!=null,I=y.view.applyChanges(x,p.isPrimaryClient,S,T);return uT(p,y.targetId,I.wa),I.snapshot}(t,d,f,g);const s=await nT(t.localStore,e,!0),a=new Z7(e,s.Ts),o=a.ma(s.documents),A=Rf.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),l=a.applyChanges(o,t.isPrimaryClient,A);uT(t,r,l.wa);const c=new eW(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),l.snapshot}async function aW(t,e,r){const n=Ne(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!D0(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&g1(n.remoteStore,i.targetId),xb(n,i.targetId)}).catch(UA)):(xb(n,i.targetId),await yb(n.localStore,i.targetId,!0))}async function oW(t,e){const r=Ne(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),g1(r.remoteStore,n.targetId))}async function AW(t,e,r){const n=tj(t);try{const i=await function(a,o){const A=Ne(a),l=xt.now(),c=o.reduce((g,m)=>g.add(m.key),ke());let d,f;return A.persistence.runTransaction("Locally write mutations","readwrite",g=>{let m=En(),p=ke();return A.cs.getEntries(g,c).next(y=>{m=y,m.forEach((w,v)=>{v.isValidDocument()||(p=p.add(w))})}).next(()=>A.localDocuments.getOverlayedDocuments(g,m)).next(y=>{d=y;const w=[];for(const v of o){const x=_G(v,d.get(v.key).overlayedDocument);x!=null&&w.push(new fo(v.key,x,M4(x.value.mapValue),_n.exists(!0)))}return A.mutationQueue.addMutationBatch(g,l,w,o)}).next(y=>{f=y;const w=y.applyToLocalDocumentSet(d,p);return A.documentOverlayCache.saveOverlays(g,y.batchId,w)})}).then(()=>({batchId:f.batchId,changes:q4(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,A){let l=a.Ba[a.currentUser.toKey()];l||(l=new bt(Pe)),l=l.insert(o,A),a.Ba[a.currentUser.toKey()]=l}(n,i.batchId,r),await Hf(n,i.changes),await Lf(n.remoteStore)}catch(i){const s=w1(i,"Failed to persist write");r.reject(s)}}async function XO(t,e){const r=Ne(t);try{const n=await B7(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Be(a.va):i.removedDocuments.size>0&&(Be(a.va),a.va=!1))}),await Hf(r,n,e)}catch(n){await UA(n)}}function cT(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const A=Ne(a);A.onlineState=o;let l=!1;A.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(o)&&(l=!0)}),l&&B1(A)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lW(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new bt(ce.comparator);a=a.insert(s,Dt.newNoDocument(s,Ie.min()));const o=ke().add(s),A=new L0(Ie.min(),new Map,new bt(Pe),a,o);await XO(n,A),n.Oa=n.Oa.remove(s),n.Na.delete(e),E1(n)}else await yb(n.localStore,e,!1).then(()=>xb(n,e,r)).catch(UA)}async function cW(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await b7(r.localStore,e);JO(r,n,null),qO(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Hf(r,i)}catch(i){await UA(i)}}async function uW(t,e,r){const n=Ne(t);try{const i=await function(a,o){const A=Ne(a);return A.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return A.mutationQueue.lookupMutationBatch(l,o).next(d=>(Be(d!==null),c=d.keys(),A.mutationQueue.removeMutationBatch(l,d))).next(()=>A.mutationQueue.performConsistencyCheck(l)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>A.localDocuments.getDocuments(l,c))})}(n.localStore,e);JO(n,e,r),qO(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Hf(n,i)}catch(i){await UA(i)}}function qO(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function JO(t,e,r){const n=Ne(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function xb(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||ZO(t,n)})}function ZO(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(g1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),E1(t))}function uT(t,e,r){for(const n of r)n instanceof WO?(t.La.addReference(n.key,e),dW(t,n)):n instanceof zO?(te("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||ZO(t,n.key)):ye()}function dW(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(te("SyncEngine","New document in limbo: "+r),t.xa.add(n),E1(t))}function E1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new ce(qe.fromString(e)),n=t.qa.next();t.Na.set(n,new tW(r)),t.Oa=t.Oa.insert(r,n),LO(t.remoteStore,new xs(ai(jf(r.path)),n,"TargetPurposeLimboResolution",Jn.oe))}}async function Hf(t,e,r){const n=Ne(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,A)=>{a.push(n.Ka(A,e,r).then(l=>{var c;if((l||r)&&n.isPrimaryClient){const d=l?!l.fromCache:(c=r==null?void 0:r.targetChanges.get(A.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(A.targetId,d?"current":"not-current")}if(l){i.push(l);const d=h1.Wi(A.targetId,l);s.push(d)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(A,l){const c=Ne(A);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(l,f=>K.forEach(f.$i,g=>c.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>K.forEach(f.Ui,g=>c.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!co(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const g=c.os.get(f),m=g.snapshotVersion,p=g.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(f,p)}}}(n.localStore,s))}async function fW(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const n=await OO(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(A=>{A.reject(new ge(J.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hf(r,n.hs)}}function hW(t,e){const r=Ne(t),n=r.Na.get(e);if(n&&n.va)return ke().add(n.key);{let i=ke();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function ej(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lW.bind(null,e),e.Ca.d_=q7.bind(null,e.eventManager),e.Ca.$a=J7.bind(null,e.eventManager),e}function tj(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uW.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return QO(this.persistence,new kO,e.initialUser,this.serializer)}Ga(e){return new PO(K0.Zr,this.serializer)}Wa(e){return new DO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class gW extends cf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await tj(this.Ja.syncEngine),await Lf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return QO(this.persistence,new kO,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new n7(n,e.asyncQueue,r)}Ha(e,r){const n=new N9(r,this.persistence);return new F9(e.asyncQueue,n)}Ga(e){const r=y7(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new f1(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,U7(),fm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new DO}}class up{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>cT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fW.bind(null,this.syncEngine),await z7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X7}()}createDatastore(e){const r=$0(e.databaseInfo.databaseId),n=function(s){return new N7(s)}(e.databaseInfo);return function(s,a,o,A){return new Q7(s,a,o,A)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new j7(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>cT(this.syncEngine,r,0),function(){return sT.D()?new sT:new S7}())}createSyncEngine(e,r){return function(i,s,a,o,A,l,c){const d=new rW(i,s,a,o,A,l);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ne(i);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Mf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}up.provider={build:()=>new up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=YC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{te("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(te("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=w1(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function sw(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await OO(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await pW(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>aT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>aT(e.remoteStore,i)),t._onlineComponents=e}async function pW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await sw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;za("Error using user provided cache. Falling back to memory cache: "+r),await sw(t,new cf)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await sw(t,new cf);return t._offlineComponents}async function rj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await dT(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await dT(t,new up))),t._onlineComponents}function vW(t){return rj(t).then(e=>e.syncEngine)}async function dp(t){const e=await rj(t),r=e.eventManager;return r.onListen=nW.bind(null,e.syncEngine),r.onUnlisten=aW.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=iW.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=oW.bind(null,e.syncEngine),r}function yW(t,e,r={}){const n=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new _1({next:f=>{c.Za(),a.enqueueAndForget(()=>b1(s,d));const g=f.docs.has(o);!g&&f.fromCache?l.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&A&&A.source==="server"?l.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new C1(jf(o.path),c,{includeMetadataChanges:!0,_a:!0});return x1(s,d)}(await dp(t),t.asyncQueue,e,r,n)),n.promise}function wW(t,e,r={}){const n=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,A,l){const c=new _1({next:f=>{c.Za(),a.enqueueAndForget(()=>b1(s,d)),f.fromCache&&A.source==="server"?l.reject(new ge(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new C1(o,c,{includeMetadataChanges:!0,_a:!0});return x1(s,d)}(await dp(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e,r){if(!r)throw new ge(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sj(t,e,r,n){if(e===!0&&n===!0)throw new ge(J.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function hT(t){if(!ce.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gT(t){if(ce.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function I1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=I1(t);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class W0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _4;switch(n.type){case"firstParty":return new b9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=fT.get(r);n&&(te("ComponentProvider","Removing Datastore"),fT.delete(r),n.terminate())}(this),Promise.resolve()}}function aj(t,e,r,n={}){var i;const s=(t=oi(t,W0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,A;if(typeof n.mockUserToken=="string")o=n.mockUserToken,A=br.MOCK_USER;else{o=q$(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new br(l)}t._authCredentials=new y9(new E4(o,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new kA(this.firestore,e,this._query)}}class Xr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class Ss extends kA{constructor(e,r,n){super(e,r,jf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new ce(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Ko(t,e,...r){if(t=dn(t),ij("collection","path",e),t instanceof W0){const n=qe.fromString(e,...r);return gT(n),new Ss(t,null,n)}{if(!(t instanceof Xr||t instanceof Ss))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return gT(n),new Ss(t.firestore,null,n)}}function $n(t,e,...r){if(t=dn(t),arguments.length===1&&(e=YC.newId()),ij("doc","path",e),t instanceof W0){const n=qe.fromString(e,...r);return hT(n),new Xr(t,null,new ce(n))}{if(!(t instanceof Xr||t instanceof Ss))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(qe.fromString(e,...r));return hT(n),new Xr(t.firestore,t instanceof Ss?t.converter:null,new ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RO(this,"async_queue_retry"),this.Vu=()=>{const n=fm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=fm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=fm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!co(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw $r("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=y1.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function vT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=-1;class Za extends W0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new pT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function Aj(t,e){const r=typeof t=="object"?t:m4(),n=typeof t=="string"?t:"(default)",i=WC(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=Y$("firestore");s&&aj(i,...s)}return i}function Vf(t){if(t._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lj(t),t._firestoreClient}function lj(t){var e,r,n;const i=t._freezeSettings(),s=function(o,A,l,c){return new Z9(o,A,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,nj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const A=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(A),_online:A}}(t._componentsProvider))}function cj(t,e){za("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return xW(t,up.provider,{build:n=>new gW(n,r.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function xW(t,e,r){if((t=oi(t,Za))._firestoreClient||t._terminated)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ge(J.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},lj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new CA(Vt.fromBase64String(e))}catch(r){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new CA(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=/^__.*__$/;class BW{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,r,this.fieldTransforms):new Rc(e,this.data,r,this.fieldTransforms)}}function uj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class S1{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new S1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return fp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uj(this.Cu)&&bW.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class CW{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$0(e)}Qu(e,r,n,i=!1){return new S1({Cu:e,methodName:r,qu:n,path:vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EW(t){const e=t._freezeSettings(),r=$0(t._databaseId);return new CW(t._databaseId,!!e.ignoreUndefinedProperties,r)}function _W(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);gj("Data must be an object, but it was:",a,n);const o=fj(n,a);let A,l;if(s.merge)A=new Zn(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=IW(e,d,r);if(!a.contains(f))throw new ge(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);TW(c,f)||c.push(f)}A=new Zn(c),l=a.fieldTransforms.filter(d=>A.covers(d.field))}else A=null,l=a.fieldTransforms;return new BW(new an(o),A,l)}class T1 extends Y0{_toFieldTransform(e){return new iO(e.path,new dc)}isEqual(e){return e instanceof T1}}function dj(t,e){if(hj(t=dn(t)))return gj("Unsupported field value:",e,t),fj(t,e);if(t instanceof Y0)return function(n,i){if(!uj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let A=dj(o,i.Lu(a));A==null&&(A={nullValue:"NULL_VALUE"}),s.push(A),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wG(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=xt.fromDate(n);return{timestampValue:gc(i.serializer,s)}}if(n instanceof xt){const s=new xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gc(i.serializer,s)}}if(n instanceof X0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof CA)return{bytesValue:uO(i.serializer,n._byteString)};if(n instanceof Xr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof q0)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(A=>{if(typeof A!="number")throw o.Bu("VectorValues must only contain numeric values.");return n1(o.serializer,A)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${I1(n)}`)}(t,e)}function fj(t,e){const r={};return O4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dc(t,(n,i)=>{const s=dj(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function hj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof X0||t instanceof CA||t instanceof Xr||t instanceof Y0||t instanceof q0)}function gj(t,e,r){if(!hj(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=I1(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function IW(t,e,r){if((e=dn(e))instanceof z0)return e._internalPath;if(typeof e=="string")return mj(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,r)}const SW=new RegExp("[~\\*/\\[\\]]");function mj(t,e,r){if(e.search(SW)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new z0(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fp(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let A="";return(s||a)&&(A+=" (found",s&&(A+=` in field ${n}`),a&&(A+=` in document ${i}`),A+=")"),new ge(J.INVALID_ARGUMENT,o+t+A)}function TW(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(vj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class FW extends pj{data(){return super.data()}}function vj(t,e){return typeof e=="string"?mj(t,e):e instanceof z0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NW{}class wj extends NW{}class J0 extends wj{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new J0(e,r,n)}_apply(e){return new kA(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function xj(t){return J0._create("limit",t,"F")}class bj{convertValue(e,r="none"){switch(yA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Dc(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>mt(a.doubleValue));return new q0(s)}convertGeoPoint(e){return new X0(mt(e.latitude),mt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=e1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(af(e));default:return null}}convertTimestamp(e){const r=js(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=qe.fromString(e);Be(xO(n));const i=new Xa(n.get(1),n.get(3)),s=new ce(n.popFirst(5));return i.isEqual(r)||$r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UW(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class F1 extends pj{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(vj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Cd extends F1{data(e={}){return super.data(e)}}class N1{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Fl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Cd(this._firestore,this._userDataWriter,n.key,n,new Fl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const A=new Cd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:A,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const A=new Cd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Fl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return o.type!==0&&(l=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:PW(o.type),doc:A,oldIndex:l,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function PW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t){t=oi(t,Xr);const e=oi(t.firestore,Za);return yW(Vf(e),t._key).then(r=>Cj(e,t,r))}class U1 extends bj{constructor(e){super(),this.firestore=e}convertBytes(e){return new CA(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,r)}}function $o(t){t=oi(t,kA);const e=oi(t.firestore,Za),r=Vf(e),n=new U1(e);return yj(t._query),wW(r,t._query).then(i=>new N1(e,n,t,i))}function us(t,e,r){t=oi(t,Xr);const n=oi(t.firestore,Za),i=UW(t.converter,e,r);return Bj(n,[_W(EW(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,_n.none())])}function uf(t,...e){var r,n,i;t=dn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||vT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(vT(e[a])){const d=e[a];e[a]=(r=d.next)===null||r===void 0?void 0:r.bind(d),e[a+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),e[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let A,l,c;if(t instanceof Xr)l=oi(t.firestore,Za),c=jf(t._key.path),A={next:d=>{e[a]&&e[a](Cj(l,t,d))},error:e[a+1],complete:e[a+2]};else{const d=oi(t,kA);l=oi(d.firestore,Za),c=d._query;const f=new U1(l);A={next:g=>{e[a]&&e[a](new N1(l,f,d,g))},error:e[a+1],complete:e[a+2]},yj(t._query)}return function(f,g,m,p){const y=new _1(p),w=new C1(g,y,m);return f.asyncQueue.enqueueAndForget(async()=>x1(await dp(f),w)),()=>{y.Za(),f.asyncQueue.enqueueAndForget(async()=>b1(await dp(f),w))}}(Vf(l),c,o,A)}function Bj(t,e){return function(n,i){const s=new Vi;return n.asyncQueue.enqueueAndForget(async()=>AW(await vW(n),i,s)),s.promise}(Vf(t),e)}function Cj(t,e,r){const n=r.docs.get(e._key),i=new U1(t);return new F1(t,i,e._key,n,new Fl(r.hasPendingWrites,r.fromCache),e.converter)}function QW(){return new T1("serverTimestamp")}(function(e,r=!0){(function(i){jc=i})(Oc),oc(new pA("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Za(new w9(n.getProvider("auth-internal")),new C9(n.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(l.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ra(d2,"4.7.3",e),Ra(d2,"4.7.3","esm2017")})();const Kl=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bj,Bytes:CA,CACHE_SIZE_UNLIMITED:oj,CollectionReference:Ss,DocumentReference:Xr,DocumentSnapshot:F1,FieldPath:z0,FieldValue:Y0,Firestore:Za,FirestoreError:ge,GeoPoint:X0,Query:kA,QueryConstraint:wj,QueryDocumentSnapshot:Cd,QueryLimitConstraint:J0,QuerySnapshot:N1,SnapshotMetadata:Fl,Timestamp:xt,VectorValue:q0,_AutoId:YC,_ByteString:Vt,_DatabaseId:Xa,_DocumentKey:ce,_EmptyAuthCredentialsProvider:_4,_FieldPath:vt,_cast:oi,_logWarn:za,_validateIsNotUsedTogether:sj,collection:Ko,connectFirestoreEmulator:aj,doc:$n,enableIndexedDbPersistence:cj,ensureFirestoreConfigured:Vf,executeWrite:Bj,getDoc:kW,getDocs:$o,getFirestore:Aj,limit:xj,onSnapshot:uf,serverTimestamp:QW,setDoc:us},Symbol.toStringTag,{value:"Module"}));var OW="firebase",jW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(OW,jW,"app");function P1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ej(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _j=Ej,Ij=new kf("auth","Firebase",Ej());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new $C("@firebase/auth");function DW(t,...e){hp.logLevel<=Re.WARN&&hp.warn(`Auth (${Oc}): ${t}`,...e)}function hm(t,...e){hp.logLevel<=Re.ERROR&&hp.error(`Auth (${Oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw k1(t,...e)}function Ki(t,...e){return k1(t,...e)}function Sj(t,e,r){const n=Object.assign(Object.assign({},_j()),{[e]:r});return new kf("auth","Firebase",n).create(e,{appName:t.name})}function La(t){return Sj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Ij.create(t,...e)}function Te(t,e,...r){if(!t)throw k1(e,...r)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Ds(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RW(){return yT()==="http:"||yT()==="https:"}function yT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RW()||t8()||"connection"in navigator)?navigator.onLine:!0}function LW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ds(r>e,"Short delay should be less than long delay!"),this.isMobile=J$()||r8()}get(){return MW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=new Kf(3e4,6e4);function QA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,r,n,i={}){return Fj(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Qf(Object.assign({key:t.config.apiKey},a)).slice(1),A=await t._getAdditionalHeaders();A["Content-Type"]="application/json",t.languageCode&&(A["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:A},s);return e8()||(l.referrerPolicy="no-referrer"),Tj.fetch()(Nj(t,t.config.apiHost,r,o),l)})}async function Fj(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},HW),e);try{const i=new $W(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw rg(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[A,l]=o.split(" : ");if(A==="FEDERATED_USER_ID_ALREADY_LINKED")throw rg(t,"credential-already-in-use",a);if(A==="EMAIL_EXISTS")throw rg(t,"email-already-in-use",a);if(A==="USER_DISABLED")throw rg(t,"user-disabled",a);const c=n[A]||A.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Sj(t,c,l);Si(t,c)}}catch(i){if(i instanceof Ws)throw i;Si(t,"network-request-failed",{message:String(i)})}}async function Z0(t,e,r,n,i={}){const s=await ho(t,e,r,n,i);return"mfaPendingCredential"in s&&Si(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Nj(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Q1(t.config,i):`${t.config.apiScheme}://${i}`}function KW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $W{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ki(this.auth,"network-request-failed")),VW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ki(t,e,n);return i.customData._tokenResponse=r,i}function wT(t){return t!==void 0&&t.enterprise!==void 0}class GW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return KW(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function WW(t,e){return ho(t,"GET","/v2/recaptchaConfig",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function Uj(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pj(t,e=!1){const r=dn(t),n=await r.getIdToken(e),i=O1(n);Te(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Ed(aw(i.auth_time)),issuedAtTime:Ed(aw(i.iat)),expirationTime:Ed(aw(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function aw(t){return Number(t)*1e3}function O1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=o4(r);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xT(t){const e=O1(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ws&&YW(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function YW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ed(this.lastLoginAt),this.creationTime=Ed(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t){var e;const r=t.auth,n=await t.getIdToken(),i=await df(t,Uj(r,{idToken:n}));Te(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Qj(s.providerUserInfo):[],o=qW(t.providerData,a),A=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=A?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Bb(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function kj(t){const e=dn(t);await gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qW(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Qj(t){return t.map(e=>{var{providerId:r}=e,n=P1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e){const r=await Fj(t,{},async()=>{const n=Qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Nj(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Tj.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function ZW(t,e){return ho(t,"POST","/v2/accounts:revokeToken",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const r=xT(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await JW(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new $l;return n&&(Te(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Te(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=P1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bb(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await df(this,this.stsTokenManager.getToken(this.auth,e));return Te(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Pj(this,e)}reload(){return kj(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await gp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(La(this.auth));const e=await this.getIdToken();return await df(this,zW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,A,l,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,g=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=r.photoURL)!==null&&a!==void 0?a:void 0,p=(o=r.tenantId)!==null&&o!==void 0?o:void 0,y=(A=r._redirectEventId)!==null&&A!==void 0?A:void 0,w=(l=r.createdAt)!==null&&l!==void 0?l:void 0,v=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:x,emailVerified:S,isAnonymous:T,providerData:I,stsTokenManager:C}=r;Te(x&&C,e,"internal-error");const E=$l.fromJSON(this.name,C);Te(typeof x=="string",e,"internal-error"),Aa(d,e.name),Aa(f,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),Aa(g,e.name),Aa(m,e.name),Aa(p,e.name),Aa(y,e.name),Aa(w,e.name),Aa(v,e.name);const F=new Bs({uid:x,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:T,photoURL:m,phoneNumber:g,tenantId:p,stsTokenManager:E,createdAt:w,lastLoginAt:v});return I&&Array.isArray(I)&&(F.providerData=I.map(N=>Object.assign({},N))),y&&(F._redirectEventId=y),F}static async _fromIdTokenResponse(e,r,n=!1){const i=new $l;i.updateFromServerResponse(r);const s=new Bs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await gp(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Qj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new $l;o.updateFromIdToken(n);const A=new Bs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(A,l),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Map;function Cs(t){Ds(t instanceof Function,"Expected a class definition");let e=bT.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Oj.type="NONE";const Cb=Oj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t,e,r){return`firebase:${t}:${e}:${r}`}class Gl{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=gm(this.userKey,i.apiKey,s),this.fullPersistenceKey=gm("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Gl(Cs(Cb),e,n);const i=(await Promise.all(r.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Cs(Cb);const a=gm(n,e.config.apiKey,e.name);let o=null;for(const l of r)try{const c=await l._get(a);if(c){const d=Bs._fromJSON(e,c);l!==s&&(o=d),s=l;break}}catch{}const A=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!A.length?new Gl(s,e,n):(s=A[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async l=>{if(l!==s)try{await l._remove(a)}catch{}})),new Gl(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hj(e))return"Blackberry";if(Vj(e))return"Webos";if(Dj(e))return"Safari";if((e.includes("chrome/")||Rj(e))&&!e.includes("edge/"))return"Chrome";if(Lj(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function jj(t=er()){return/firefox\//i.test(t)}function Dj(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rj(t=er()){return/crios\//i.test(t)}function Mj(t=er()){return/iemobile/i.test(t)}function Lj(t=er()){return/android/i.test(t)}function Hj(t=er()){return/blackberry/i.test(t)}function Vj(t=er()){return/webos/i.test(t)}function j1(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ez(t=er()){var e;return j1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tz(){return n8()&&document.documentMode===10}function Kj(t=er()){return j1(t)||Lj(t)||Vj(t)||Hj(t)||/windows phone/i.test(t)||Mj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e=[]){let r;switch(t){case"Browser":r=BT(er());break;case"Worker":r=`${BT(er())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Oc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const A=e(s);a(A)}catch(A){o(A)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz(t,e={}){return ho(t,"GET","/v2/passwordPolicy",QA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=6;class sz{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:iz,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const A={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,A),this.validatePasswordCharacterOptions(e,A),A.isValid&&(A.isValid=(r=A.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),A.isValid&&(A.isValid=(n=A.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),A.isValid&&(A.isValid=(i=A.containsLowercaseLetter)!==null&&i!==void 0?i:!0),A.isValid&&(A.isValid=(s=A.containsUppercaseLetter)!==null&&s!==void 0?s:!0),A.isValid&&(A.isValid=(a=A.containsNumericCharacter)!==null&&a!==void 0?a:!0),A.isValid&&(A.isValid=(o=A.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),A}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new rz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ij,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Cs(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Uj(this,{idToken:e}),n=await Bs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(ws(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,A=await this.tryRedirectSignIn(e);(!a||a===o)&&(A!=null&&A.user)&&(i=A.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await gp(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ws(this.app))return Promise.reject(La(this));const r=e?dn(e):null;return r&&Te(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ws(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nz(this),r=new sz(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kf("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await ZW(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Cs(e)||this._popupRedirectResolver;Te(r,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[Cs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const A=e.addObserver(r,n,i);return()=>{a=!0,A()}}else{const A=e.addObserver(r);return()=>{a=!0,A()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$j(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&DW(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Lc(t){return dn(t)}class CT{constructor(e){this.auth=e,this.observer=null,this.addObserver=l8(r=>this.observer=r)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oz(t){ev=t}function Gj(t){return ev.loadJS(t)}function Az(){return ev.recaptchaEnterpriseScript}function lz(){return ev.gapiScript}function cz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const uz="recaptcha-enterprise",dz="NO_RECAPTCHA";class fz{constructor(e){this.type=uz,this.auth=Lc(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{WW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(A=>{if(A.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const l=new GW(A);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(A=>{o(A)})})}function i(s,a,o){const A=window.grecaptcha;wT(A)?A.enterprise.ready(()=>{A.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(dz)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&wT(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let A=Az();A.length!==0&&(A+=o),Gj(A).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}async function ET(t,e,r,n=!1){const i=new fz(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _T(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ET(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ET(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t,e){const r=WC(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Zm(s,e??{}))return i;Si(i,"already-initialized")}return r.initialize({options:e})}function hz(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function zj(t,e,r){const n=Lc(t);Te(n._canInitEmulator,n,"emulator-config-failed"),Te(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=Yj(e),{host:a,port:o}=gz(e),A=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${A}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),mz()}function Yj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gz(t){const e=Yj(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:IT(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:IT(a)}}}function IT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mz(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,r){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function pz(t,e){return ho(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e){return Z0(t,"POST","/v1/accounts:signInWithPassword",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e){return Z0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}async function wz(t,e){return Z0(t,"POST","/v1/accounts:signInWithEmailLink",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends tv{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new pc(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new pc(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _T(e,r,"signInWithPassword",vz);case"emailLink":return yz(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _T(e,n,"signUpPassword",pz);case"emailLink":return wz(e,{idToken:r,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e){return Z0(t,"POST","/v1/accounts:signInWithIdp",QA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="http://localhost";class eo extends tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Si("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=P1(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new eo(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Wl(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Wl(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Wl(e,r)}buildRequest(){const e={requestUri:xz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Qf(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bz(t){const e=zu(Yu(t)).link,r=e?zu(Yu(e)).deep_link_id:null,n=zu(Yu(t)).deep_link_id;return(n?zu(Yu(n)).link:null)||n||r||e||t}class rv{constructor(e){var r,n,i,s,a,o;const A=zu(Yu(e)),l=(r=A.apiKey)!==null&&r!==void 0?r:null,c=(n=A.oobCode)!==null&&n!==void 0?n:null,d=bz((i=A.mode)!==null&&i!==void 0?i:null);Te(l&&c&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=c,this.continueUrl=(s=A.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=A.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=A.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Bz(e);try{return new rv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.providerId=OA.PROVIDER_ID}static credential(e,r){return pc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=rv.parseLink(r);return Te(n,"argument-error"),pc._fromEmailAndCode(e,n.code,n.tenantId)}}OA.PROVIDER_ID="password";OA.EMAIL_PASSWORD_SIGN_IN_METHOD="password";OA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Xj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends $f{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return eo._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return fs.credential(r,n)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends $f{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.GITHUB_SIGN_IN_METHOD="github.com";hs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends $f{constructor(){super("twitter.com")}static credential(e,r){return eo._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return gs.credential(r,n)}catch{return null}}}gs.TWITTER_SIGN_IN_METHOD="twitter.com";gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Bs._fromIdTokenResponse(e,n,i),a=ST(n);return new vc({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=ST(n);return new vc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function ST(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends Ws{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new mp(e,r,n,i)}}function qj(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mp._fromErrorAndOperation(t,s,e,n):s})}async function Cz(t,e,r=!1){const n=await df(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return vc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e,r=!1){const{auth:n}=t;if(ws(n.app))return Promise.reject(La(n));const i="reauthenticate";try{const s=await df(t,qj(n,i,e,t),r);Te(s.idToken,n,"internal-error");const a=O1(s.idToken);Te(a,n,"internal-error");const{sub:o}=a;return Te(t.uid===o,n,"user-mismatch"),vc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Si(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jj(t,e,r=!1){if(ws(t.app))return Promise.reject(La(t));const n="signIn",i=await qj(t,n,e),s=await vc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Zj(t,e){return Jj(Lc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(t){const e=Lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Iz(t,e,r){return ws(t.app)?Promise.reject(La(t)):Zj(dn(t),OA.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&_z(t),n})}function eD(t,e,r,n){return dn(t).onIdTokenChanged(e,r,n)}function tD(t,e,r){return dn(t).beforeAuthStateChanged(e,r)}function Sz(t){return dn(t).signOut()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz=1e3,Fz=10;class nD extends rD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,A)=>{this.notifyListeners(a,A)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);tz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fz):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}nD.type="LOCAL";const iD=nD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD extends rD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}sD.type="SESSION";const D1=sD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new nv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async l=>l(r.origin,s)),A=await Nz(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:A})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,A)=>{const l=R1("",20);i.port1.start();const c=setTimeout(()=>{A(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{A(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(c),clearTimeout(s),A(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(){return window}function Pz(t){$i().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function kz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Oz(){return aD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebaseLocalStorageDb",jz=1,vp="firebaseLocalStorage",AD="fbase_key";class Gf{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function iv(t,e){return t.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function Dz(){const t=indexedDB.deleteDatabase(oD);return new Gf(t).toPromise()}function Eb(){const t=indexedDB.open(oD,jz);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(vp,{keyPath:AD})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(vp)?e(n):(n.close(),await Dz(),e(await Eb()))})})}async function TT(t,e,r){const n=iv(t,!0).put({[AD]:e,value:r});return new Gf(n).toPromise()}async function Rz(t,e){const r=iv(t,!1).get(e),n=await new Gf(r).toPromise();return n===void 0?null:n.value}function FT(t,e){const r=iv(t,!0).delete(e);return new Gf(r).toPromise()}const Mz=800,Lz=3;class lD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eb(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Lz)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nv._getInstance(Oz()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await kz(),!this.activeServiceWorker)return;this.sender=new Uz(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eb();return await TT(e,pp,"1"),await FT(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>TT(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Rz(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>FT(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iv(i,!1).getAll();return new Gf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lD.type="LOCAL";const cD=lD;new Kf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e){return e?Cs(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Wl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Vz(t){return Jj(t.auth,new M1(t),t.bypassAuthState)}function Kz(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),Ez(r,new M1(t),t.bypassAuthState)}async function $z(t){const{auth:e,user:r}=t;return Te(r,e,"internal-error"),Cz(r,new M1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const A={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(A))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vz;case"linkViaPopup":case"linkViaRedirect":return $z;case"reauthViaPopup":case"reauthViaRedirect":return Kz;default:Si(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new Kf(2e3,1e4);class Nl extends uD{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=R1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gz.get())};e()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz="pendingRedirect",mm=new Map;class zz extends uD{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const n=await Yz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yz(t,e){const r=Jz(e),n=qz(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Xz(t,e){mm.set(t._key(),e)}function qz(t){return Cs(t._redirectPersistence)}function Jz(t){return gm(Wz,t.config.apiKey,t.name)}async function Zz(t,e,r=!1){if(ws(t.app))return Promise.reject(La(t));const n=Lc(t),i=Hz(n,e),a=await new zz(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY=10*60*1e3;class tY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rY(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!dD(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ki(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eY&&this.cachedEventUids.clear(),this.cachedEventUids.has(NT(e))}saveEventToCache(e){this.cachedEventUids.add(NT(e)),this.lastProcessedEventTime=Date.now()}}function NT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nY(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sY=/^https?/;async function aY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nY(t);for(const r of e)try{if(oY(r))return}catch{}Si(t,"unauthorized-domain")}function oY(t){const e=bb(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!sY.test(r))return!1;if(iY.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY=new Kf(3e4,6e4);function UT(){const t=$i().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function lY(t){return new Promise((e,r)=>{var n,i,s;function a(){UT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UT(),r(Ki(t,"network-request-failed"))},timeout:AY.get()})}if(!((i=(n=$i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$i().gapi)===null||s===void 0)&&s.load)a();else{const o=cz("iframefcb");return $i()[o]=()=>{gapi.load?a():r(Ki(t,"network-request-failed"))},Gj(`${lz()}?onload=${o}`).catch(A=>r(A))}}).catch(e=>{throw pm=null,e})}let pm=null;function cY(t){return pm=pm||lY(t),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=new Kf(5e3,15e3),dY="__/auth/iframe",fY="emulator/auth/iframe",hY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mY(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Q1(e,fY):`https://${t.config.authDomain}/${dY}`,n={apiKey:e.apiKey,appName:t.name,v:Oc},i=gY.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Qf(n).slice(1)}`}async function pY(t){const e=await cY(t),r=$i().gapi;return Te(r,t,"internal-error"),e.open({where:document.body,url:mY(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hY,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Ki(t,"network-request-failed"),o=$i().setTimeout(()=>{s(a)},uY.get());function A(){$i().clearTimeout(o),i(n)}n.ping(A).then(A,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yY=500,wY=600,xY="_blank",bY="http://localhost";class PT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BY(t,e,r,n=yY,i=wY){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const A=Object.assign(Object.assign({},vY),{width:n.toString(),height:i.toString(),top:s,left:a}),l=er().toLowerCase();r&&(o=Rj(l)?xY:r),jj(l)&&(e=e||bY,A.scrollbars="yes");const c=Object.entries(A).reduce((f,[g,m])=>`${f}${g}=${m},`,"");if(ez(l)&&o!=="_self")return CY(e||"",o),new PT(null);const d=window.open(e||"",o,c);Te(d,t,"popup-blocked");try{d.focus()}catch{}return new PT(d)}function CY(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY="__/auth/handler",_Y="emulator/auth/handler",IY=encodeURIComponent("fac");async function kT(t,e,r,n,i,s){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Oc,eventId:i};if(e instanceof Xj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",A8(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(e instanceof $f){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const A=await t._getAppCheckToken(),l=A?`#${IY}=${encodeURIComponent(A)}`:"";return`${SY(t)}?${Qf(o).slice(1)}${l}`}function SY({config:t}){return t.emulator?Q1(t,_Y):`https://${t.authDomain}/${EY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="webStorageSupport";class TY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=Zz,this._overrideRedirectResult=Xz}async _openPopup(e,r,n,i){var s;Ds((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await kT(e,r,n,bb(),i);return BY(e,a,R1())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await kT(e,r,n,bb(),i);return Pz(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ds(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await pY(e),n=new tY(e);return r.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(ow,{type:ow},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ow];a!==void 0&&r(!!a),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=aY(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Kj()||Dj()||j1()}}const fD=TY;var QT="@firebase/auth",OT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UY(t){oc(new pA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Te(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const A={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$j(t)},l=new az(n,i,s,A);return hz(l,r),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),oc(new pA("auth-internal",e=>{const r=Lc(e.getProvider("auth").getImmediate());return(n=>new FY(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ra(QT,OT,NY(t)),Ra(QT,OT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PY=5*60,kY=c4("authIdTokenMaxAge")||PY;let jT=null;const QY=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>kY)return;const i=r==null?void 0:r.token;jT!==i&&(jT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function hD(t=m4()){const e=WC(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Wj(t,{popupRedirectResolver:fD,persistence:[cD,iD,D1]}),n=c4("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=QY(s.toString());tD(r,a,()=>a(r.currentUser)),eD(r,o=>a(o))}}const i=A4("auth");return i&&zj(r,`http://${i}`),r}function OY(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}oz({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Ki("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",OY().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UY("Browser");const jY=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:rv,AuthCredential:tv,EmailAuthCredential:pc,EmailAuthProvider:OA,FacebookAuthProvider:ds,GithubAuthProvider:hs,GoogleAuthProvider:fs,OAuthCredential:eo,TwitterAuthProvider:gs,beforeAuthStateChanged:tD,browserLocalPersistence:iD,browserPopupRedirectResolver:fD,browserSessionPersistence:D1,connectAuthEmulator:zj,getAuth:hD,getIdTokenResult:Pj,inMemoryPersistence:Cb,indexedDBLocalPersistence:cD,initializeAuth:Wj,onIdTokenChanged:eD,prodErrorMap:_j,reload:kj,signInWithCredential:Zj,signInWithEmailAndPassword:Iz,signOut:Sz},Symbol.toStringTag,{value:"Module"})),DY={apiKey:"AIzaSyBHzCLGD1E8mrp-iVaJ1P1t9cHe5QT8LN8",authDomain:"brainless-schedule.firebaseapp.com",projectId:"brainless-schedule",storageBucket:"brainless-schedule.appspot.com",messagingSenderId:"902167883215",appId:"1:902167883215:web:8dfc400a1035929c5bf6ba"};let yp;o2().length?yp=o2()[0]:yp=g4(DY);const _t=Aj(yp),L1=hD(yp);try{cj(_t,{cacheSizeBytes:oj}).catch(t=>{t.code==="failed-precondition"?console.warn("離線持久性在多個標籤中失敗"):t.code==="unimplemented"&&console.warn("當前瀏覽器不支持離線持久性")})}catch(t){console.error("啟用離線功能時出錯:",t)}async function gD(){try{const t=await $o(Ko(_t,"forecasts"),xj(1));return console.log("Firebase 連接成功"),!0}catch(t){return console.error("Firebase 連接失敗:",t),!1}}const DT=new Map,RY=5*60*1e3,mD=async t=>{try{const e=`admin_${t}`,r=DT.get(e);if(r&&Date.now()-r.timestamp<RY)return r.isAdmin;const{doc:n,getDoc:i}=await Cn(async()=>{const{doc:o,getDoc:A}=await Promise.resolve().then(()=>Kl);return{doc:o,getDoc:A}},void 0),a=(await i(n(_t,"admins",t))).exists();return DT.set(e,{isAdmin:a,timestamp:Date.now()}),a}catch(e){return console.error("檢查管理員狀態失敗:",e),!1}},pD=Object.freeze(Object.defineProperty({__proto__:null,auth:L1,checkAdminStatus:mD,checkFirebaseConnection:gD,db:_t},Symbol.toStringTag,{value:"Module"})),ei={MAX_CONSECUTIVE_DAYS_CHECK:30,MIN_CONSECUTIVE_DAYS:4,MAX_CONSECUTIVE_DAYS:6,REST_SHIFTS:["休假","特休","月休","休","特"],TIME_SLOTS:{MORNING:{start:5,end:12},AFTERNOON:{start:12,end:18},EVENING:{start:18,end:22}},SHIFT_KEYWORDS:{MORNING:["早班","早","Morning","K","KK"],AFTERNOON:["中班","中","Mid","L"],EVENING:["晚班","晚","Evening","Y"]}};let vm={};const MY=t=>{vm=t},Ot={consecutiveDays:new Map,todayWorkers:new Map,todayString:null,todayDate:null,lastCacheTime:0,smartMessages:new Map,lastGenerationTime:0},sv=(t=!1)=>{const e=Date.now(),r=new Date().toDateString();(t||Ot.lastCacheTime===0||new Date(Ot.lastCacheTime).toDateString()!==r)&&(Ot.consecutiveDays.clear(),Ot.todayWorkers.clear(),Ot.smartMessages.clear(),Ot.todayString=null,Ot.todayDate=null,Ot.lastCacheTime=e,Ot.lastGenerationTime=0)},LY=()=>{sv(!0)},vD=()=>(sv(),Ot.todayString||(Ot.todayString=new Date().toISOString().split("T")[0]),Ot.todayString),yD=()=>{if(sv(),!Ot.todayDate){const t=new Date;Ot.todayDate={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),day:t.getDay()}}return Ot.todayDate},HY=t=>!t||typeof t!="string"?!1:ei.REST_SHIFTS.includes(t.trim()),Ul=t=>{if(!t||typeof t!="string")return!1;const e=t.trim();return e!==""&&!HY(e)},VY=(t,e,r)=>`${t}-${String(e).padStart(2,"0")}-${String(r).padStart(2,"0")}`,KY=t=>t.timeRestriction?ym(t.startTime,t.endTime):!0,$Y=(t,e)=>(t=t.replace(/\{早班同事\}/g,e.morning.length>0?e.morning.join("、"):""),t=t.replace(/\{中班同事\}/g,e.afternoon.length>0?e.afternoon.join("、"):""),t=t.replace(/\{晚班同事\}/g,e.evening.length>0?e.evening.join("、"):""),t=t.replace(/\{所有同事\}/g,e.all.length>0?e.all.join("、"):""),t),GY=(t,e)=>(t=t.replace(/\{早班人數\}/g,e.morning.length.toString()),t=t.replace(/\{中班人數\}/g,e.afternoon.length.toString()),t=t.replace(/\{晚班人數\}/g,e.evening.length.toString()),t=t.replace(/\{總人數\}/g,e.all.length.toString()),t),WY=(t,e,r)=>(t=t.replace(/\{([^}]+)\}連續上班\{(\d+)\}/g,(n,i,s)=>{const a=Object.keys(r).find(o=>r[o]===i);if(a){const o=wp(e,a,r);return`${i}連續上班${o}天`}return n}),t=t.replace(/\{([^}]+)\}連續上班天數/g,(n,i)=>{const s=Object.keys(r).find(a=>r[a]===i);if(s){const a=wp(e,s,r);return`${i}連續上班${a}天`}return n}),t),zY=(t,e,r)=>(t=t.replace(/\{連續上班同事\}/g,()=>{const n=yc(e,r,ei.MIN_CONSECUTIVE_DAYS,ei.MAX_CONSECUTIVE_DAYS);if(n.length>0){const i={};return n.forEach(a=>{i[a.consecutiveDays]||(i[a.consecutiveDays]=[]),i[a.consecutiveDays].push(a.name)}),Object.entries(i).map(([a,o])=>o.length===1?`${o[0]}連續上班${a}天`:`${o.join("、")}連續上班${a}天`).join("、")}return""}),t=t.replace(/\{連續上班同事數量\}/g,()=>yc(e,r,ei.MIN_CONSECUTIVE_DAYS,ei.MAX_CONSECUTIVE_DAYS).length.toString()),t),YY=(t,e,r)=>(t=t.replace(/\{連續上班(\d+)天同事\}/g,(n,i)=>{const s=parseInt(i),a=yc(e,r,s,s);if(a.length>0){const o=a.map(A=>A.name);return o.length===1?o[0]:o.join("、")}return""}),t=t.replace(/\{連續上班(\d+)天同事數量\}/g,(n,i)=>{const s=parseInt(i);return yc(e,r,s,s).length.toString()}),t),XY=t=>(t=t.replace(/\s*[，、]\s*$/g,""),t=t.replace(/^\s*[，、]\s*/g,""),t=t.replace(/\s+/g," "),t),qY=(t,e,r)=>{if((t.message.includes("{連續上班同事}")||t.message.includes("{連續上班同事數量}"))&&yc(e,r,ei.MIN_CONSECUTIVE_DAYS,ei.MAX_CONSECUTIVE_DAYS).length===0)return!1;const n=t.message.match(/\{連續上班(\d+)天同事\}/g);if(n)for(const i of n){const s=i.match(/\{連續上班(\d+)天同事\}/);if(s){const a=parseInt(s[1]);if(yc(e,r,a,a).length===0)return!1}}return!0},JY=(t,e,r)=>{if(!t||!Array.isArray(t)||t.length===0)return[];const n=wD(e);return n.length>0&&xD(n,r),t.filter(i=>i.enabled).map(i=>{const s=nX(i,e,r);return s&&typeof s=="string"&&s.trim()!==""?{id:`schedule-${i.id||i.name}`,type:"schedule",priority:2,message:s,source:`班表模板: ${i.name}`}:null}).filter(Boolean)},ym=(t,e)=>{const r=new Date,n=r.getHours(),i=r.getMinutes(),s=n*60+i,[a,o]=t.split(":").map(Number),[A,l]=e.split(":").map(Number),c=a*60+o,d=A*60+l;return d<c?s>=c||s<=d:s>=c&&s<=d},ZY=()=>["日","一","二","三","四","五","六"][new Date().getDay()],eX=(t,e)=>{const r=new Date;return r.getMonth()+1===t&&r.getDate()===e},tX=t=>new Date().getDate()===t,rX=t=>{if(!t||typeof t!="object")return[];const e=[],r=yD();for(const[n,i]of Object.entries(t))if(n!=="_lastUpdated"&&i&&typeof i=="object"){for(const[s,a]of Object.entries(i))if(Ul(a)){const o=parseInt(s);if(o===r.date){const A={id:`${n}_${o}`,date:VY(r.year,r.month,o),shift:a,employee:n};e.push(A)}}}return e},wD=t=>{if(!t)return[];if(Array.isArray(t)){const e=vD();return t.filter(n=>{const a=new Date(n.date).toISOString().split("T")[0]===e,o=Ul(n.shift);return a&&o})}else return rX(t)},wp=(t,e,r={})=>{var i,s,a;if(!t||!e)return 0;sv();const n=`${e}_${JSON.stringify(t)}`;if(Ot.consecutiveDays.has(n))return Ot.consecutiveDays.get(n);if(r[e],Array.isArray(t)){const o=vD();if(!t.find(d=>d.employee===e&&new Date(d.date).toISOString().split("T")[0]===o))return 0;let l=0,c=new Date;for(;;){const d=c.toISOString().split("T")[0],f=t.find(g=>g.employee===e&&new Date(g.date).toISOString().split("T")[0]===d);if(f&&Ul(f.shift))l++,c.setDate(c.getDate()-1);else break}return Ot.consecutiveDays.set(n,l),l}else{const o=yD(),A=(i=t[e])==null?void 0:i[o.date];if(!Ul(A))return 0;let l=0,c=o.date;for(;c>=1;){const d=(s=t[e])==null?void 0:s[c];if(Ul(d))l++,c--;else break}if(c<1){const d=new Date,f=d.getFullYear(),g=d.getMonth()+1;let m,p;g===1?(m=f-1,p=12):(m=f,p=g-1);const y=`${m}-${p.toString().padStart(2,"0")}`;if(vm&&vm[y]){const w=vm[y],v=new Date(m,p,0).getDate(),x=7;for(let S=v;S>=Math.max(1,v-x+1);S--){const T=(a=w[e])==null?void 0:a[S];if(Ul(T))l++;else break}}}return Ot.consecutiveDays.set(n,l),l}},yc=(t,e={},r=ei.MIN_CONSECUTIVE_DAYS,n=ei.MAX_CONSECUTIVE_DAYS)=>{if(!t)return[];const i=[];return Array.isArray(t)?[...new Set(t.map(a=>a.employee))].forEach(a=>{const o=wp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}):Object.keys(t).filter(a=>a!=="_lastUpdated").forEach(a=>{const o=wp(t,a,e);if(o>=r&&o<=n){const A=e[a]||a;i.push({id:a,name:A,consecutiveDays:o})}}),i},xD=(t,e={})=>{const r={morning:[],afternoon:[],evening:[],all:[]};return t.forEach(n=>{const i=n.shift||"",s=n.employee||"未知",a=e[s]||s;r.all.push(a),ei.SHIFT_KEYWORDS.MORNING.some(o=>i.includes(o))?r.morning.push(a):ei.SHIFT_KEYWORDS.AFTERNOON.some(o=>i.includes(o))?r.afternoon.push(a):ei.SHIFT_KEYWORDS.EVENING.some(o=>i.includes(o))?r.evening.push(a):r.all.push(a)}),r},nX=(t,e,r={})=>{if(!t||!e||!KY(t))return null;const n=wD(e);if(n.length===0)return null;const i=xD(n,r);let s=t.message;return s=$Y(s,i),s=GY(s,i),s=WY(s,e,r),s=zY(s,e,r),s=YY(s,e,r),s=XY(s),qY(t,e,r)?s:null},iX=t=>{if(!Array.isArray(t)||t.length===0)return"";const e=t.filter(r=>r&&typeof r=="string"&&r.trim()!=="");return e.length===0?"":e[Math.floor(Math.random()*e.length)]},sX=(t=null,e=[],r=[],n={})=>{const i=JSON.stringify({scheduleData:t?Object.keys(t).length:0,customRules:e.length,scheduleTemplates:r.length,namesData:Object.keys(n).length,time:new Date().toDateString()});if(Ot.smartMessages.has(i)){const o=Ot.smartMessages.get(i);if(Date.now()-o.timestamp<5*60*1e3)return o.messages}const s=ZY(),a=[];if(e&&Array.isArray(e)){const o=[];for(const A of e){if(!A.enabled)continue;let l=!1;A.type==="timeRange"?l=A.allDay||ym(A.startTime,A.endTime):A.type==="dayOfWeek"?l=A.day===s&&(A.allDay||ym(A.startTime,A.endTime)):A.type==="specificDate"?l=eX(A.month,A.date):A.type==="monthlyDate"&&(l=tX(A.date)&&(A.allDay||ym(A.startTime,A.endTime))),l&&A.messages&&Array.isArray(A.messages)&&A.messages.length>0&&A.messages.some(c=>c&&typeof c=="string"&&c.trim()!=="")&&o.push(A)}if(o.length>0){const A=o[Math.floor(Math.random()*o.length)],l=iX(A.messages);l&&l.trim()!==""&&a.push({id:`custom-${A.id||A.name}`,type:"custom",priority:1,message:l,source:`自定義規則: ${A.name}`})}}if(t&&r&&Array.isArray(r)){const o=JY(r,t,n);a.push(...o)}return Ot.smartMessages.set(i,{messages:a,timestamp:Date.now()}),a},rl=t=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t),Gve=t=>{if(!t.type||!t.messages||!Array.isArray(t.messages)||t.messages.length===0)return!1;switch(t.type){case"timeRange":return t.allDay||rl(t.startTime)&&rl(t.endTime);case"dayOfWeek":return["日","一","二","三","四","五","六"].includes(t.day)&&(t.allDay||rl(t.startTime)&&rl(t.endTime));case"specificDate":return t.month>=1&&t.month<=12&&t.date>=1&&t.date<=31;case"monthlyDate":return t.date>=1&&t.date<=31&&(t.allDay||rl(t.startTime)&&rl(t.endTime));default:return!1}},Wve=t=>t.message&&t.message.trim()!=="",zve=()=>[{id:"1",name:"早上問候",type:"timeRange",startTime:"08:00",endTime:"10:00",allDay:!1,messages:["早安！新的一天開始了～","早上好！今天也要加油喔！","喵～早安！準備好迎接新的一天了嗎？"],enabled:!1},{id:"2",name:"午休提醒",type:"timeRange",startTime:"12:00",endTime:"13:00",allDay:!1,messages:["午休時間到了，記得休息一下喔～","喵～該吃午餐了！","午休愉快！"],enabled:!1},{id:"3",name:"週三進貨提醒",type:"dayOfWeek",day:"三",startTime:"14:00",endTime:"16:00",allDay:!1,messages:["週三下午進貨時間到了，加油！","喵～進貨時間！","週三進貨，辛苦了！"],enabled:!1},{id:"4",name:"週末問候",type:"dayOfWeek",day:"六",startTime:"09:00",endTime:"11:00",allDay:!1,messages:["週末愉快！好好休息喔～","喵～週末快樂！","週末愉快！享受美好時光～"],enabled:!1},{id:"5",name:"每月1號提醒",type:"monthlyDate",date:1,startTime:"08:00",endTime:"10:00",allDay:!1,messages:["新的月份開始了！大家加油！","喵～新的月份，新的開始！","每月1號，重新出發！"],enabled:!1},{id:"6",name:"週末全天問候",type:"dayOfWeek",day:"六",startTime:"08:00",endTime:"10:00",allDay:!0,messages:["週末愉快！好好享受假期～","喵～週末快樂！全天陪伴你！","週末愉快！放鬆心情～"],enabled:!1}],Yve=()=>[{id:"1",name:"早班問候",message:"{早班同事}，早安！今天也要加油喔！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"2",name:"晚班問候",message:"{晚班同事}，晚安！今天辛苦了！",enabled:!1,timeRestriction:!1,startTime:"18:00",endTime:"20:00"},{id:"3",name:"全體問候",message:"{所有同事}，工作辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"4",name:"人數統計",message:"今天有{總人數}位同事上班，加油！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"5",name:"連續上班關心",message:"{連續上班同事}，辛苦了！記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"6",name:"連續上班鼓勵",message:"{連續上班同事}，真是勤奮！繼續保持！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"7",name:"連續上班提醒",message:"提醒：{連續上班同事}，請注意工作時數安排",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"8",name:"連續上班統計",message:"今天有{連續上班同事數量}位同事連續上班4天以上，大家辛苦了！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"9",name:"連續上班6天提醒",message:"{連續上班6天同事}，已經連續上班6天，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"10",name:"連續上班5天關心",message:"{連續上班5天同事}，連續上班5天辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"11",name:"連續上班4天鼓勵",message:"{連續上班4天同事}，連續上班4天，工作態度值得肯定！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"12",name:"連續上班6天簡潔提醒",message:"{連續上班6天同事}，請務必安排休息！",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"},{id:"13",name:"連續上班5天簡潔關心",message:"{連續上班5天同事}，辛苦了，記得適時休息喔～",enabled:!1,timeRestriction:!1,startTime:"08:00",endTime:"10:00"}],aX=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState([]),[i,s]=b.useState(0),[a,o]=b.useState(!1),[A,l]=b.useState(4),[c,d]=b.useState(""),[f,g]=b.useState(!0),[m,p]=b.useState(!1),[y,w]=b.useState(""),[v,x]=b.useState(""),[S,T]=b.useState(""),[I,C]=b.useState(!1),[E,F]=b.useState(!1),[N,k]=b.useState(null),[Q,P]=b.useState([]),[oe,Ce]=b.useState([]),[ve,xe]=b.useState([]),[Z,ae]=b.useState({}),[de,Fe]=b.useState(Date.now()),[ie,Ue]=b.useState([]);b.useEffect(()=>uf($n(_t,"catSpeech","global"),R=>{if(R.exists()){const q=R.data();e(q.enabled||!1),n(q.texts||[]),l(q.intervalSeconds||4),F(q.smartMode||!1),P(q.customRules||[]),Ce(q.scheduleTemplates||[]),d("")}else e(!1),n([]),l(4),F(!1),P([]),Ce([]);g(!1)},R=>{console.error("監聽設定失敗:",R),d("載入對話設定失敗"),g(!1)}),[]),b.useEffect(()=>{(async()=>{try{const{doc:R,getDoc:q}=await Cn(async()=>{const{doc:$,getDoc:Y}=await Promise.resolve().then(()=>Kl);return{doc:$,getDoc:Y}},void 0),M=await q(R(_t,"catSpeech","dialogueOrder"));if(M.exists()){const $=M.data();$.dialogues&&Array.isArray($.dialogues)&&(Ue($.dialogues),console.log("載入排序後的對話列表:",$.dialogues.length,"個對話"))}}catch(R){console.error("載入排序對話列表失敗:",R)}})()},[]),b.useEffect(()=>{if(!E)return;(async()=>{try{const{collection:R,getDocs:q}=await Cn(async()=>{const{collection:Y,getDocs:L}=await Promise.resolve().then(()=>Kl);return{collection:Y,getDocs:L}},void 0),M=await q(R(_t,"names")),$={};M.forEach(Y=>{const L=Y.data();$[Y.id]=L.name}),ae($)}catch(R){console.error("載入姓名資料失敗:",R)}})()},[E]),b.useEffect(()=>{if(!E)return;(async()=>{try{console.log("開始載入班表資料...");const{collection:R,getDocs:q}=await Cn(async()=>{const{collection:L,getDocs:Ee}=await Promise.resolve().then(()=>Kl);return{collection:L,getDocs:Ee}},void 0),M=await q(R(_t,"schedule")),$={};let Y=null;M.forEach(L=>{const Ee=L.data();$[L.id]=Ee,(L.id==="currentMonth"&&!Y||L.id==="nextMonth"&&!Y)&&(Y=Ee)}),console.log("載入的班表資料:",Object.keys($)),MY($),k(Y)}catch(R){console.error("載入班表資料失敗:",R)}})()},[E]),b.useEffect(()=>{if(console.log("=== 智能對話生成檢查 ==="),console.log("智能模式:",E),console.log("顯示氣泡:",t),console.log("班表資料:",N?"已載入":"未載入"),console.log("班表模板:",oe.length,"個"),console.log("自定義規則:",Q.length,"個"),console.log("姓名資料:",Object.keys(Z).length,"個"),!E||!t){console.log("智能模式或顯示氣泡未開啟，跳過智能對話生成");return}const V=()=>{console.log("=== 開始生成智能對話 ==="),LY();const q=sX(N,Q,oe,Z);if(console.log("生成的智能對話數量:",q.length),console.log("智能對話詳情:",q.map(M=>{var $;return{id:M.id,type:M.type,message:($=M.message)==null?void 0:$.substring(0,30),source:M.source}})),q.length>0){console.log("=== 簡化邏輯：直接使用智能對話 ===");const M=q.map(L=>L.message).filter(L=>L&&L.trim()!=="");console.log("智能對話訊息:",M);const $=r.filter(L=>L&&typeof L=="string"&&L.trim()!==""&&!M.includes(L)),Y=[...M,...$];if(console.log("原始普通對話:",$),console.log("合併後的對話:",Y),Y.length>0)console.log("設置合併後的對話:",Y.length,"個"),console.log("最終對話內容:",Y),xe(q),n(Y);else{const L=r.filter(Ee=>Ee&&typeof Ee=="string"&&Ee.trim()!=="");console.log("沒有有效對話，使用原始對話:",L),n(L)}}else{const M=r.filter($=>$&&typeof $=="string"&&$.trim()!=="");console.log("沒有智能對話，使用原始對話:",M),n(M)}};V();const R=setInterval(V,30*1e3);return()=>clearInterval(R)},[E,t,N,Q,oe,Z,de,ie]),b.useEffect(()=>{if(r.length>0){if(i>=r.length)s(0);else if(!r[i]||typeof r[i]!="string"||r[i].trim()===""){const V=r.findIndex(R=>R&&typeof R=="string"&&R.trim()!=="");s(V!==-1?V:0)}}},[r,i]),b.useEffect(()=>{if(!t||r.length===0)return;const V=setInterval(()=>{o(!0),setTimeout(()=>{s(R=>R>=r.length||R===r.length-1?0:R+1),o(!1)},300)},A*1e3);return()=>clearInterval(V)},[t,r.length,A]);const ze=()=>{Fe(Date.now())};b.useEffect(()=>{const V=R=>{R.ctrlKey&&R.altKey&&R.key==="A"&&p(!0),R.ctrlKey&&R.key==="R"&&E&&(R.preventDefault(),ze())};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[E]);const D=async()=>{if(!y.trim()||!v.trim()){T("請輸入信箱和密碼");return}try{C(!0),T("");const{signInWithEmailAndPassword:V}=await Cn(async()=>{const{signInWithEmailAndPassword:R}=await Promise.resolve().then(()=>jY);return{signInWithEmailAndPassword:R}},void 0);await V(L1,y,v),p(!1),w(""),x("")}catch(V){console.error("登入失敗:",V);let R="登入失敗";switch(V.code){case"auth/user-not-found":R="找不到此帳號";break;case"auth/wrong-password":R="密碼錯誤";break;case"auth/invalid-email":R="信箱格式錯誤";break;case"auth/too-many-requests":R="登入次數過多，請稍後再試";break;default:R="登入失敗："+V.message}T(R)}finally{C(!1)}};return f?u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):c?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-2",children:u.jsx("div",{className:"text-red-400 text-center text-sm",children:c})})})]}):!t||r.length===0?u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>p(!0),className:"fixed top-4 right-4 z-50 w-8 h-8 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100",title:"管理員登入 (Ctrl+Alt+A)",children:u.jsx("svg",{className:"w-4 h-4 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsx("div",{className:"mt-2 mb-0 animate-fadeIn",children:u.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-2 border border-primary/20 backdrop-blur-sm shadow-lg relative",children:[E&&u.jsx("button",{onClick:ze,className:"absolute top-1 right-1 w-6 h-6 bg-primary/20 hover:bg-primary/30 rounded-full border border-primary/30 hover:border-primary/50 transition-all duration-200 opacity-50 hover:opacity-100 z-10",title:"刷新智能對話 (Ctrl+R)",children:u.jsx("svg",{className:"w-3 h-3 mx-auto text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:`text-white text-center text-lg leading-relaxed min-h-[1.2rem] flex items-center justify-center transition-all duration-300 ${a?"opacity-0 transform translate-y-2":"opacity-100 transform translate-y-0"}`,children:(()=>{const V=r[i];if(V&&typeof V=="string"&&V.trim()!=="")return V;if(r.length===0)return"喵～";{const R=r.findIndex((q,M)=>M>i&&q&&typeof q=="string"&&q.trim()!=="");if(R!==-1)return r[R];{const q=r.findIndex(M=>M&&typeof M=="string"&&M.trim()!=="");return q!==-1?r[q]:"喵～"}}})()})})]})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-surface rounded-xl p-6 w-96 border border-primary/20",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-white",children:"管理員登入"}),u.jsx("input",{type:"email",placeholder:"管理員信箱",value:y,onChange:V=>w(V.target.value),disabled:I,className:"w-full mb-3 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!I&&D()}),u.jsx("input",{type:"password",placeholder:"密碼",value:v,onChange:V=>x(V.target.value),disabled:I,className:"w-full mb-4 p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary/50 disabled:opacity-50",onKeyPress:V=>V.key==="Enter"&&!I&&D()}),S&&u.jsx("div",{className:"text-red-400 text-sm mb-3 bg-red-500/10 border border-red-500/20 rounded-lg p-2",children:S}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:D,disabled:I,className:"flex-1 bg-primary text-white p-3 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?"登入中...":"登入"}),u.jsx("button",{onClick:()=>p(!1),disabled:I,className:"flex-1 bg-white/10 text-white p-3 rounded-lg hover:bg-white/20 transition-colors disabled:opacity-50",children:"取消"})]})]})})]})},oX="/Brainless/assets/logo-cat-CbWHoD5g.png";function AX(){return u.jsx("header",{className:"bg-surface text-white",children:u.jsx("div",{className:"container-custom py-4 md:py-6",children:u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 relative",children:[u.jsx("img",{src:oX,alt:"Cat Logo",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 border-primary p-1 logo logo-glow logo-float"}),u.jsxs("div",{className:"flex flex-col items-start gap-1",children:[u.jsx("h1",{className:"text-2xl sm:text-4xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Brainless"}),u.jsx(L$,{})]})]}),u.jsx(aX,{})]})})})}function lX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const cX=b.forwardRef(lX);function uX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const RT=b.forwardRef(uX);function dX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const fX=b.forwardRef(dX);function hX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const gX=b.forwardRef(hX);function mX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const ff=b.forwardRef(mX);function pX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const _d=b.forwardRef(pX);function vX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const bD=b.forwardRef(vX);function yX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wX=b.forwardRef(yX);function xX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const _b=b.forwardRef(xX);function bX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ib=b.forwardRef(bX);function BX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ng=b.forwardRef(BX);function CX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Sb=b.forwardRef(CX);function EX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const _X=b.forwardRef(EX);function IX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const As=b.forwardRef(IX);function SX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ls=b.forwardRef(SX);function TX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const FX=b.forwardRef(TX);function NX({title:t,titleId:e,...r},n){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?b.createElement("title",{id:e},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const BD=b.forwardRef(NX);function UX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}const MT=[{path:"/sandwich",label:"三明治計算器",icon:u.jsx(ff,{className:"w-5 h-5"})},{path:"/cashier",label:"收銀管理",icon:u.jsx(fX,{className:"w-5 h-5"})},{path:"/coffee-beans",label:"咖啡豆管理",icon:u.jsx(_b,{className:"w-5 h-5"})},{path:"/schedule",label:"班表管理",icon:u.jsx(_d,{className:"w-5 h-5"})},{path:"/daily-reports",label:"報表生成器",icon:u.jsx(Sb,{className:"w-5 h-5"})},{path:"/poursteady",label:"手沖機調整",icon:u.jsx(gX,{className:"w-5 h-5"})},{path:"/alcohol",label:"酒精計算",icon:u.jsx(UX,{className:"w-5 h-5"})}];function PX(){const[t,e]=b.useState(!1),[r,n]=b.useState(!0),[i,s]=b.useState("");if(b.useEffect(()=>{let o=!0;const A=L1.onAuthStateChanged(async l=>{if(o){if(l)try{const c=await mD(l.uid);o&&(e(c),s(""))}catch(c){console.error("檢查管理員狀態失敗:",c),o&&(e(!1),s("權限檢查失敗"))}else o&&(e(!1),s(""));o&&n(!1)}});return()=>{o=!1,A()}},[]),r)return u.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:u.jsx("div",{className:"container-custom py-2 sm:py-4",children:u.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4",children:[MT.map(({path:o,label:A,icon:l})=>u.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[u.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),u.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]},o)),u.jsxs("div",{className:"flex flex-col items-center w-[5.5rem] sm:w-28 min-h-[4.5rem] sm:min-h-20 p-2 sm:p-3 rounded-lg animate-pulse",children:[u.jsx("div",{className:"w-6 h-6 sm:w-7 sm:h-7 bg-white/10 rounded mb-1.5 sm:mb-2"}),u.jsx("div",{className:"w-12 h-3 bg-white/10 rounded text-xs sm:text-sm"})]})]})})});const a=[...MT,...t?[{path:"/admin",label:"管理設定",icon:u.jsx(Ib,{className:"w-5 h-5"})}]:[]];return u.jsx("nav",{className:"bg-surface sticky top-0 z-50 shadow-lg",children:u.jsxs("div",{className:"container-custom py-2 sm:py-4",children:[i&&u.jsx("div",{className:"mb-4 bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-amber-500",children:"⚠️"}),u.jsx("p",{className:"text-amber-400 text-sm",children:i})]})}),u.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:a.map(({path:o,label:A,icon:l})=>u.jsxs(j$,{to:o,className:({isActive:c})=>`
                flex flex-col items-center
                w-[5.5rem] sm:w-28
                min-h-[4.5rem] sm:min-h-20
                p-2 sm:p-3
                rounded-lg
                transition-all duration-200
                ${c?"text-primary bg-primary/10":"text-text-secondary hover:text-text-primary hover:bg-white/5"}
              `,children:[u.jsx("div",{className:"mb-1.5 sm:mb-2",children:ii.cloneElement(l,{className:"w-6 h-6 sm:w-7 sm:h-7"})}),u.jsx("div",{className:"text-xs sm:text-sm text-center leading-tight",children:A})]},o))})]})})}function kX({children:t}){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(AX,{}),u.jsx(PX,{}),u.jsx("main",{className:"py-6",children:u.jsx("div",{className:"container-custom",children:t})})]})}function QX(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent"}),u.jsx("p",{className:"text-text-secondary animate-pulse",children:"載入中..."})]})})}function OX(){return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h1",{className:"text-4xl font-bold text-red-500",children:"出錯了！"}),u.jsx("p",{className:"text-text-secondary",children:"抱歉，頁面載入時發生錯誤。"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"重新載入"})]})})}class jX extends ii.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:u.jsx("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-8 max-w-md mx-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),u.jsx("h2",{className:"text-xl font-bold text-red-300 mb-4",children:"班表管理出現錯誤"}),u.jsx("p",{className:"text-gray-300 mb-6",children:"系統遇到意外錯誤，請重新整理頁面或聯繫管理員"}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all duration-200",children:"重新整理頁面"}),!1]})})}):this.props.children}}function DX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21.5c4.5 0 7.5-3 7.5-7.5C19.5 8.5 12 2.5 12 2.5S4.5 8.5 4.5 14c0 4.5 3 7.5 7.5 7.5z"})})}const Pi={hot:[40,78,120,162,200,230],cold:{"150ml":[40,58,80,102,120,150],"140ml":[40,58,80,102,120,140],"130ml":[40,58,80,102,120,130]}},ig={hot:[40,38,42,42,38,30],cold:{"150ml":[40,18,22,22,18,30],"140ml":[40,18,22,22,18,20],"130ml":[40,18,22,22,18,10]}};function RX(){const[t,e]=b.useState("hot"),[r,n]=b.useState("150ml"),[i,s]=b.useState({hot:Array(6).fill(""),cold:Array(6).fill("")}),a=(c,d)=>{const f=[...i[t]];f[c]=d,f.map((g,m)=>g===""?Pi[t][m]:Number(g)),s({...i,[t]:f})},o=()=>{s({...i,[t]:Array(6).fill("")})},A=c=>{n(c),s({...i,cold:Array(6).fill("")})},l=c=>{const d=i[t][c];return t==="hot"?d===""?Pi.hot[c]:Number(d):d===""?Pi.cold[r][c]:Number(d)};return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 sm:space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:u.jsx(DX,{className:"w-6 h-6 text-primary"})}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Poursteady 注水量調整"})]}),u.jsx("button",{onClick:o,className:`
            w-full sm:w-auto px-4 py-2 rounded-lg font-medium
            transition-all duration-200
            border border-white/10
            hover:bg-white/5
          `,children:"重設"})]}),u.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[u.jsx("button",{onClick:()=>e("hot"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="hot"?"bg-gradient-to-br from-rose-500 to-amber-500 text-white shadow-lg shadow-rose-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"熱手沖"}),u.jsx("button",{onClick:()=>e("cold"),className:`
            flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
            transition-all duration-200
            ${t==="cold"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
          `,children:"冰手沖"})]}),t==="cold"&&u.jsxs("div",{className:"flex gap-2 bg-surface/30 p-1.5 rounded-xl w-full sm:w-fit",children:[u.jsx("button",{onClick:()=>A("150ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="150ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"150ml"}),u.jsx("button",{onClick:()=>A("140ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="140ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"140ml"}),u.jsx("button",{onClick:()=>A("130ml"),className:`
              flex-1 sm:flex-none px-4 sm:px-6 py-2.5 rounded-lg font-medium
              transition-all duration-200
              ${r==="130ml"?"bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-lg shadow-blue-500/20":"text-text-secondary hover:bg-white/5"}
            `,children:"130ml"})]}),u.jsx("div",{className:"grid gap-4",children:(t==="hot"?Pi.hot:Pi.cold[r]).map((c,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=t==="hot"?ig.hot[d]:ig.cold[r][d],y=Math.round(m-p);return u.jsx("div",{className:`
                bg-gradient-to-br from-surface/30 to-surface/20
                rounded-xl p-5 space-y-4 border border-white/5
                transition-all duration-300 hover:shadow-lg
                ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
              `,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-8 h-8 rounded-full flex items-center justify-center font-bold
                    ${t==="hot"?"bg-gradient-to-br from-rose-400/20 to-amber-400/20 text-rose-400":"bg-gradient-to-br from-blue-400/20 to-cyan-400/20 text-blue-400"}
                  `,children:d+1}),u.jsxs("div",{children:[u.jsxs("div",{className:"font-medium",children:["第 ",d+1," 段注水"]}),u.jsxs("div",{className:"text-sm text-text-secondary",children:["累計標準: ",c," ml",u.jsxs("span",{className:"block sm:inline sm:ml-2",children:["單段標準: ",p," ml"]})]})]})]}),u.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-end",children:u.jsxs("div",{className:"w-full sm:w-32 text-center",children:[u.jsx("input",{type:"number",value:i[t][d],onChange:w=>a(d,w.target.value),placeholder:Pi[t][d],step:"0.1",className:`
                        w-full sm:w-24 text-center rounded-lg px-2 py-1.5 text-lg font-bold
                        bg-white/5 border border-white/10 focus:outline-none
                        focus:ring-1 ${t==="hot"?"focus:ring-rose-500":"focus:ring-blue-500"}
                      `}),y!==0&&u.jsxs("div",{className:`text-xs mt-1 ${y>0?"text-green-400":"text-red-400"}`,children:[y>0?`+${y}`:y," ml"]})]})})]})},d)})}),u.jsx("div",{className:`
        bg-gradient-to-br from-surface/30 to-surface/20
        rounded-xl p-5 border border-white/5
        ${t==="hot"?"hover:border-rose-500/20":"hover:border-blue-500/20"}
      `,children:u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"總注水量"}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mt-1",children:[l(5)," ml"]}),(()=>{const c=l(5),d=t==="hot"?Pi.hot[5]:Pi.cold[r][5],f=Math.round(c-d);return f!==0?u.jsxs("div",{className:`text-sm mt-1 ${f>0?"text-green-400":"text-red-400"}`,children:[f>0?`+${f}`:f," ml"]}):null})()]}),u.jsxs("div",{className:"text-right w-full sm:w-auto",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"標準總量"}),u.jsxs("div",{className:"text-xl mt-1",children:[t==="hot"?Pi.hot[5]:Pi.cold[r][5]," ml"]}),u.jsx("div",{className:`
              text-xs mt-2 px-2 py-1 rounded-full w-fit ml-auto
              ${t==="hot"?"bg-rose-500/10 text-rose-400":"bg-blue-500/10 text-blue-400"}
            `,children:t==="hot"?"熱手沖":"冰手沖"})]})]})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`
            w-1 h-5 rounded-full
            ${t==="hot"?"bg-rose-400":"bg-blue-400"}
          `}),u.jsx("h2",{className:"font-medium",children:"需調整水量"})]}),u.jsx("div",{className:"grid gap-2",children:(t==="hot"?ig.hot:ig.cold[r]).map((c,d)=>{const f=l(d),g=d>0?l(d-1):0,m=d===0?f:f-g,p=Math.round(c-m);return p===0?null:u.jsxs("div",{className:`
                  flex items-center justify-between
                  px-4 py-2 rounded-lg
                  ${t==="hot"?"bg-rose-500/5":"bg-blue-500/5"}
                `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`
                    w-6 h-6 rounded-full 
                    flex items-center justify-center 
                    text-sm font-medium
                    ${t==="hot"?"bg-rose-400/10 text-rose-400":"bg-blue-400/10 text-blue-400"}
                  `,children:d+1}),u.jsxs("span",{children:["第 ",d+1," 段注水"]})]}),u.jsxs("span",{className:`
                  text-sm px-3 py-1 rounded-full font-medium
                  ${p>0?"bg-green-400/10 text-green-400":"bg-red-400/10 text-red-400"}
                `,children:[p>0?`+${p}`:p," ml"]})]},d)})})]})]})}function MX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 20v-7m0 0l6-6.5H6L12 13zm-4-9h8m-8 0l-2-2m10 2l2-2"})})}function LX(){const[t,e]=b.useState([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),[r,n]=b.useState({method:"volume",volume:"",cubes:"",cubeWeight:""}),[i,s]=b.useState(null),[a,o]=b.useState("ml"),A=(p,y,w)=>{if(!p)return"";const v=parseFloat(p);return y===w?v:y==="shot"?v*30:v/30},l=()=>{e([...t,{volume:"",concentration:"",unit:"ml",id:Date.now()}])},c=p=>{t.length>1&&e(t.filter(y=>y.id!==p))},d=(p,y,w)=>{e(t.map(v=>v.id===p?{...v,[y]:w}:v))},f=p=>{e(t.map(y=>{if(y.id!==p)return y;const w=y.unit==="shot"?"ml":"shot";return{...y,unit:w,volume:A(y.volume,y.unit,w).toString()}}))},g=()=>{const p=t.reduce((S,{volume:T,concentration:I,unit:C})=>{const E=parseFloat(T)||0,F=C==="shot"?E*30:E,N=parseFloat(I)||0;return S+F*(N/100)},0),y=t.reduce((S,{volume:T,unit:I})=>{const C=parseFloat(T)||0;return S+(I==="shot"?C*30:C)},0);let w=0;if(r.method==="volume")w=parseFloat(r.volume)||0;else{const S=parseFloat(r.cubes)||0,T=parseFloat(r.cubeWeight)||0;w=S*T}const v=y+w,x=p/v*100;s({originalConcentration:p/y*100,finalConcentration:x,totalVolume:v,pureAlcohol:p,meltedIceVolume:w})},m=()=>{e([{volume:"",concentration:"",unit:"ml",id:Date.now()}]),n({method:"volume",volume:"",cubes:"",cubeWeight:""}),s(null)};return u.jsx("div",{className:"container-custom py-8",children:u.jsx("div",{className:"max-w-2xl mx-auto px-4",children:u.jsxs("div",{className:"bg-surface rounded-2xl p-6 shadow-xl",children:[u.jsx("div",{className:"text-center mb-8",children:u.jsxs("div",{className:"inline-flex items-center justify-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20",children:u.jsx(MX,{className:"w-8 h-8 text-blue-400"})}),u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"酒精濃度計算器"})]})}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"bg-white/5 rounded-xl p-6 space-y-4",children:[u.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"酒類清單"]}),u.jsx("div",{className:"space-y-4",children:t.map((p,y)=>u.jsxs("div",{className:"bg-white/5 rounded-lg p-4 transition-all duration-200 hover:bg-white/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"text-sm font-medium text-blue-400",children:["酒類 ",y+1]}),t.length>1&&u.jsx("button",{onClick:()=>c(p.id),className:"p-1 rounded-lg hover:bg-red-500/10 text-red-400 transition-colors",children:u.jsx(BD,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsx("label",{className:"text-sm text-text-secondary",children:"容量"}),u.jsx("button",{onClick:()=>f(p.id),className:`text-xs px-2 py-0.5 rounded-full bg-blue-500/10 
                                     hover:bg-blue-500/20 transition-colors text-blue-400`,children:p.unit==="shot"?"ml":"shot"})]}),u.jsx("input",{type:"number",value:p.volume,onChange:w=>d(p.id,"volume",w.target.value),className:"input-field w-full",placeholder:p.unit==="shot"?"1 shot = 30ml":"輸入毫升",min:"0",step:p.unit==="shot"?"0.5":"1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-1",children:"濃度 (%)"}),u.jsx("input",{type:"number",value:p.concentration,onChange:w=>d(p.id,"concentration",w.target.value),className:"input-field w-full",placeholder:"輸入濃度",min:"0",max:"100"})]})]})]},p.id))}),u.jsx("button",{onClick:l,className:`w-full py-3 rounded-lg border-2 border-dashed border-blue-500/30
                         hover:bg-blue-500/5 text-blue-400
                         transition-all duration-200 group`,children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(As,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"text-sm font-medium",children:"添加酒類"})]})})]}),u.jsxs("div",{className:"bg-white/5 rounded-xl p-6",children:[u.jsxs("h2",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-5 bg-blue-400 rounded-full"}),"融冰計算"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{onClick:()=>n(p=>({...p,method:"volume"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="volume"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[u.jsx("div",{className:"text-sm font-medium",children:"直接輸入體積"}),u.jsx("div",{className:"text-xs mt-1 opacity-60",children:"手動輸入融冰量"})]}),u.jsxs("button",{onClick:()=>n(p=>({...p,method:"cubes"})),className:`p-3 rounded-lg transition-all duration-200 ${r.method==="cubes"?"bg-blue-500 text-white shadow-lg shadow-blue-500/25":"bg-white/5 hover:bg-white/10 text-text-secondary"}`,children:[u.jsx("div",{className:"text-sm font-medium",children:"計算冰塊體積"}),u.jsx("div",{className:"text-xs mt-1 opacity-60",children:"根據冰塊計算"})]})]}),u.jsx("div",{className:"bg-white/5 rounded-lg p-4",children:r.method==="volume"?u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"融冰體積 (ml)"}),u.jsx("input",{type:"number",value:r.volume,onChange:p=>n(y=>({...y,volume:p.target.value})),className:"input-field w-full",placeholder:"輸入預計融化的體積",min:"0"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"冰塊數量"}),u.jsx("input",{type:"number",value:r.cubes,onChange:p=>n(y=>({...y,cubes:p.target.value})),className:"input-field w-full",placeholder:"輸入數量",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:"每個冰塊重量 (g)"}),u.jsx("input",{type:"number",value:r.cubeWeight,onChange:p=>n(y=>({...y,cubeWeight:p.target.value})),className:"input-field w-full",placeholder:"輸入冰塊重量",min:"0"})]})]}),r.cubes&&r.cubeWeight&&u.jsxs("div",{className:"text-sm bg-blue-500/10 text-blue-400 rounded-lg p-3",children:["預計融化體積：",(parseFloat(r.cubes)*parseFloat(r.cubeWeight)).toFixed(0)," ml"]})]})})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:g,className:`flex-1 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500
                         text-white font-medium shadow-lg shadow-blue-500/25
                         hover:shadow-xl hover:shadow-blue-500/40 
                         transition-all duration-200`,children:"計算結果"}),u.jsx("button",{onClick:m,className:`flex-1 py-3 rounded-lg bg-white/5 hover:bg-white/10 
                         text-text-secondary transition-all duration-200`,children:"重設"})]}),i&&u.jsxs("div",{className:"grid grid-cols-2 gap-4 animate-fade-in",children:[u.jsxs("div",{className:"col-span-2 bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-gray-300",children:i.meltedIceVolume>0?"加入融冰後濃度":"酒精濃度"}),u.jsxs("div",{className:"text-3xl font-bold text-blue-400 mt-1",children:[i.finalConcentration.toFixed(2),"%"]}),i.meltedIceVolume>0&&u.jsxs("div",{className:"text-sm text-gray-300 mt-2",children:["調酒前濃度：",i.originalConcentration.toFixed(2),"%"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"總容量"}),u.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.totalVolume/30).toFixed(1)} shot`:`${i.totalVolume.toFixed(0)} ml`}),u.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.totalVolume.toFixed(0)} ml`:`${(i.totalVolume/30).toFixed(1)} shot`}),i.meltedIceVolume>0&&u.jsxs("div",{className:"text-sm text-text-secondary mt-1",children:["含融冰：",i.meltedIceVolume.toFixed(0)," ml"]})]}),u.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-text-secondary",children:"純酒精含量"}),u.jsx("div",{className:"text-xl font-bold mt-1",children:a==="shot"?`${(i.pureAlcohol/30).toFixed(1)} shot`:`${i.pureAlcohol.toFixed(0)} ml`}),u.jsx("div",{className:"text-sm text-text-secondary mt-1",children:a==="shot"?`${i.pureAlcohol.toFixed(0)} ml`:`${(i.pureAlcohol/30).toFixed(1)} shot`})]})]})]})]})})})}function HX(t,e){const[r,n]=b.useState(()=>{try{const i=window.localStorage.getItem(t);return i?JSON.parse(i):e}catch(i){return console.error(i),e}});return b.useEffect(()=>{try{window.localStorage.setItem(t,JSON.stringify(r))}catch(i){console.error(i)}},[t,r]),[r,n]}const Se={common:{loading:"載入中...",error:"出錯了！",retry:"重試",save:"儲存",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯"},sandwich:{title:"三明治計算器",subtitle:"選擇拉奶，選擇成功",inputsTitle:"計算輸入",inputsSubtitle:"輸入現有數量",existingHam:"現有的火腿三明治",existingSalami:"現有的臘腸三明治",distribution:"分配方式",distributionEven:"平均分配",distributionHam:"優先火腿",distributionSalami:"優先臘腸",extraBagsLabel:"額外需要的麵包包數",calculate:"計算結果",reset:"重設輸入",resultsTitle:"計算結果",resultsSubtitle:"製作需求總覽",needHam:"需製作的火腿三明治",needSalami:"需製作的臘腸三明治",needBags:"需要的麵包數量",totalNeed:"總計需求",emptyHint:"點擊計算按鈕查看結果"},sandwichUi:{summaryTarget:"目標",summaryExisting:"現有",summaryToMake:"需製作",unitPiece:"個",unitBag:"包",capacityTitle:"容量與分配資訊",capacityFormula:"容量 = 包數 × 每包數量",capacityLeftover:"剩餘切片 = 容量 − 需求",capacityDistributionTitle:"分配方式",capacityEvenDetail:"平均分配：多出的切片會均分到火腿與臘腸",capacityHamDetail:"優先火腿：多出的切片全分給火腿",capacitySalamiDetail:"優先臘腸：多出的切片全分給臘腸",capacityActual:"本次實際分配",hamProgress:"火腿達成度",salamiProgress:"臘腸達成度",inputPlaceholderNumber:"輸入個數",tooltipEven:"平均分配多出的切片",tooltipHam:"多出的切片優先給火腿",tooltipSalami:"多出的切片優先給臘腸"},settings:{title:"基本設定",subtitle:"調整計算參數",breadPerBag:"每包麵包的數量",targetHam:"目標火腿三明治數量",targetSalami:"目標臘腸三明治數量",done:"完成設定"}};function nl(t){const e=parseInt(t,10);return Number.isFinite(e)?e:0}function LT(t,e){const r=Math.max(1,nl(e.breadPerBag)),n=Math.max(0,nl(e.targetHam)),i=Math.max(0,nl(e.targetSalami)),s=Math.max(0,nl(t.existingHam)),a=Math.max(0,nl(t.existingSalami)),o=Math.max(0,nl(t.extraBags)),A=t.distribution||"even",l=Math.max(0,n-s),c=Math.max(0,i-a),d=l+c,g=Math.max(0,Math.ceil(d/r))+o,m=g*r,p=Math.max(0,m-d);let y=0,w=0;switch(A){case"ham":y=p;break;case"salami":w=p;break;default:y=Math.floor(p/2),w=p-y}const v=l+y,x=c+w;return{totalHamNeeded:v,totalSalamiNeeded:x,bagsNeeded:g,totalTarget:n+i,totalExisting:s+a,baseHamNeeded:l,baseSalamiNeeded:c,baseTotalNeeded:d,totalSlices:m,extraSlices:p,extraHam:y,extraSalami:w}}function VX(){const t={breadPerBag:8,targetHam:60,targetSalami:30},[e,r]=HX("sandwich_settings",t),[n,i]=b.useState({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),[s,a]=b.useState(!1),[o,A]=b.useState(e),[l,c]=b.useState(null),[d,f]=b.useState(!0),[g,m]=b.useState(null),[p,y]=b.useState(!1);b.useEffect(()=>{let C;try{C=uf($n(_t,"settings","sandwich"),E=>{E.exists()?r(E.data()):us(E.ref,e).catch(F=>{console.error("創建設定文件失敗:",F)}),f(!1)},E=>{console.error("讀取設定錯誤:",E),m("無法連接到 Firebase，使用本地設定"),f(!1)})}catch(E){console.error("Firebase 初始化錯誤:",E),m("Firebase 連接失敗，使用本地設定"),f(!1)}return()=>{C&&C()}},[]),b.useEffect(()=>{s&&A(e)},[s,e]);const w=async C=>{r(C);try{await us($n(_t,"settings","sandwich"),C)}catch(E){console.error("更新設定錯誤:",E),m("無法同步到 Firebase，設定已保存到本地")}},v=async()=>{await w(o),a(!1)},x=()=>{const C=LT(n,e);c(C)},S=b.useMemo(()=>LT(n,e),[n,e]),T=()=>{i({existingHam:"",existingSalami:"",extraBags:0,distribution:"even"}),c(null)},I=[{value:"even",label:Se.sandwich.distributionEven},{value:"ham",label:Se.sandwich.distributionHam},{value:"salami",label:Se.sandwich.distributionSalami}];return u.jsx("div",{className:"container-custom py-8",children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent mb-2",children:Se.sandwich.title}),u.jsx("p",{className:"text-text-secondary",children:Se.sandwich.subtitle})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[u.jsxs("div",{className:"card bg-gradient-to-br from-surface/80 to-surface/60 border-primary/20",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(ff,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Se.sandwich.inputsTitle}),u.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Se.sandwich.inputsSubtitle})]})]}),u.jsx("button",{onClick:()=>a(!0),className:"p-2 rounded-lg bg-primary/20 hover:bg-primary/30 border border-primary/30 text-primary transition-all duration-200 hover:scale-110",title:Se.settings.title,children:u.jsx(Ib,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),d?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):g?u.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[u.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u.jsx("span",{className:"text-sm font-medium",children:g})]})}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[u.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Se.sandwichUi.summaryTarget}),u.jsx("div",{className:"text-base font-semibold",children:S.totalTarget})]}),u.jsxs("div",{className:"rounded-lg bg-white/5 border border-white/10 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Se.sandwichUi.summaryExisting}),u.jsx("div",{className:"text-base font-semibold text-text-secondary",children:S.totalExisting})]}),u.jsxs("div",{className:"rounded-lg bg-primary/10 border border-primary/30 p-3 text-center",children:[u.jsx("div",{className:"text-xs text-text-secondary",children:Se.sandwichUi.summaryToMake}),u.jsx("div",{className:"text-lg sm:text-xl font-bold text-primary",children:S.baseTotalNeeded})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.sandwich.existingHam}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Se.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingHam,onChange:C=>i({...n,existingHam:C.target.value})}),u.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Se.sandwichUi.unitPiece})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.sandwich.existingSalami}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",className:"input-field w-full pr-10",placeholder:Se.sandwichUi.inputPlaceholderNumber,min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:n.existingSalami,onChange:C=>i({...n,existingSalami:C.target.value})}),u.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none text-text-secondary text-sm",children:Se.sandwichUi.unitPiece})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.sandwich.distribution}),u.jsx("div",{role:"radiogroup","aria-label":Se.sandwich.distribution,className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:I.map(C=>u.jsx("button",{role:"radio","aria-checked":n.distribution===C.value,title:C.value==="even"?Se.sandwichUi.tooltipEven:C.value==="ham"?Se.sandwichUi.tooltipHam:Se.sandwichUi.tooltipSalami,onClick:()=>i({...n,distribution:C.value}),className:`px-3 py-2 sm:px-4 sm:py-3 rounded-lg transition-all duration-200 text-sm sm:text-base ${n.distribution===C.value?"bg-primary/20 border border-primary/30 text-primary":"bg-white/5 hover:bg-white/10 text-text-secondary border border-transparent"}`,children:u.jsx("span",{className:"font-medium",children:C.label})},C.value))})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm text-text-secondary mb-2",children:[Se.sandwich.extraBagsLabel,"：",n.extraBags]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"range",min:"0",max:"5",step:"1",value:n.extraBags,"aria-label":Se.sandwich.extraBagsLabel,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onTouchStart:()=>y(!0),onTouchEnd:()=>y(!1),onChange:C=>i(E=>({...E,extraBags:parseInt(C.target.value,10)||0})),className:`w-full h-3 bg-white/10 rounded-lg appearance-none cursor-pointer
                                touch-manipulation
                                [&::-webkit-slider-thumb]:appearance-none
                                [&::-webkit-slider-thumb]:w-6
                                [&::-webkit-slider-thumb]:h-6
                                [&::-webkit-slider-thumb]:rounded-full
                                [&::-webkit-slider-thumb]:bg-primary
                                [&::-webkit-slider-thumb]:cursor-pointer
                                [&::-webkit-slider-thumb]:hover:bg-primary/80
                                [&::-webkit-slider-thumb]:transition-all
                                [&::-webkit-slider-thumb]:shadow-lg
                                [&::-moz-range-thumb]:appearance-none
                                [&::-moz-range-thumb]:border-0
                                [&::-moz-range-thumb]:w-6
                                [&::-moz-range-thumb]:h-6
                                [&::-moz-range-thumb]:rounded-full
                                [&::-moz-range-thumb]:bg-primary
                                [&::-moz-range-thumb]:cursor-pointer
                                [&::-moz-range-thumb]:hover:bg-primary/80
                                [&::-moz-range-thumb]:transition-all
                                [&::-moz-range-thumb]:shadow-lg`}),p&&u.jsx("div",{className:"absolute -top-7",style:{left:`${n.extraBags/5*100}%`,transform:"translateX(-50%)"},children:u.jsx("div",{className:"px-2 py-0.5 rounded bg-primary/80 text-white text-xs shadow",children:n.extraBags})})]}),u.jsxs("div",{className:"flex justify-between text-xs text-text-secondary mt-2 px-1",children:[u.jsx("span",{children:"0"}),u.jsx("span",{children:"1"}),u.jsx("span",{children:"2"}),u.jsx("span",{children:"3"}),u.jsx("span",{children:"4"}),u.jsx("span",{children:"5"})]})]}),u.jsxs("div",{className:"space-y-3 pt-4",children:[u.jsx("button",{onClick:x,className:"btn-primary w-full py-3 sm:py-4 text-sm sm:text-base",children:Se.sandwich.calculate}),u.jsx("button",{onClick:T,className:`w-full px-3 py-2 sm:px-4 sm:py-3 bg-white/5 hover:bg-white/10 
                              text-text-secondary rounded-lg transition-all duration-200 text-sm sm:text-base`,children:Se.sandwich.reset})]})]})]}),u.jsxs("div",{className:"card bg-gradient-to-br from-surface/60 to-surface/40 border-primary/20",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(bD,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-bold text-primary",children:Se.sandwich.resultsTitle}),u.jsx("p",{className:"text-xs sm:text-sm text-text-secondary",children:Se.sandwich.resultsSubtitle})]})]}),l?u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Se.sandwich.needHam,"（",Se.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalSalamiNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Se.sandwich.needSalami,"（",Se.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.bagsNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Se.sandwich.needBags,"（",Se.sandwichUi.unitBag,"）"]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl p-4 border border-primary/30",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalHamNeeded+l.totalSalamiNeeded}),u.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:[Se.sandwich.totalNeed,"（",Se.sandwichUi.unitPiece,"）"]})]}),u.jsxs("div",{className:"rounded-xl p-4 bg-white/5 border border-white/10 space-y-1.5",children:[u.jsx("div",{className:"text-sm font-semibold",children:Se.sandwichUi.capacityTitle}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Se.sandwichUi.capacityFormula,"：",l.bagsNeeded," × ",e.breadPerBag," = ",u.jsx("span",{className:"text-white font-medium",children:l.totalSlices})]}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Se.sandwichUi.capacityLeftover,"：",u.jsx("span",{className:"text-white font-medium",children:l.extraSlices})]}),u.jsxs("div",{className:"text-xs text-text-secondary mt-2",children:[Se.sandwichUi.capacityDistributionTitle,"：",u.jsxs("span",{className:"ml-1",children:[n.distribution==="even"&&Se.sandwichUi.capacityEvenDetail,n.distribution==="ham"&&Se.sandwichUi.capacityHamDetail,n.distribution==="salami"&&Se.sandwichUi.capacitySalamiDetail]})]}),u.jsxs("div",{className:"text-xs text-text-secondary",children:[Se.sandwichUi.capacityActual,"：",u.jsxs("span",{className:"ml-1 text-white font-medium",children:["火腿 +",l.extraHam]}),u.jsx("span",{className:"mx-2",children:"/"}),u.jsxs("span",{className:"text-white font-medium",children:["臘腸 +",l.extraSalami]})]})]})]}):u.jsxs("div",{className:"text-center py-12 text-text-secondary",children:[u.jsx(ff,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),u.jsx("p",{children:Se.sandwich.emptyHint})]})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-xl bg-primary/20 border border-primary/30",children:u.jsx(Ib,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary",children:Se.settings.title}),u.jsx("p",{className:"text-sm text-text-secondary",children:Se.settings.subtitle})]})]}),u.jsx("button",{onClick:()=>a(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.settings.breadPerBag}),u.jsx("input",{type:"number",className:"input-field w-full",min:1,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.breadPerBag,onChange:C=>A(E=>({...E,breadPerBag:parseInt(C.target.value,10)||1}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.settings.targetHam}),u.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetHam,onChange:C=>A(E=>({...E,targetHam:parseInt(C.target.value,10)||0}))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-text-secondary mb-2",children:Se.settings.targetSalami}),u.jsx("input",{type:"number",className:"input-field w-full",min:0,inputMode:"numeric",pattern:"[0-9]*",onWheel:C=>C.target.blur(),value:o.targetSalami,onChange:C=>A(E=>({...E,targetSalami:parseInt(C.target.value,10)||0}))})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{className:"flex-1 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",onClick:v,children:Se.settings.done}),u.jsx("button",{className:"flex-1 px-4 py-2 bg-white/5 hover:bg-white/10 text-text-secondary rounded-lg transition-colors",onClick:()=>a(!1),children:Se.common.cancel})]})]})})]})})}const is={brewing:{pourOver:["水洗","日曬","阿寶","台灣豆","Geisha"],espresso:["ESP","水洗"]},retail:["水洗","日曬","阿寶","季節","台灣豆","Geisha"]},Pr=["台灣豆","Geisha"],sg={bagWeight:121,ikeaBoxWeight:365,beanWeightPerPack:19};function KX(){const[t,e]=b.useState(!1);b.useEffect(()=>{if(t)document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${window.scrollY}px`;else{const D=document.body.style.top;document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top="",D&&window.scrollTo(0,parseInt(D||"0")*-1)}return()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.top=""}},[t]);const r=b.useRef(null),[n,i]=b.useState({brewing:{pourOver:{},espresso:{}},retail:{}}),[s,a]=b.useState("bag"),[o,A]=b.useState(!1),[l,c]=b.useState({}),[d,f]=b.useState("brewing"),[g,m]=b.useState("original"),[p,y]=b.useState(()=>{const D=localStorage.getItem("coffeeBeanWeightSettings");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析重量設定失敗:",V),sg}return sg}),[w,v]=b.useState(()=>{const D=localStorage.getItem("coffeeBeanCalculations");if(D)try{return JSON.parse(D)}catch(V){return console.error("解析計算欄位失敗:",V),[{id:1,totalWeight:"",estimatedPacks:0}]}return[{id:1,totalWeight:"",estimatedPacks:0}]});b.useEffect(()=>{const D=localStorage.getItem("coffeeBeanInventory");D&&i(JSON.parse(D));const V=localStorage.getItem("coffeeBeanWeightMode");V&&a(V)},[]),b.useEffect(()=>{localStorage.setItem("coffeeBeanWeightSettings",JSON.stringify(p))},[p]),b.useEffect(()=>{localStorage.setItem("coffeeBeanInventory",JSON.stringify(n))},[n]),b.useEffect(()=>{localStorage.setItem("coffeeBeanCalculations",JSON.stringify(w))},[w]),b.useEffect(()=>{localStorage.setItem("coffeeBeanWeightMode",s)},[s]),b.useEffect(()=>{const D=()=>{const V=document.getElementById("brewing-section"),R=document.getElementById("retail-section");if(V&&R){const q=V.getBoundingClientRect(),M=R.getBoundingClientRect();q.top<window.innerHeight/2&&q.bottom>window.innerHeight/2?f("brewing"):M.top<window.innerHeight/2&&M.bottom>window.innerHeight/2&&f("retail")}};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]);const x=(D,V,R)=>{var q;if(!((q=n[D][V])!=null&&q[R])){const $=Pr.includes(R)?{store:[""]}:{store:[""],breakRoom:[""]};i(Y=>{var L;return{...Y,[D]:{...Y[D],[V]:{...(L=Y[D])==null?void 0:L[V],[R]:$}}}})}},S=(D,V,R,q)=>{x(D,V,R),i(M=>{var $,Y,L;return{...M,[D]:{...M[D],[V]:{...M[D][V],[R]:{...($=M[D][V])==null?void 0:$[R],[q]:[...((L=(Y=M[D][V])==null?void 0:Y[R])==null?void 0:L[q])||[""],""]}}}}})},T=(D,V,R,q,M,$)=>{x(D,V,R),i(Y=>{var L,Ee,be,Qe;return{...Y,[D]:{...Y[D],[V]:{...Y[D][V],[R]:{...(L=Y[D][V])==null?void 0:L[R],[q]:((Qe=(be=(Ee=Y[D][V])==null?void 0:Ee[R])==null?void 0:be[q])==null?void 0:Qe.map((Me,ar)=>ar===M?$:Me))||[""]}}}}})},I=(D,V,R,q,M)=>{i($=>{var Y,L,Ee,be;return{...$,[D]:{...$[D],[V]:{...$[D][V],[R]:{...(Y=$[D][V])==null?void 0:Y[R],[q]:((be=(Ee=(L=$[D][V])==null?void 0:L[R])==null?void 0:Ee[q])==null?void 0:be.filter((Qe,Me)=>Me!==M))||[""]}}}}})},C=D=>(D==null?void 0:D.reduce((V,R)=>V+(parseInt(R)||0),0))||0,E=D=>{if(!D)return 0;let V=0;return D.store&&(V+=C(D.store)),D.breakRoom&&(V+=C(D.breakRoom)),V},F=D=>{if(!D)return 0;const V=s==="bag"?p.bagWeight:p.ikeaBoxWeight,R=D-V;return R<=0?0:Math.round(R/p.beanWeightPerPack*10)/10},N=(D,V)=>{y(R=>({...R,[D]:parseFloat(V)||0}))},k=()=>{const D=Math.max(...w.map(V=>V.id),0)+1;v(V=>[...V,{id:D,totalWeight:"",estimatedPacks:0}])},Q=D=>{w.length>1&&v(V=>V.filter(R=>R.id!==D))},P=(D,V)=>{v(R=>R.map(q=>q.id===D?{...q,totalWeight:V,estimatedPacks:F(V)}:q))},oe=()=>{A(!0);const D={};is.brewing.pourOver.forEach(V=>{const R=n.brewing.pourOver[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]);D[`brewing-pourOver-${V}`]={store:q.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"pourOver",beanType:V}}),is.brewing.espresso.forEach(V=>{const R=n.brewing.espresso[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]);D[`brewing-espresso-${V}`]={store:q.toString(),breakRoom:M.toString(),category:"brewing",subCategory:"espresso",beanType:V}}),is.retail.forEach(V=>{const R=n.retail[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]);D[`retail-${V}`]={store:q.toString(),breakRoom:M.toString(),category:"retail",subCategory:null,beanType:V}}),c(D)},Ce=()=>{Object.entries(l).forEach(([D,V])=>{const{category:R,subCategory:q,beanType:M,store:$,breakRoom:Y}=V;i(R==="retail"?L=>({...L,retail:{...L.retail,[M]:{store:[$],...Pr.includes(M)?{}:{breakRoom:[Y]}}}}):L=>({...L,[R]:{...L[R],[q]:{...L[R][q],[M]:{store:[$],...Pr.includes(M)?{}:{breakRoom:[Y]}}}}}))}),A(!1),c({})},ve=()=>{A(!1),c({})},xe=(D,V,R)=>{c(q=>({...q,[D]:{...q[D],[V]:R}}))},Z=()=>{confirm("確定要重置所有數據嗎？此操作無法復原。")&&(i({brewing:{pourOver:{},espresso:{}},retail:{}}),v([{id:1,totalWeight:"",estimatedPacks:0}]),y(sg),a("bag"),A(!1),c({}),localStorage.removeItem("coffeeBeanInventory"),localStorage.removeItem("coffeeBeanWeightSettings"),localStorage.removeItem("coffeeBeanCalculations"),localStorage.removeItem("coffeeBeanWeightMode"))},ae=()=>{confirm("確定要回復原本的重量設定嗎？")&&(y(sg),localStorage.removeItem("coffeeBeanWeightSettings"))},de=()=>{const D=[];return is.brewing.pourOver.forEach(V=>{const R=n.brewing.pourOver[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]),$=q+M;D.push({category:"出杯豆",beanType:V,storeTotal:q,breakRoomTotal:M,grandTotal:$})}),is.brewing.espresso.forEach(V=>{const R=n.brewing.espresso[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]),$=q+M;D.push({category:"義式豆",beanType:V,storeTotal:q,breakRoomTotal:M,grandTotal:$})}),is.retail.forEach(V=>{const R=n.retail[V],q=C((R==null?void 0:R.store)||[]),M=Pr.includes(V)?0:C((R==null?void 0:R.breakRoom)||[]),$=q+M;D.push({category:"賣豆",beanType:V,storeTotal:q,breakRoomTotal:M,grandTotal:$})}),D},Fe=()=>{const D=de(),V=new Date().toLocaleDateString("zh-TW"),R={};return D.forEach(q=>{R[q.category]||(R[q.category]=[]),R[q.category].push(q)}),`
      <div style="font-family: 'Microsoft JhengHei', Arial, sans-serif; max-width: 900px; margin: 0 auto; padding: 30px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); color: #2c3e50; min-height: 100vh;">
        <div style="background: white; border-radius: 15px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="color: #2c3e50; margin: 0; font-size: 32px; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.1);">咖啡豆盤點表</h1>
            <p style="color: #7f8c8d; margin: 10px 0 0 0; font-size: 16px;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(R).map(([q,M])=>`
            <div style="margin-bottom: 30px;">
              <h2 style="color: white; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 12px 25px; border-radius: 10px 10px 0 0; margin: 0; font-size: 18px; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                ${q}
              </h2>
              
              <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0 0 10px 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <thead>
                  <tr style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); height: 40px;">
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">豆種</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">店面庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">員休室庫存</th>
                    <th style="padding: 0 15px; text-align: center; vertical-align: middle; font-weight: 600; color: white; font-size: 14px;">總計</th>
                  </tr>
                </thead>
                <tbody>
                  ${M.map(($,Y)=>`
                    <tr style="${Y%2===0?"background: #f8f9fa;":"background: white;"}">
                      <td style="padding: 12px 15px; text-align: center; font-weight: 600; color: #2c3e50; border-bottom: 1px solid #ecf0f1;">${$.beanType}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.storeTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; color: #34495e; border-bottom: 1px solid #ecf0f1;">${$.breakRoomTotal}</td>
                      <td style="padding: 12px 15px; text-align: center; font-weight: 700; color: #27ae60; background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%); border-bottom: 1px solid #ecf0f1;">${$.grandTotal}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          `).join("")}
        </div>
      </div>
    `},ie=()=>{const D=de(),V=new Date().toLocaleDateString("zh-TW"),R={};return D.forEach(q=>{R[q.category]||(R[q.category]=[]),R[q.category].push(q)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 900px; margin: 0 auto; padding: 40px; background: #13131a; color: #ffffff; min-height: 100vh; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;">
        <div style="background: #1e1e2e; border-radius: 20px; padding: 50px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #6366f1; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #94a3b8; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(R).map(([q,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #ffffff; background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none; box-shadow: 0 8px 32px rgba(99, 102, 241, 0.2);">
                ${q}
              </h2>
              
              <div style="background: #1e1e2e; border-radius: 16px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 8px 32px rgba(0,0,0,0.2);">
                <table style="width: 100%; border-collapse: collapse; background: #1e1e2e;">
                  <thead>
                    <tr style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,Y)=>`
                      <tr style="background: ${Y%2===0?"#1e1e2e":"rgba(255,255,255,0.02)"}; transition: all 0.3s ease;">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #ffffff; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05);">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #3b82f6; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #10b981; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 500;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #6366f1; font-size: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},Ue=()=>{const D=de(),V=new Date().toLocaleDateString("zh-TW"),R={};return D.forEach(q=>{R[q.category]||(R[q.category]=[]),R[q.category].push(q)}),`
      <div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 800px; margin: 0 auto; padding: 40px; background: #fafafa; color: #1d1d1f; min-height: 100vh;">
        <div style="background: white; border-radius: 20px; padding: 50px; box-shadow: 0 8px 32px rgba(0,0,0,0.08);">
          <div style="text-align: center; margin-bottom: 50px;">
            <h1 style="color: #1d1d1f; margin: 0; font-size: 36px; font-weight: 600; letter-spacing: -0.5px;">咖啡豆盤點表</h1>
            <p style="color: #86868b; margin: 12px 0 0 0; font-size: 17px; font-weight: 400;">盤點日期：${V}</p>
          </div>
          
          ${Object.entries(R).map(([q,M])=>`
            <div style="margin-bottom: 40px;">
              <h2 style="color: #1d1d1f; background: #f5f5f7; padding: 16px 24px; border-radius: 12px; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center; border: none;">
                ${q}
              </h2>
              
              <div style="background: white; border-radius: 16px; overflow: hidden; border: 1px solid #e5e5e7;">
                <table style="width: 100%; border-collapse: collapse; background: white;">
                  <thead>
                    <tr style="background: #f5f5f7; height: 48px;">
                      <th style="padding: 0 20px; text-align: left; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">豆種</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">店面庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">員休室庫存</th>
                      <th style="padding: 0 20px; text-align: center; vertical-align: middle; font-weight: 600; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">總計</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${M.map(($,Y)=>`
                      <tr style="background: ${Y%2===0?"#fafafa":"white"};">
                        <td style="padding: 16px 20px; text-align: left; font-weight: 500; color: #1d1d1f; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.beanType}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.storeTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; color: #515154; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.breakRoomTotal}</td>
                        <td style="padding: 16px 20px; text-align: center; font-weight: 600; color: #007aff; font-size: 15px; border-bottom: 1px solid #e5e5e7;">${$.grandTotal}</td>
                      </tr>
                    `).join("")}
                  </tbody>
                </table>
              </div>
            </div>
          `).join("")}
        </div>
      </div>
    `},ze=async()=>{try{let D;try{D=(await Cn(async()=>{const{default:Y}=await Promise.resolve().then(()=>vre);return{default:Y}},void 0)).default}catch(Y){console.error("html2canvas 載入失敗:",Y),alert("匯出功能暫時無法使用，請重新整理頁面後再試");return}let V;g==="minimalist"?V=Ue():g==="web-consistent"?V=ie():V=Fe();const R=document.createElement("div");R.innerHTML=V,R.style.position="absolute",R.style.left="-9999px",R.style.top="0",R.style.width="900px",R.style.height="auto",R.style.overflow="visible",document.body.appendChild(R),await new Promise(Y=>setTimeout(Y,500));const q=await D(R.firstElementChild,{backgroundColor:g==="minimalist"?"#fafafa":g==="web-consistent"?"#13131a":"#ffffff",scale:1,useCORS:!0,allowTaint:!0,logging:!0,width:900,height:R.firstElementChild.scrollHeight,scrollX:0,scrollY:0,windowWidth:900,windowHeight:R.firstElementChild.scrollHeight});if(document.body.removeChild(R),!q||q.width===0||q.height===0)throw new Error("Canvas 渲染失敗");const M=document.createElement("a");let $;g==="minimalist"?$="Minimalist":g==="web-consistent"?$="網頁風格":$="原始風格",M.download=`咖啡豆盤點表_${$}_${new Date().toLocaleDateString("zh-TW")}.png`,M.href=q.toDataURL("image/png",1),M.click()}catch(D){console.error("匯出圖片失敗:",D),alert(`匯出圖片失敗：${D.message}`)}};return u.jsxs("div",{className:"container-custom py-6 space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 border border-primary/20",children:u.jsx(_b,{className:"w-6 h-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"咖啡豆管理工具"}),u.jsx("p",{className:"text-sm text-text-secondary mt-1",children:"庫存管理與重量換算"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[o?u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:Ce,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-500/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(_b,{className:"w-4 h-4"}),"儲存盤點"]}),u.jsx("button",{onClick:ve,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"取消"})]}):u.jsxs("button",{onClick:oe,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30 text-green-400 hover:from-green-500/30 hover:to-emerald-500/30 hover:border-green-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(ff,{className:"w-4 h-4"}),"快速盤點"]}),u.jsx("button",{onClick:Z,className:"px-4 py-2 text-sm font-medium rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 hover:bg-red-500/20 hover:border-red-500/50 transition-all duration-200",children:"重置數據"})]})]}),u.jsxs("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",ref:r,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"咖啡豆盤點表"}),u.jsx("p",{className:"text-sm text-text-secondary",children:"即時更新庫存數量"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-surface/40 rounded-lg border border-white/10",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"original",checked:g==="original",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"原始風格"})]}),u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"minimalist",checked:g==="minimalist",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"Minimalist"})]}),u.jsx("div",{className:"w-px h-4 bg-white/20"}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[u.jsx("input",{type:"radio",value:"web-consistent",checked:g==="web-consistent",onChange:D=>m(D.target.value),className:"text-blue-400 w-3 h-3"}),u.jsx("span",{children:"網頁風格"})]})]}),u.jsxs("button",{onClick:ze,className:"px-4 py-2 text-sm font-medium rounded-lg bg-gradient-to-r from-blue-500/20 to-cyan-500/20 border border-blue-400/30 text-blue-400 hover:from-blue-500/30 hover:to-cyan-500/30 hover:border-blue-500/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(cX,{className:"w-4 h-4"}),"匯出圖片"]})]})]}),u.jsxs("div",{id:"brewing-section",className:"space-y-4",children:[u.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 backdrop-blur-md",children:[u.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"出杯豆"}),u.jsx("p",{className:"text-sm text-blue-300/70",children:"用於製作飲品的咖啡豆"})]}),u.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400 animate-pulse"}),u.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"當前區域"})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 rounded-lg border border-blue-400/10 backdrop-blur-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),u.jsx("h4",{className:"text-md font-semibold text-blue-300",children:"手沖豆"}),u.jsx("span",{className:"text-xs text-blue-300/60",children:"手沖咖啡專用"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:is.brewing.pourOver.map(D=>{const V=Pr.includes(D),R=n.brewing.pourOver[D],q=`brewing-pourOver-${D}`,M=l[q];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>xe(q,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>xe(q,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>S("brewing","pourOver",D,"store"),className:"p-1.5 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors hover:scale-110 transform",children:u.jsx(As,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",D,"store",Y,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&u.jsx("button",{onClick:()=>I("brewing","pourOver",D,"store",Y),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>S("brewing","pourOver",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(As,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","pourOver",D,"breakRoom",Y,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>I("brewing","pourOver",D,"breakRoom",Y),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",E(R)," 包"]})})]})]},D)})})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"sticky top-16 z-20 flex items-center gap-3 mb-3 p-3 bg-gradient-to-r from-purple-500/5 to-pink-500/5 rounded-lg border border-purple-400/10 backdrop-blur-sm",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),u.jsx("h4",{className:"text-md font-semibold text-purple-300",children:"義式豆"}),u.jsx("span",{className:"text-xs text-purple-300/60",children:"義式咖啡專用"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:is.brewing.espresso.map(D=>{const V=Pr.includes(D),R=n.brewing.espresso[D],q=`brewing-espresso-${D}`,M=l[q];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>xe(q,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>xe(q,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>S("brewing","espresso",D,"store"),className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:u.jsx(As,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",D,"store",Y,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&u.jsx("button",{onClick:()=>I("brewing","espresso",D,"store",Y),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>S("brewing","espresso",D,"breakRoom"),className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(As,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>T("brewing","espresso",D,"breakRoom",Y,L.target.value),placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>I("brewing","espresso",D,"breakRoom",Y),className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",E(R)," 包"]})})]})]},D)})})]})]}),u.jsxs("div",{id:"retail-section",className:"space-y-4 mt-8",children:[u.jsxs("div",{className:"sticky top-0 z-30 flex items-center gap-3 mb-4 p-4 bg-gradient-to-r from-orange-500/10 to-yellow-500/10 rounded-xl border border-orange-400/20 backdrop-blur-md",children:[u.jsx("div",{className:"w-2 h-8 bg-gradient-to-b from-orange-400 to-yellow-400 rounded-full"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-orange-400",children:"賣豆"}),u.jsx("p",{className:"text-sm text-orange-300/70",children:"用於販售的咖啡豆"})]}),u.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-400 animate-pulse"}),u.jsx("span",{className:"text-xs text-orange-300 font-medium",children:"當前區域"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:is.retail.map(D=>{const V=Pr.includes(D),R=n.retail[D],q=`retail-${D}`,M=l[q];return u.jsxs("div",{className:`bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-3 border transition-all duration-200 hover:shadow-lg hover:shadow-primary/10 ${o?"border-green-400/50 hover:border-green-400/70":"border-white/10 hover:border-primary/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h5",{className:"font-semibold text-sm text-primary",children:D}),u.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-primary/60"}`})]}),o?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.store)||"0",onChange:$=>xe(q,"store",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),!V&&u.jsxs("div",{children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1 mb-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("input",{type:"number",value:(M==null?void 0:M.breakRoom)||"0",onChange:$=>xe(q,"breakRoom",$.target.value),placeholder:"數量",className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10 hover:border-green-400/30 transition-all text-center font-semibold",inputMode:"decimal"})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-green-500/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-green-400",children:["總計: ",parseInt((M==null?void 0:M.store)||0)+parseInt((M==null?void 0:M.breakRoom)||0)," 包"]})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"店面庫存"]}),u.jsx("button",{onClick:()=>{if(!n.retail[D]){const Y=Pr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:Y}}))}i($=>{var Y;return{...$,retail:{...$.retail,[D]:{...$.retail[D],store:[...((Y=$.retail[D])==null?void 0:Y.store)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-blue-500/20 text-blue-400 transition-colors",children:u.jsx(As,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.store)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[D]){const be=Pr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Qe=>({...Qe,retail:{...Qe.retail,[D]:be}}))}i(Ee=>{var be,Qe;return{...Ee,retail:{...Ee.retail,[D]:{...Ee.retail[D],store:((Qe=(be=Ee.retail[D])==null?void 0:be.store)==null?void 0:Qe.map((Me,ar)=>ar===Y?L.target.value:Me))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.store)||[]).length>1&&u.jsx("button",{onClick:()=>{i(L=>{var Ee,be;return{...L,retail:{...L.retail,[D]:{...L.retail[D],store:((be=(Ee=L.retail[D])==null?void 0:Ee.store)==null?void 0:be.filter((Qe,Me)=>Me!==Y))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),!V&&u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h6",{className:"text-xs font-medium text-text-secondary flex items-center gap-1",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"員休室庫存"]}),u.jsx("button",{onClick:()=>{if(!n.retail[D]){const Y=Pr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(L=>({...L,retail:{...L.retail,[D]:Y}}))}i($=>{var Y;return{...$,retail:{...$.retail,[D]:{...$.retail[D],breakRoom:[...((Y=$.retail[D])==null?void 0:Y.breakRoom)||[""],""]}}}})},className:"p-1 rounded-lg hover:bg-green-500/20 text-green-400 transition-colors",children:u.jsx(As,{className:"w-3 h-3"})})]}),u.jsx("div",{className:"space-y-1.5",children:((R==null?void 0:R.breakRoom)||[""]).map(($,Y)=>u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("input",{type:"number",value:$,onChange:L=>{if(!n.retail[D]){const be=Pr.includes(D)?{store:[""]}:{store:[""],breakRoom:[""]};i(Qe=>({...Qe,retail:{...Qe.retail,[D]:be}}))}i(Ee=>{var be,Qe;return{...Ee,retail:{...Ee.retail,[D]:{...Ee.retail[D],breakRoom:((Qe=(be=Ee.retail[D])==null?void 0:be.breakRoom)==null?void 0:Qe.map((Me,ar)=>ar===Y?L.target.value:Me))||[""]}}}})},placeholder:"數量",className:"input-field flex-1 text-sm py-1.5 px-2.5 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",inputMode:"decimal"}),((R==null?void 0:R.breakRoom)||[]).length>1&&u.jsx("button",{onClick:()=>{i(L=>{var Ee,be;return{...L,retail:{...L.retail,[D]:{...L.retail[D],breakRoom:((be=(Ee=L.retail[D])==null?void 0:Ee.breakRoom)==null?void 0:be.filter((Qe,Me)=>Me!==Y))||[""]}}}})},className:"p-1 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-3 h-3"})})]},Y))})]}),u.jsx("div",{className:"mt-3 pt-2 border-t border-white/10 bg-gradient-to-r from-primary/10 to-transparent rounded-lg p-2",children:u.jsxs("span",{className:"text-xs font-semibold text-primary",children:[D,"：總共 ",E(R)," 包"]})})]})]},D)})})]})]}),u.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 z-50",children:u.jsx("div",{className:"bg-surface/90 backdrop-blur-md border border-white/20 rounded-full px-4 py-2 shadow-lg",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("brewing-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400/20 text-blue-400":"text-gray-400 hover:text-blue-300"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="brewing"?"bg-blue-400":"bg-gray-400"}`}),u.jsx("span",{className:"text-sm font-medium",children:"出杯豆"})]}),u.jsx("div",{className:"w-px h-4 bg-gray-600"}),u.jsxs("button",{onClick:()=>{var D;return(D=document.getElementById("retail-section"))==null?void 0:D.scrollIntoView({behavior:"smooth"})},className:`flex items-center gap-2 px-3 py-1 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400/20 text-orange-400":"text-gray-400 hover:text-orange-300"}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${d==="retail"?"bg-orange-400":"bg-gray-400"}`}),u.jsx("span",{className:"text-sm font-medium",children:"賣豆"})]})]})})}),u.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 p-4 bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 rounded-full shadow-lg hover:shadow-xl z-50 hover:scale-110 transform",children:u.jsx(ff,{className:"w-6 h-6"})}),t&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:D=>{D.target===D.currentTarget&&e(!1)},children:u.jsxs("div",{className:"bg-surface/95 backdrop-blur-md border border-white/20 rounded-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-2xl",onClick:D=>D.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-primary mb-1",children:"重量換算計算器"}),u.jsx("p",{className:"text-sm text-text-secondary",children:"估算豆包數量"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:ae,className:"px-3 py-1.5 text-xs font-medium rounded-lg border border-amber-500/30 text-amber-400 hover:bg-amber-500/10 hover:border-amber-500/50 transition-all duration-200 flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400"}),"回復設定"]}),u.jsx("button",{onClick:()=>e(!1),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(BD,{className:"w-5 h-5"})})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-amber-400 to-orange-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算模式"})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[u.jsx("input",{type:"radio",value:"bag",checked:s==="bag",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),u.jsx("span",{className:"font-medium",children:"外包裝袋"})]})]}),u.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-xl border border-white/10 hover:border-amber-400/30 transition-all duration-200 cursor-pointer bg-gradient-to-br from-surface/40 to-surface/20",children:[u.jsx("input",{type:"radio",value:"ikea",checked:s==="ikea",onChange:D=>a(D.target.value),className:"text-amber-400 w-4 h-4"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),u.jsx("span",{className:"font-medium",children:"IKEA 盒子"})]})]})]})]}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"重量設定"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),s==="bag"?"外包裝袋重量":"IKEA 盒重量"," (g)"]}),u.jsx("input",{type:"number",value:s==="bag"?p.bagWeight:p.ikeaBoxWeight,onChange:D=>N(s==="bag"?"bagWeight":"ikeaBoxWeight",D.target.value),className:"input-field w-full text-sm py-3 px-4 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10 hover:border-blue-400/30 transition-all",placeholder:"輸入重量",inputMode:"decimal"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-xl p-4 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-3 text-primary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"每包豆子重量 (g)"]}),u.jsx("input",{type:"number",value:p.beanWeightPerPack,onChange:D=>N("beanWeightPerPack",D.target.value),className:"input-field w-full text-sm py-2.5 px-3 rounded-lg bg-white/5 border-white/10 focus:border-green-400/50 focus:bg-white/10",placeholder:"輸入重量",inputMode:"decimal"})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{onClick:k,className:"px-4 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-primary/20 to-purple-500/20 border border-primary/30 text-primary hover:from-primary/30 hover:to-purple-500/30 hover:border-primary/50 transition-all duration-200 flex items-center gap-2",children:[u.jsx(As,{className:"w-4 h-4"}),"新增計算欄位"]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded-full"}),u.jsx("h3",{className:"text-lg font-bold text-primary",children:"計算結果"})]}),w.map(D=>u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-xl p-4 border border-white/10 hover:border-primary/30 transition-all duration-200 hover:shadow-lg hover:shadow-primary/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h5",{className:"font-semibold text-primary",children:["計算欄位 #",D.id]}),u.jsx("div",{className:"w-2 h-2 rounded-full bg-primary/60"})]}),w.length>1&&u.jsx("button",{onClick:()=>Q(D.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",children:u.jsx(ls,{className:"w-4 h-4"})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"總重量 (g)"]}),u.jsx("input",{type:"number",value:D.totalWeight,onChange:V=>P(D.id,V.target.value),placeholder:"輸入總重量",className:"input-field w-full text-sm py-2 px-3 rounded-lg bg-white/5 border-white/10 focus:border-blue-400/50 focus:bg-white/10",inputMode:"decimal"})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/40 to-surface/20 rounded-lg p-3 border border-white/10",children:[u.jsxs("label",{className:"block text-sm font-semibold mb-2 text-text-secondary flex items-center gap-2",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"}),"估算包數"]}),u.jsxs("div",{className:"w-full text-sm py-3 px-4 rounded-lg bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/30 text-center font-bold text-green-400 hover:border-green-500/50 transition-all",children:[D.estimatedPacks," 包"]})]})]})]},D.id))]})]})})]})}function $X(t){return u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),u.jsx("polyline",{points:"14,2 14,8 20,8"})]})}function GX(t){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",...t,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}function WX(){const[t,e]=b.useState("");b.useState(!1);const[r,n]=b.useState(0),[i,s]=b.useState(!1),[a,o]=b.useState(""),[A,l]=b.useState(!1),c=[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],d=g=>[31,28,31,30,31,30,31,31,30,31,30,31][parseInt(g)-1],f=()=>{if(!t)return;const g=`DailyReport_${t}_Month.zip`,m=`https://raw.githubusercontent.com/greedysisyphus/Brainless/main/public/reports/${g}`,p=document.createElement("a");p.href=m,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p)};return u.jsx("div",{className:"container-custom py-6",children:u.jsxs("div",{className:"max-w-2xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[u.jsx($X,{className:"w-8 h-8 text-primary"}),u.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:"報表生成器"})]}),u.jsx("div",{className:"mb-6",children:u.jsxs("blockquote",{className:"italic text-gray-400 text-center text-base",children:["「我愛改檔名」",u.jsx("span",{className:"block text-xs text-gray-500 mt-1 text-center",children:"— 紅葉"})]})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[u.jsx(_d,{className:"w-5 h-5"}),"選擇月份"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-text-secondary",children:"選擇要生成日報表的月份"}),u.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"input-field w-full max-w-xs",children:[u.jsx("option",{value:"",children:"請選擇月份"}),c.map(g=>u.jsxs("option",{value:g.value,children:[g.label," (",d(g.value),"天)"]},g.value))]}),t&&u.jsxs("div",{className:"text-sm text-text-secondary",children:["將生成 ",d(t)," 個日報表檔案"]})]})]})}),u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("h2",{className:"text-lg font-semibold text-primary mb-4 flex items-center gap-2",children:[u.jsx(GX,{className:"w-5 h-5"}),"生成日報表"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-text-secondary",children:"點擊下方按鈕開始生成整月日報表"}),u.jsx("button",{onClick:f,disabled:!t,className:"btn-primary w-full max-w-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"下載日報表"})]})]})}),a&&u.jsx("div",{className:"card backdrop-blur-sm bg-red-500/10 border border-red-500/30",children:u.jsxs("div",{className:"p-4 flex items-center gap-3",children:[u.jsx(_X,{className:"w-5 h-5 text-red-400"}),u.jsx("span",{className:"text-red-400",children:a})]})}),A&&u.jsx("div",{className:"card backdrop-blur-sm bg-surface/80 border border-white/20",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-primary",children:"生成進度"}),u.jsxs("span",{className:"text-sm text-text-secondary",children:[Math.round(r),"%"]})]}),u.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:u.jsx("div",{className:"bg-gradient-to-r from-primary to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),i&&u.jsxs("div",{className:"mt-4 flex items-center gap-2 text-green-400",children:[u.jsx(wX,{className:"w-5 h-5"}),u.jsx("span",{children:"日報表生成完成！"})]})]})})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tb=function(t,e){return Tb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Tb(t,e)};function Ti(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Fb=function(){return Fb=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Fb.apply(this,arguments)};function Hr(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function A(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,A)}l((n=n.apply(t,[])).next())})}function kr(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(l){return function(c){return A([l,c])}}function A(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ag(t,e,r){if(arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Rs=function(){function t(e,r,n,i){this.left=e,this.top=r,this.width=n,this.height=i}return t.prototype.add=function(e,r,n,i){return new t(this.left+e,this.top+r,this.width+n,this.height+i)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),av=function(t,e){return Rs.fromClientRect(t,e.getBoundingClientRect())},zX=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),i=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Rs(0,0,n,i)},ov=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Lt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},HT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YX=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var og=0;og<HT.length;og++)YX[HT.charCodeAt(og)]=og;var VT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ed=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ag=0;Ag<VT.length;Ag++)ed[VT.charCodeAt(Ag)]=Ag;var XX=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=ed[t.charCodeAt(n)],a=ed[t.charCodeAt(n+1)],o=ed[t.charCodeAt(n+2)],A=ed[t.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},qX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},JX=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},aA=5,H1=11,Aw=2,ZX=H1-aA,CD=65536>>aA,eq=1<<aA,lw=eq-1,tq=1024>>aA,rq=CD+tq,nq=rq,iq=32,sq=nq+iq,aq=65536>>H1,oq=1<<ZX,Aq=oq-1,KT=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},lq=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},cq=function(t,e){var r=XX(t),n=Array.isArray(r)?JX(r):new Uint32Array(r),i=Array.isArray(r)?qX(r):new Uint16Array(r),s=24,a=KT(i,s/2,n[4]/2),o=n[5]===2?KT(i,(s+n[4])/2):lq(n,Math.ceil((s+n[4])/4));return new uq(n[0],n[1],n[2],n[3],a,o)},uq=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>aA],r=(r<<Aw)+(e&lw),this.data[r];if(e<=65535)return r=this.index[CD+(e-55296>>aA)],r=(r<<Aw)+(e&lw),this.data[r];if(e<this.highStart)return r=sq-aq+(e>>H1),r=this.index[r],r+=e>>aA&Aq,r=this.index[r],r=(r<<Aw)+(e&lw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),$T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dq=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lg=0;lg<$T.length;lg++)dq[$T.charCodeAt(lg)]=lg;var fq="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",GT=50,hq=1,ED=2,_D=3,gq=4,mq=5,WT=7,ID=8,zT=9,Ea=10,Nb=11,YT=12,Ub=13,pq=14,td=15,Pb=16,cg=17,Tu=18,vq=19,XT=20,kb=21,Fu=22,cw=23,il=24,mn=25,rd=26,nd=27,sl=28,yq=29,Go=30,wq=31,ug=32,dg=33,Qb=34,Ob=35,jb=36,hf=37,Db=38,wm=39,xm=40,uw=41,SD=42,xq=43,bq=[9001,65288],TD="!",De="×",fg="÷",Rb=cq(fq),ss=[Go,jb],Mb=[hq,ED,_D,mq],FD=[Ea,ID],qT=[nd,rd],Bq=Mb.concat(FD),JT=[Db,wm,xm,Qb,Ob],Cq=[td,Ub],Eq=function(t,e){e===void 0&&(e="strict");var r=[],n=[],i=[];return t.forEach(function(s,a){var o=Rb.get(s);if(o>GT?(i.push(!0),o-=GT):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(Pb);if(o===gq||o===Nb){if(a===0)return n.push(a),r.push(Go);var A=r[a-1];return Bq.indexOf(A)===-1?(n.push(n[a-1]),r.push(A)):(n.push(a),r.push(Go))}if(n.push(a),o===wq)return r.push(e==="strict"?kb:hf);if(o===SD||o===yq)return r.push(Go);if(o===xq)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(hf):r.push(Go);r.push(o)}),[n,r,i]},dw=function(t,e,r,n){var i=n[r];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===e)return!0;if(a!==Ea)break}if(i===Ea)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var A=r;A<=n.length;){A++;var a=n[A];if(a===e)return!0;if(a!==Ea)break}if(o!==Ea)break}return!1},ZT=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Ea)r--;else return n}return 0},_q=function(t,e,r,n,i){if(r[n]===0)return De;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return De;var a=s-1,o=s+1,A=e[s],l=a>=0?e[a]:0,c=e[o];if(A===ED&&c===_D)return De;if(Mb.indexOf(A)!==-1)return TD;if(Mb.indexOf(c)!==-1||FD.indexOf(c)!==-1)return De;if(ZT(s,e)===ID)return fg;if(Rb.get(t[s])===Nb||(A===ug||A===dg)&&Rb.get(t[o])===Nb||A===WT||c===WT||A===zT||[Ea,Ub,td].indexOf(A)===-1&&c===zT||[cg,Tu,vq,il,sl].indexOf(c)!==-1||ZT(s,e)===Fu||dw(cw,Fu,s,e)||dw([cg,Tu],kb,s,e)||dw(YT,YT,s,e))return De;if(A===Ea)return fg;if(A===cw||c===cw)return De;if(c===Pb||A===Pb)return fg;if([Ub,td,kb].indexOf(c)!==-1||A===pq||l===jb&&Cq.indexOf(A)!==-1||A===sl&&c===jb||c===XT||ss.indexOf(c)!==-1&&A===mn||ss.indexOf(A)!==-1&&c===mn||A===nd&&[hf,ug,dg].indexOf(c)!==-1||[hf,ug,dg].indexOf(A)!==-1&&c===rd||ss.indexOf(A)!==-1&&qT.indexOf(c)!==-1||qT.indexOf(A)!==-1&&ss.indexOf(c)!==-1||[nd,rd].indexOf(A)!==-1&&(c===mn||[Fu,td].indexOf(c)!==-1&&e[o+1]===mn)||[Fu,td].indexOf(A)!==-1&&c===mn||A===mn&&[mn,sl,il].indexOf(c)!==-1)return De;if([mn,sl,il,cg,Tu].indexOf(c)!==-1)for(var d=s;d>=0;){var f=e[d];if(f===mn)return De;if([sl,il].indexOf(f)!==-1)d--;else break}if([nd,rd].indexOf(c)!==-1)for(var d=[cg,Tu].indexOf(A)!==-1?a:s;d>=0;){var f=e[d];if(f===mn)return De;if([sl,il].indexOf(f)!==-1)d--;else break}if(Db===A&&[Db,wm,Qb,Ob].indexOf(c)!==-1||[wm,Qb].indexOf(A)!==-1&&[wm,xm].indexOf(c)!==-1||[xm,Ob].indexOf(A)!==-1&&c===xm||JT.indexOf(A)!==-1&&[XT,rd].indexOf(c)!==-1||JT.indexOf(c)!==-1&&A===nd||ss.indexOf(A)!==-1&&ss.indexOf(c)!==-1||A===il&&ss.indexOf(c)!==-1||ss.concat(mn).indexOf(A)!==-1&&c===Fu&&bq.indexOf(t[o])===-1||ss.concat(mn).indexOf(c)!==-1&&A===Tu)return De;if(A===uw&&c===uw){for(var g=r[s],m=1;g>0&&(g--,e[g]===uw);)m++;if(m%2!==0)return De}return A===ug&&c===dg?De:fg},Iq=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Eq(t,e.lineBreak),n=r[0],i=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[mn,Go,SD].indexOf(o)!==-1?hf:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,A){return o&&t[A]>=19968&&t[A]<=40959}):void 0;return[n,i,a]},Sq=function(){function t(e,r,n,i){this.codePoints=e,this.required=r===TD,this.start=n,this.end=i}return t.prototype.slice=function(){return Lt.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Tq=function(t,e){var r=ov(t),n=Iq(r,e),i=n[0],s=n[1],a=n[2],o=r.length,A=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=De;l<o&&(c=_q(r,s,i,++l,a))===De;);if(c!==De||l===o){var d=new Sq(r,c,A,l);return A=l,{value:d,done:!1}}return{done:!0,value:null}}}},Fq=1,Nq=2,Wf=4,eF=8,xp=10,tF=47,Id=92,Uq=9,Pq=32,hg=34,Nu=61,kq=35,Qq=36,Oq=37,gg=39,mg=40,Uu=41,jq=95,nn=45,Dq=33,Rq=60,Mq=62,Lq=64,Hq=91,Vq=93,Kq=61,$q=123,pg=63,Gq=125,rF=124,Wq=126,zq=128,nF=65533,fw=42,Xo=43,Yq=44,Xq=58,qq=59,gf=46,Jq=0,Zq=8,eJ=11,tJ=14,rJ=31,nJ=127,ki=-1,ND=48,UD=97,PD=101,iJ=102,sJ=117,aJ=122,kD=65,QD=69,OD=70,oJ=85,AJ=90,Or=function(t){return t>=ND&&t<=57},lJ=function(t){return t>=55296&&t<=57343},al=function(t){return Or(t)||t>=kD&&t<=OD||t>=UD&&t<=iJ},cJ=function(t){return t>=UD&&t<=aJ},uJ=function(t){return t>=kD&&t<=AJ},dJ=function(t){return cJ(t)||uJ(t)},fJ=function(t){return t>=zq},vg=function(t){return t===xp||t===Uq||t===Pq},bp=function(t){return dJ(t)||fJ(t)||t===jq},iF=function(t){return bp(t)||Or(t)||t===nn},hJ=function(t){return t>=Jq&&t<=Zq||t===eJ||t>=tJ&&t<=rJ||t===nJ},ga=function(t,e){return t!==Id?!1:e!==xp},yg=function(t,e,r){return t===nn?bp(e)||ga(e,r):bp(t)?!0:!!(t===Id&&ga(t,e))},hw=function(t,e,r){return t===Xo||t===nn?Or(e)?!0:e===gf&&Or(r):Or(t===gf?e:t)},gJ=function(t){var e=0,r=1;(t[e]===Xo||t[e]===nn)&&(t[e]===nn&&(r=-1),e++);for(var n=[];Or(t[e]);)n.push(t[e++]);var i=n.length?parseInt(Lt.apply(void 0,n),10):0;t[e]===gf&&e++;for(var s=[];Or(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(Lt.apply(void 0,s),10):0;(t[e]===QD||t[e]===PD)&&e++;var A=1;(t[e]===Xo||t[e]===nn)&&(t[e]===nn&&(A=-1),e++);for(var l=[];Or(t[e]);)l.push(t[e++]);var c=l.length?parseInt(Lt.apply(void 0,l),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,A*c)},mJ={type:2},pJ={type:3},vJ={type:4},yJ={type:13},wJ={type:8},xJ={type:21},bJ={type:9},BJ={type:10},CJ={type:11},EJ={type:12},_J={type:14},wg={type:23},IJ={type:1},SJ={type:25},TJ={type:24},FJ={type:26},NJ={type:27},UJ={type:28},PJ={type:29},kJ={type:31},Lb={type:32},jD=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ov(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Lb;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case hg:return this.consumeStringToken(hg);case kq:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(iF(r)||ga(n,i)){var s=yg(r,n,i)?Nq:Fq,a=this.consumeName();return{type:5,value:a,flags:s}}break;case Qq:if(this.peekCodePoint(0)===Nu)return this.consumeCodePoint(),yJ;break;case gg:return this.consumeStringToken(gg);case mg:return mJ;case Uu:return pJ;case fw:if(this.peekCodePoint(0)===Nu)return this.consumeCodePoint(),_J;break;case Xo:if(hw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Yq:return vJ;case nn:var o=e,A=this.peekCodePoint(0),l=this.peekCodePoint(1);if(hw(o,A,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(yg(o,A,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(A===nn&&l===Mq)return this.consumeCodePoint(),this.consumeCodePoint(),TJ;break;case gf:if(hw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case tF:if(this.peekCodePoint(0)===fw)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===fw&&(c=this.consumeCodePoint(),c===tF))return this.consumeToken();if(c===ki)return this.consumeToken()}break;case Xq:return FJ;case qq:return NJ;case Rq:if(this.peekCodePoint(0)===Dq&&this.peekCodePoint(1)===nn&&this.peekCodePoint(2)===nn)return this.consumeCodePoint(),this.consumeCodePoint(),SJ;break;case Lq:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(yg(d,f,g)){var a=this.consumeName();return{type:7,value:a}}break;case Hq:return UJ;case Id:if(ga(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Vq:return PJ;case Kq:if(this.peekCodePoint(0)===Nu)return this.consumeCodePoint(),wJ;break;case $q:return CJ;case Gq:return EJ;case sJ:case oJ:var m=this.peekCodePoint(0),p=this.peekCodePoint(1);return m===Xo&&(al(p)||p===pg)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case rF:if(this.peekCodePoint(0)===Nu)return this.consumeCodePoint(),bJ;if(this.peekCodePoint(0)===rF)return this.consumeCodePoint(),xJ;break;case Wq:if(this.peekCodePoint(0)===Nu)return this.consumeCodePoint(),BJ;break;case ki:return Lb}return vg(e)?(this.consumeWhiteSpace(),kJ):Or(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):bp(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Lt(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();al(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===pg&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(Lt.apply(void 0,e.map(function(A){return A===pg?ND:A})),16),s=parseInt(Lt.apply(void 0,e.map(function(A){return A===pg?OD:A})),16);return{type:30,start:i,end:s}}var a=parseInt(Lt.apply(void 0,e),16);if(this.peekCodePoint(0)===nn&&al(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];al(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(Lt.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===mg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===mg?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ki)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===gg||r===hg){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ki||this.peekCodePoint(0)===Uu)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),wg)}for(;;){var i=this.consumeCodePoint();if(i===ki||i===Uu)return{type:22,value:Lt.apply(void 0,e)};if(vg(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ki||this.peekCodePoint(0)===Uu?(this.consumeCodePoint(),{type:22,value:Lt.apply(void 0,e)}):(this.consumeBadUrlRemnants(),wg);if(i===hg||i===gg||i===mg||hJ(i))return this.consumeBadUrlRemnants(),wg;if(i===Id)if(ga(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),wg;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;vg(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Uu||e===ki)return;ga(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var i=Math.min(r,e);n+=Lt.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var i=this._value[n];if(i===ki||i===void 0||i===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===xp)return this._value.splice(0,n),IJ;if(i===Id){var s=this._value[n+1];s!==ki&&s!==void 0&&(s===xp?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):ga(i,s)&&(r+=this.consumeStringSlice(n),r+=Lt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Wf,n=this.peekCodePoint(0);for((n===Xo||n===nn)&&e.push(this.consumeCodePoint());Or(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===gf&&Or(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=eF;Or(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===QD||n===PD)&&((i===Xo||i===nn)&&Or(s)||Or(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=eF;Or(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[gJ(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(yg(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===Oq?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(al(e)){for(var r=Lt(e);al(this.peekCodePoint(0))&&r.length<6;)r+=Lt(this.consumeCodePoint());vg(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||lJ(n)||n>1114111?nF:n}return e===ki?nF:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(iF(r))e+=Lt(r);else if(ga(r,this.peekCodePoint(0)))e+=Lt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),DD=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new jD;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||OJ(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Lb:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),zf=function(t){return t.type===15},Hc=function(t){return t.type===17},et=function(t){return t.type===20},QJ=function(t){return t.type===0},Hb=function(t,e){return et(t)&&t.value===e},RD=function(t){return t.type!==31},wc=function(t){return t.type!==31&&t.type!==4},qi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},OJ=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},to=function(t){return t.type===17||t.type===15},Gt=function(t){return t.type===16||to(t)},MD=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Er={type:17,number:0,flags:Wf},V1={type:16,number:50,flags:Wf},_a={type:16,number:100,flags:Wf},id=function(t,e,r){var n=t[0],i=t[1];return[At(n,e),At(typeof i<"u"?i:n,r)]},At=function(t,e){if(t.type===16)return t.number/100*e;if(zf(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},LD="deg",HD="grad",VD="rad",KD="turn",Av={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case LD:return Math.PI*e.number/180;case HD:return Math.PI/200*e.number;case VD:return e.number;case KD:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},$D=function(t){return t.type===15&&(t.unit===LD||t.unit===HD||t.unit===VD||t.unit===KD)},GD=function(t){var e=t.filter(et).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Er,Er];case"to top":case"bottom":return ti(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Er,_a];case"to right":case"left":return ti(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[_a,_a];case"to bottom":case"top":return ti(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[_a,Er];case"to left":case"right":return ti(270)}return 0},ti=function(t){return Math.PI*t/180},Ha={name:"color",parse:function(t,e){if(e.type===18){var r=jJ[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Ia(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Ia(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Ia(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Ia(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=Ts[e.value.toUpperCase()];if(typeof o<"u")return o}return Ts.TRANSPARENT}},Va=function(t){return(255&t)===0},cr=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+n+","+r+","+e/255+")":"rgb("+i+","+n+","+r+")"},Ia=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},sF=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},aF=function(t,e){var r=e.filter(wc);if(r.length===3){var n=r.map(sF),i=n[0],s=n[1],a=n[2];return Ia(i,s,a,1)}if(r.length===4){var o=r.map(sF),i=o[0],s=o[1],a=o[2],A=o[3];return Ia(i,s,a,A)}return 0};function gw(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var oF=function(t,e){var r=e.filter(wc),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?ti(n.number):Av.parse(t,n))/(Math.PI*2),A=Gt(i)?i.number/100:0,l=Gt(s)?s.number/100:0,c=typeof a<"u"&&Gt(a)?At(a,1):1;if(A===0)return Ia(l*255,l*255,l*255,1);var d=l<=.5?l*(A+1):l+A-l*A,f=l*2-d,g=gw(f,d,o+1/3),m=gw(f,d,o),p=gw(f,d,o-1/3);return Ia(g*255,m*255,p*255,c)},jJ={hsl:oF,hsla:oF,rgb:aF,rgba:aF},Sd=function(t,e){return Ha.parse(t,DD.create(e).parseComponentValue())},Ts={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},DJ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(et(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},RJ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lv=function(t,e){var r=Ha.parse(t,e[0]),n=e[1];return n&&Gt(n)?{color:r,stop:n}:{color:r,stop:null}},AF=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Er),n.stop===null&&(n.stop=_a);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var A=At(o,e);A>s?i.push(A):i.push(s),s=A}else i.push(null)}for(var l=null,a=0;a<i.length;a++){var c=i[a];if(c===null)l===null&&(l=a);else if(l!==null){for(var d=a-l,f=i[l-1],g=(c-f)/(d+1),m=1;m<=d;m++)i[l+m-1]=g*m;l=null}}return t.map(function(p,y){var w=p.color;return{color:w,stop:Math.max(Math.min(1,i[y]/e),0)}})},MJ=function(t,e,r){var n=e/2,i=r/2,s=At(t[0],e)-n,a=i-At(t[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},LJ=function(t,e,r){var n=typeof t=="number"?t:MJ(t,e,r),i=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,a=r/2,o=i/2,A=Math.sin(n-Math.PI/2)*o,l=Math.cos(n-Math.PI/2)*o;return[i,s-l,s+l,a-A,a+A]},pi=function(t,e){return Math.sqrt(t*t+e*e)},lF=function(t,e,r,n,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var A=o[0],l=o[1],c=pi(r-A,n-l);return(i?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:o,optimumDistance:c}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},HJ=function(t,e,r,n,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(t.shape===0)s=a=Math.min(pi(e,r),pi(e,r-i),pi(e-n,r),pi(e-n,r-i));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(e),Math.abs(e-n)),A=lF(n,i,e,r,!0),l=A[0],c=A[1];s=pi(l-e,(c-r)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(t.shape===0)s=a=Math.max(pi(e,r),pi(e,r-i),pi(e-n,r),pi(e-n,r-i));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(e),Math.abs(e-n)),d=lF(n,i,e,r,!1),l=d[0],c=d[1];s=pi(l-e,(c-r)/o),a=o*s}break}return Array.isArray(t.size)&&(s=At(t.size[0],n),a=t.size.length===2?At(t.size[1],i):s),[s,a]},VJ=function(t,e){var r=ti(180),n=[];return qi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=GD(i);return}else if($D(a)){r=Av.parse(t,a);return}}var o=lv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},xg=function(t,e){var r=ti(180),n=[];return qi(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=GD(i);return}else if($D(a)){r=(Av.parse(t,a)+ti(270))%ti(360);return}}var o=lv(t,i);n.push(o)}),{angle:r,stops:n,type:1}},KJ=function(t,e){var r=ti(180),n=[],i=1,s=0,a=3,o=[];return qi(e).forEach(function(A,l){var c=A[0];if(l===0){if(et(c)&&c.value==="linear"){i=1;return}else if(et(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var d=Ha.parse(t,c.values[0]);n.push({stop:Er,color:d})}else if(c.name==="to"){var d=Ha.parse(t,c.values[0]);n.push({stop:_a,color:d})}else if(c.name==="color-stop"){var f=c.values.filter(wc);if(f.length===2){var d=Ha.parse(t,f[1]),g=f[0];Hc(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),i===1?{angle:(r+ti(180))%ti(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},WD="closest-side",zD="farthest-side",YD="closest-corner",XD="farthest-corner",qD="circle",JD="ellipse",ZD="cover",eR="contain",$J=function(t,e){var r=0,n=3,i=[],s=[];return qi(e).forEach(function(a,o){var A=!0;if(o===0){var l=!1;A=a.reduce(function(d,f){if(l)if(et(f))switch(f.value){case"center":return s.push(V1),d;case"top":case"left":return s.push(Er),d;case"right":case"bottom":return s.push(_a),d}else(Gt(f)||to(f))&&s.push(f);else if(et(f))switch(f.value){case qD:return r=0,!1;case JD:return r=1,!1;case"at":return l=!0,!1;case WD:return n=0,!1;case ZD:case zD:return n=1,!1;case eR:case YD:return n=2,!1;case XD:return n=3,!1}else if(to(f)||Gt(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},A)}if(A){var c=lv(t,a);i.push(c)}}),{size:n,shape:r,stops:i,position:s,type:2}},bg=function(t,e){var r=0,n=3,i=[],s=[];return qi(e).forEach(function(a,o){var A=!0;if(o===0?A=a.reduce(function(c,d){if(et(d))switch(d.value){case"center":return s.push(V1),!1;case"top":case"left":return s.push(Er),!1;case"right":case"bottom":return s.push(_a),!1}else if(Gt(d)||to(d))return s.push(d),!1;return c},A):o===1&&(A=a.reduce(function(c,d){if(et(d))switch(d.value){case qD:return r=0,!1;case JD:return r=1,!1;case eR:case WD:return n=0,!1;case zD:return n=1,!1;case YD:return n=2,!1;case ZD:case XD:return n=3,!1}else if(to(d)||Gt(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return c},A)),A){var l=lv(t,a);i.push(l)}}),{size:n,shape:r,stops:i,position:s,type:2}},GJ=function(t){return t.type===1},WJ=function(t){return t.type===2},K1={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=tR[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function zJ(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!tR[t.name])}var tR={"linear-gradient":VJ,"-moz-linear-gradient":xg,"-ms-linear-gradient":xg,"-o-linear-gradient":xg,"-webkit-linear-gradient":xg,"radial-gradient":$J,"-moz-radial-gradient":bg,"-ms-radial-gradient":bg,"-o-radial-gradient":bg,"-webkit-radial-gradient":bg,"-webkit-gradient":KJ},YJ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return wc(n)&&zJ(n)}).map(function(n){return K1.parse(t,n)})}},XJ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(et(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qJ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return qi(e).map(function(r){return r.filter(Gt)}).map(MD)}},JJ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return qi(e).map(function(r){return r.filter(et).map(function(n){return n.value}).join(" ")}).map(ZJ)}},ZJ=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zl;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(zl||(zl={}));var eZ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return qi(e).map(function(r){return r.filter(tZ)})}},tZ=function(t){return et(t)||Gt(t)},cv=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},rZ=cv("top"),nZ=cv("right"),iZ=cv("bottom"),sZ=cv("left"),uv=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return MD(r.filter(Gt))}}},aZ=uv("top-left"),oZ=uv("top-right"),AZ=uv("bottom-right"),lZ=uv("bottom-left"),dv=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cZ=dv("top"),uZ=dv("right"),dZ=dv("bottom"),fZ=dv("left"),fv=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return zf(r)?r.number:0}}},hZ=fv("top"),gZ=fv("right"),mZ=fv("bottom"),pZ=fv("left"),vZ={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yZ={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},wZ={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(et).reduce(function(r,n){return r|xZ(n.value)},0)}},xZ=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bZ={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},BZ={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Bp;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Bp||(Bp={}));var CZ={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Bp.STRICT;case"normal":default:return Bp.NORMAL}}},EZ={name:"line-height",initialValue:"normal",prefix:!1,type:4},cF=function(t,e){return et(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Gt(t)?At(t,e):e},_Z={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:K1.parse(t,e)}},IZ={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Vb={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},hv=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},SZ=hv("top"),TZ=hv("right"),FZ=hv("bottom"),NZ=hv("left"),UZ={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(et).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},PZ={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},gv=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},kZ=gv("top"),QZ=gv("right"),OZ=gv("bottom"),jZ=gv("left"),DZ={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},RZ={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},MZ={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Hb(e[0],"none")?[]:qi(e).map(function(r){for(var n={color:Ts.TRANSPARENT,offsetX:Er,offsetY:Er,blur:Er},i=0,s=0;s<r.length;s++){var a=r[s];to(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=Ha.parse(t,a)}return n})}},LZ={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},HZ={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=$Z[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},VZ=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},KZ=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number}),r=e[0],n=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,i,s,a,o]:null},$Z={matrix:VZ,matrix3d:KZ},uF={type:16,number:50,flags:Wf},GZ=[uF,uF],WZ={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Gt);return r.length!==2?GZ:[r[0],r[1]]}},zZ={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Td;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Td||(Td={}));var YZ={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Td.BREAK_ALL;case"keep-all":return Td.KEEP_ALL;case"normal":default:return Td.NORMAL}}},XZ={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Hc(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},rR={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},qZ={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Hc(e)?e.number:1}},JZ={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ZZ={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(et).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},eee={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},tee={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ree={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Hc(e))return e.number;if(et(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},nee={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(et).map(function(r){return r.value})}},iee={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Jt=function(t,e){return(t&e)!==0},see={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},aee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=e.filter(RD),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var A=o&&Hc(o)?o.number:1;n.push({counter:a.value,increment:A})}}return n}},oee={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(RD),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(et(s)&&s.value!=="none"){var o=a&&Hc(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},Aee={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(zf).map(function(r){return rR.parse(t,r)})}},lee={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],i=e.filter(QJ);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},dF=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},cee={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Hb(e[0],"none")?[]:qi(e).map(function(r){for(var n={color:255,offsetX:Er,offsetY:Er,blur:Er,spread:Er,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];Hb(a,"inset")?n.inset=!0:to(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=Ha.parse(t,a)}return n})}},uee={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(et).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},dee={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fee={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return zf(e)?e.number:0}},hee=function(){function t(e,r){var n,i;this.animationDuration=fe(e,Aee,r.animationDuration),this.backgroundClip=fe(e,DJ,r.backgroundClip),this.backgroundColor=fe(e,RJ,r.backgroundColor),this.backgroundImage=fe(e,YJ,r.backgroundImage),this.backgroundOrigin=fe(e,XJ,r.backgroundOrigin),this.backgroundPosition=fe(e,qJ,r.backgroundPosition),this.backgroundRepeat=fe(e,JJ,r.backgroundRepeat),this.backgroundSize=fe(e,eZ,r.backgroundSize),this.borderTopColor=fe(e,rZ,r.borderTopColor),this.borderRightColor=fe(e,nZ,r.borderRightColor),this.borderBottomColor=fe(e,iZ,r.borderBottomColor),this.borderLeftColor=fe(e,sZ,r.borderLeftColor),this.borderTopLeftRadius=fe(e,aZ,r.borderTopLeftRadius),this.borderTopRightRadius=fe(e,oZ,r.borderTopRightRadius),this.borderBottomRightRadius=fe(e,AZ,r.borderBottomRightRadius),this.borderBottomLeftRadius=fe(e,lZ,r.borderBottomLeftRadius),this.borderTopStyle=fe(e,cZ,r.borderTopStyle),this.borderRightStyle=fe(e,uZ,r.borderRightStyle),this.borderBottomStyle=fe(e,dZ,r.borderBottomStyle),this.borderLeftStyle=fe(e,fZ,r.borderLeftStyle),this.borderTopWidth=fe(e,hZ,r.borderTopWidth),this.borderRightWidth=fe(e,gZ,r.borderRightWidth),this.borderBottomWidth=fe(e,mZ,r.borderBottomWidth),this.borderLeftWidth=fe(e,pZ,r.borderLeftWidth),this.boxShadow=fe(e,cee,r.boxShadow),this.color=fe(e,vZ,r.color),this.direction=fe(e,yZ,r.direction),this.display=fe(e,wZ,r.display),this.float=fe(e,bZ,r.cssFloat),this.fontFamily=fe(e,eee,r.fontFamily),this.fontSize=fe(e,tee,r.fontSize),this.fontStyle=fe(e,iee,r.fontStyle),this.fontVariant=fe(e,nee,r.fontVariant),this.fontWeight=fe(e,ree,r.fontWeight),this.letterSpacing=fe(e,BZ,r.letterSpacing),this.lineBreak=fe(e,CZ,r.lineBreak),this.lineHeight=fe(e,EZ,r.lineHeight),this.listStyleImage=fe(e,_Z,r.listStyleImage),this.listStylePosition=fe(e,IZ,r.listStylePosition),this.listStyleType=fe(e,Vb,r.listStyleType),this.marginTop=fe(e,SZ,r.marginTop),this.marginRight=fe(e,TZ,r.marginRight),this.marginBottom=fe(e,FZ,r.marginBottom),this.marginLeft=fe(e,NZ,r.marginLeft),this.opacity=fe(e,qZ,r.opacity);var s=fe(e,UZ,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=fe(e,PZ,r.overflowWrap),this.paddingTop=fe(e,kZ,r.paddingTop),this.paddingRight=fe(e,QZ,r.paddingRight),this.paddingBottom=fe(e,OZ,r.paddingBottom),this.paddingLeft=fe(e,jZ,r.paddingLeft),this.paintOrder=fe(e,uee,r.paintOrder),this.position=fe(e,RZ,r.position),this.textAlign=fe(e,DZ,r.textAlign),this.textDecorationColor=fe(e,JZ,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=fe(e,ZZ,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=fe(e,MZ,r.textShadow),this.textTransform=fe(e,LZ,r.textTransform),this.transform=fe(e,HZ,r.transform),this.transformOrigin=fe(e,WZ,r.transformOrigin),this.visibility=fe(e,zZ,r.visibility),this.webkitTextStrokeColor=fe(e,dee,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=fe(e,fee,r.webkitTextStrokeWidth),this.wordBreak=fe(e,YZ,r.wordBreak),this.zIndex=fe(e,XZ,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Va(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Jt(this.display,4)||Jt(this.display,33554432)||Jt(this.display,268435456)||Jt(this.display,536870912)||Jt(this.display,67108864)||Jt(this.display,134217728)},t}(),gee=function(){function t(e,r){this.content=fe(e,see,r.content),this.quotes=fe(e,lee,r.quotes)}return t}(),fF=function(){function t(e,r){this.counterIncrement=fe(e,aee,r.counterIncrement),this.counterReset=fe(e,oee,r.counterReset)}return t}(),fe=function(t,e,r){var n=new jD,i=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(i);var s=new DD(n.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,et(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Av.parse(t,s.parseComponentValue());case"color":return Ha.parse(t,s.parseComponentValue());case"image":return K1.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return to(o)?o:Er;case"length-percentage":var A=s.parseComponentValue();return Gt(A)?A:Er;case"time":return rR.parse(t,s.parseComponentValue())}break}},mee="data-html2canvas-debug",pee=function(t){var e=t.getAttribute(mee);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Kb=function(t,e){var r=pee(t);return r===1||e===r},Ji=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Kb(r,3))debugger;this.styles=new hee(e,window.getComputedStyle(r,null)),Wb(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=av(this.context,r),Kb(r,4)&&(this.flags|=16)}return t}(),vee="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",hF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Bg=0;Bg<hF.length;Bg++)sd[hF.charCodeAt(Bg)]=Bg;var yee=function(t){var e=t.length*.75,r=t.length,n,i=0,s,a,o,A;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)s=sd[t.charCodeAt(n)],a=sd[t.charCodeAt(n+1)],o=sd[t.charCodeAt(n+2)],A=sd[t.charCodeAt(n+3)],c[i++]=s<<2|a>>4,c[i++]=(a&15)<<4|o>>2,c[i++]=(o&3)<<6|A&63;return l},wee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},xee=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},oA=5,$1=11,mw=2,bee=$1-oA,nR=65536>>oA,Bee=1<<oA,pw=Bee-1,Cee=1024>>oA,Eee=nR+Cee,_ee=Eee,Iee=32,See=_ee+Iee,Tee=65536>>$1,Fee=1<<bee,Nee=Fee-1,gF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Uee=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Pee=function(t,e){var r=yee(t),n=Array.isArray(r)?xee(r):new Uint32Array(r),i=Array.isArray(r)?wee(r):new Uint16Array(r),s=24,a=gF(i,s/2,n[4]/2),o=n[5]===2?gF(i,(s+n[4])/2):Uee(n,Math.ceil((s+n[4])/4));return new kee(n[0],n[1],n[2],n[3],a,o)},kee=function(){function t(e,r,n,i,s,a){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>oA],r=(r<<mw)+(e&pw),this.data[r];if(e<=65535)return r=this.index[nR+(e-55296>>oA)],r=(r<<mw)+(e&pw),this.data[r];if(e<this.highStart)return r=See-Tee+(e>>$1),r=this.index[r],r+=e>>oA&Nee,r=this.index[r],r=(r<<mw)+(e&pw),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),mF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cg=0;Cg<mF.length;Cg++)Qee[mF.charCodeAt(Cg)]=Cg;var Oee=1,vw=2,yw=3,pF=4,vF=5,jee=7,yF=8,ww=9,xw=10,wF=11,xF=12,bF=13,BF=14,bw=15,Dee=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),r--)}else e.push(i)}return e},Ree=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=t[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Mee=Pee(vee),Kn="×",Bw="÷",Lee=function(t){return Mee.get(t)},Hee=function(t,e,r){var n=r-2,i=e[n],s=e[r-1],a=e[r];if(s===vw&&a===yw)return Kn;if(s===vw||s===yw||s===pF||a===vw||a===yw||a===pF)return Bw;if(s===yF&&[yF,ww,wF,xF].indexOf(a)!==-1||(s===wF||s===ww)&&(a===ww||a===xw)||(s===xF||s===xw)&&a===xw||a===bF||a===vF||a===jee||s===Oee)return Kn;if(s===bF&&a===BF){for(;i===vF;)i=e[--n];if(i===BF)return Kn}if(s===bw&&a===bw){for(var o=0;i===bw;)o++,i=e[--n];if(o%2===0)return Kn}return Bw},Vee=function(t){var e=Dee(t),r=e.length,n=0,i=0,s=e.map(Lee);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=Kn;n<r&&(a=Hee(e,s,++n))===Kn;);if(a!==Kn||n===r){var o=Ree.apply(null,e.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},Kee=function(t){for(var e=Vee(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},$ee=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(n),s===e)return!0}}return!1},Gee=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,i=ov(n.data).map(function(A){return Lt(A)}),s=0,a={},o=i.every(function(A,l){r.setStart(n,s),r.setEnd(n,s+A.length);var c=r.getBoundingClientRect();s+=A.length;var d=c.x>a.x||c.y>a.y;return a=c,l===0?!0:d});return t.body.removeChild(e),o},Wee=function(){return typeof new Image().crossOrigin<"u"},zee=function(){return typeof new XMLHttpRequest().responseType=="string"},Yee=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},CF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},Xee=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=e.toDataURL();i.src=s;var a=$b(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),EF(a).then(function(o){n.drawImage(o,0,0);var A=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var l=t.createElement("div");return l.style.backgroundImage="url("+s+")",l.style.height=r+"px",CF(A)?EF($b(r,r,0,0,l)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),CF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},$b=function(t,e,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},EF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},xr={get SUPPORT_RANGE_BOUNDS(){var t=$ee(document);return Object.defineProperty(xr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=xr.SUPPORT_RANGE_BOUNDS&&Gee(document);return Object.defineProperty(xr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Yee(document);return Object.defineProperty(xr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?Xee(document):Promise.resolve(!1);return Object.defineProperty(xr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Wee();return Object.defineProperty(xr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=zee();return Object.defineProperty(xr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(xr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(xr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Fd=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),qee=function(t,e,r,n){var i=ete(e,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(xr.SUPPORT_RANGE_BOUNDS){var A=_F(n,a,o.length).getClientRects();if(A.length>1){var l=G1(o),c=0;l.forEach(function(f){s.push(new Fd(f,Rs.fromDOMRectList(t,_F(n,c+a,f.length).getClientRects()))),c+=f.length})}else s.push(new Fd(o,Rs.fromDOMRectList(t,A)))}else{var d=n.splitText(o.length);s.push(new Fd(o,Jee(t,n))),n=d}else xr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},Jee=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var s=av(t,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Rs.EMPTY},_F=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(t,e),i.setEnd(t,e+r),i},G1=function(t){if(xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return Kee(t)},Zee=function(t,e){if(xr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return rte(t,e)},ete=function(t,e){return e.letterSpacing!==0?G1(t):Zee(t,e)},tte=[32,160,4961,65792,65793,4153,4241],rte=function(t,e){for(var r=Tq(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=ov(a),A="";o.forEach(function(l){tte.indexOf(l)===-1?A+=Lt(l):(A.length&&n.push(A),n.push(Lt(l)),A="")}),A.length&&n.push(A)}};!(i=r.next()).done;)s();return n},nte=function(){function t(e,r,n){this.text=ite(r.data,n.textTransform),this.textBounds=qee(e,this.text,n,r)}return t}(),ite=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(ste,ate);case 2:return t.toUpperCase();default:return t}},ste=/(^|\s|:|-|\(|\))([a-z])/g,ate=function(t,e,r){return t.length>0?e+r.toUpperCase():t},iR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return e}(Ji),sR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return e}(Ji),aR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=new XMLSerializer,a=av(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(Ji),oR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Ji),Gb=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return e}(Ji),ote=[{type:15,flags:0,unit:"px",number:3}],Ate=[{type:16,flags:0,number:50}],lte=function(t){return t.width>t.height?new Rs(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Rs(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},cte=function(t){var e=t.type===ute?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Cp="checkbox",Ep="radio",ute="password",IF=707406591,W1=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=cte(n),(i.type===Cp||i.type===Ep)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=lte(i.bounds)),i.type){case Cp:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=ote;break;case Ep:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Ate;break}return i}return e}(Ji),AR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(Ji),lR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.value=n.value,i}return e}(Ji),cR=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=dR(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Sd(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ts.TRANSPARENT,a=n.contentWindow.document.body?Sd(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ts.TRANSPARENT;i.backgroundColor=Va(s)?Va(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(Ji),dte=["OL","UL","MENU"],bm=function(t,e,r,n){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,fR(i)&&i.data.trim().length>0)r.textNodes.push(new nte(t,i,r.styles));else if(Pl(i))if(pR(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return bm(t,o,r,n)});else{var a=uR(t,i);a.styles.isVisible()&&(fte(i,a,n)?a.flags|=4:hte(a.styles)&&(a.flags|=2),dte.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?bm(t,i.shadowRoot,a,n):!_p(i)&&!hR(i)&&!Ip(i)&&bm(t,i,a,n))}},uR=function(t,e){return zb(e)?new iR(t,e):gR(e)?new sR(t,e):hR(e)?new aR(t,e):gte(e)?new oR(t,e):mte(e)?new Gb(t,e):pte(e)?new W1(t,e):Ip(e)?new AR(t,e):_p(e)?new lR(t,e):mR(e)?new cR(t,e):new Ji(t,e)},dR=function(t,e){var r=uR(t,e);return r.flags|=4,bm(t,e,r,r),r},fte=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||z1(t)&&r.styles.isTransparent()},hte=function(t){return t.isPositioned()||t.isFloating()},fR=function(t){return t.nodeType===Node.TEXT_NODE},Pl=function(t){return t.nodeType===Node.ELEMENT_NODE},Wb=function(t){return Pl(t)&&typeof t.style<"u"&&!Bm(t)},Bm=function(t){return typeof t.className=="object"},gte=function(t){return t.tagName==="LI"},mte=function(t){return t.tagName==="OL"},pte=function(t){return t.tagName==="INPUT"},vte=function(t){return t.tagName==="HTML"},hR=function(t){return t.tagName==="svg"},z1=function(t){return t.tagName==="BODY"},gR=function(t){return t.tagName==="CANVAS"},SF=function(t){return t.tagName==="VIDEO"},zb=function(t){return t.tagName==="IMG"},mR=function(t){return t.tagName==="IFRAME"},TF=function(t){return t.tagName==="STYLE"},yte=function(t){return t.tagName==="SCRIPT"},_p=function(t){return t.tagName==="TEXTAREA"},Ip=function(t){return t.tagName==="SELECT"},pR=function(t){return t.tagName==="SLOT"},FF=function(t){return t.tagName.indexOf("-")>0},wte=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,i=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var A=r.counters[o.counter];A&&o.increment!==0&&(s=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var A=r.counters[o.counter];a.push(o.counter),A||(A=r.counters[o.counter]=[]),A.push(o.reset)}),a},t}(),NF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},UF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},xte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},bte={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ol=function(t,e,r,n,i,s){return t<e||t>r?mf(t,i,s.length>0):n.integers.reduce(function(a,o,A){for(;t>=o;)t-=o,a+=n.values[A];return a},"")+s},vR=function(t,e,r,n){var i="";do r||t--,i=n(t)+i,t/=e;while(t*e>=e);return i},Mt=function(t,e,r,n,i){var s=r-e+1;return(t<0?"-":"")+(vR(Math.abs(t),s,n,function(a){return Lt(Math.floor(a%s)+e)})+i)},Uo=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return vR(Math.abs(t),n,!1,function(i){return e[Math.floor(i%n)]})+r},ml=1,ua=2,da=4,ad=8,as=function(t,e,r,n,i,s){if(t<-9999||t>9999)return mf(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var A=0;a>0&&A<=4;A++){var l=a%10;l===0&&Jt(s,ml)&&o!==""?o=e[l]+o:l>1||l===1&&A===0||l===1&&A===1&&Jt(s,ua)||l===1&&A===1&&Jt(s,da)&&t>100||l===1&&A>1&&Jt(s,ad)?o=e[l]+(A>0?r[A-1]:"")+o:l===1&&A>0&&(o=r[A-1]+o),a=Math.floor(a/10)}return(t<0?n:"")+o},PF="十百千萬",kF="拾佰仟萬",QF="マイナス",Cw="마이너스",mf=function(t,e,r){var n=r?". ":"",i=r?"、":"",s=r?", ":"",a=r?" ":"";switch(e){case 0:return"•"+a;case 1:return"◦"+a;case 2:return"◾"+a;case 5:var o=Mt(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Uo(t,"〇一二三四五六七八九",i);case 6:return ol(t,1,3999,NF,3,n).toLowerCase();case 7:return ol(t,1,3999,NF,3,n);case 8:return Mt(t,945,969,!1,n);case 9:return Mt(t,97,122,!1,n);case 10:return Mt(t,65,90,!1,n);case 11:return Mt(t,1632,1641,!0,n);case 12:case 49:return ol(t,1,9999,UF,3,n);case 35:return ol(t,1,9999,UF,3,n).toLowerCase();case 13:return Mt(t,2534,2543,!0,n);case 14:case 30:return Mt(t,6112,6121,!0,n);case 15:return Uo(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Uo(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return as(t,"零一二三四五六七八九",PF,"負",i,ua|da|ad);case 47:return as(t,"零壹貳參肆伍陸柒捌玖",kF,"負",i,ml|ua|da|ad);case 42:return as(t,"零一二三四五六七八九",PF,"负",i,ua|da|ad);case 41:return as(t,"零壹贰叁肆伍陆柒捌玖",kF,"负",i,ml|ua|da|ad);case 26:return as(t,"〇一二三四五六七八九","十百千万",QF,i,0);case 25:return as(t,"零壱弐参四伍六七八九","拾百千万",QF,i,ml|ua|da);case 31:return as(t,"영일이삼사오육칠팔구","십백천만",Cw,s,ml|ua|da);case 33:return as(t,"零一二三四五六七八九","十百千萬",Cw,s,0);case 32:return as(t,"零壹貳參四五六七八九","拾百千",Cw,s,ml|ua|da);case 18:return Mt(t,2406,2415,!0,n);case 20:return ol(t,1,19999,bte,3,n);case 21:return Mt(t,2790,2799,!0,n);case 22:return Mt(t,2662,2671,!0,n);case 22:return ol(t,1,10999,xte,3,n);case 23:return Uo(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Uo(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Mt(t,3302,3311,!0,n);case 28:return Uo(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Uo(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Mt(t,3792,3801,!0,n);case 37:return Mt(t,6160,6169,!0,n);case 38:return Mt(t,4160,4169,!0,n);case 39:return Mt(t,2918,2927,!0,n);case 40:return Mt(t,1776,1785,!0,n);case 43:return Mt(t,3046,3055,!0,n);case 44:return Mt(t,3174,3183,!0,n);case 45:return Mt(t,3664,3673,!0,n);case 46:return Mt(t,3872,3881,!0,n);case 3:default:return Mt(t,48,57,!0,n)}},yR="data-html2canvas-ignore",OF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new wte,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,i=Bte(e,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,A=o.document,l=_te(i).then(function(){return Hr(n,void 0,void 0,function(){var c,d;return kr(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(Fte),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),c=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Ete(A)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(A,d)}).then(function(){return i})]:[2,i]}})})});return A.open(),A.write(Ste(document.doctype)+"<html></html>"),Tte(this.referenceElement.ownerDocument,s,a),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),l},t.prototype.createElementClone=function(e){if(Kb(e,2))debugger;if(gR(e))return this.createCanvasClone(e);if(SF(e))return this.createVideoClone(e);if(TF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return zb(r)&&(zb(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),FF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Ew(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var A=o.getContextAttributes();(A==null?void 0:A.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,r,n){(!Pl(r)||!yte(r)&&!r.hasAttribute(yR)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Pl(r)||!TF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Pl(s)&&pR(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(fR(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Pl(e)&&(Wb(e)||Bm(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Wb(i)&&(this.clonedReferenceElement=i),z1(i)&&Pte(i);var A=this.counters.parse(new fF(this.context,s)),l=this.resolvePseudoContent(e,i,a,Nd.BEFORE);FF(e)&&(r=!0),SF(e)||this.cloneChildNodes(e,i,r),l&&i.insertBefore(l,i.firstChild);var c=this.resolvePseudoContent(e,i,o,Nd.AFTER);return c&&i.appendChild(c),this.counters.pop(A),(s&&(this.options.copyStyles||Bm(e))&&!mR(e)||r)&&Ew(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(_p(e)||Ip(e))&&(_p(i)||Ip(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new fF(this.context,n));var A=new gee(this.context,n),l=o.createElement("html2canvaspseudoelement");Ew(n,l),A.content.forEach(function(d){if(d.type===0)l.appendChild(o.createTextNode(d.value));else if(d.type===22){var f=o.createElement("img");f.src=d.value,f.style.opacity="1",l.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(et);g.length&&l.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var m=d.values.filter(wc),p=m[0],y=m[1];if(p&&et(p)){var w=s.counters.getCounterValue(p.value),v=y&&et(y)?Vb.parse(s.context,y.value):3;l.appendChild(o.createTextNode(mf(w,v,!1)))}}else if(d.name==="counters"){var x=d.values.filter(wc),p=x[0],S=x[1],y=x[2];if(p&&et(p)){var T=s.counters.getCounterValues(p.value),I=y&&et(y)?Vb.parse(s.context,y.value):3,C=S&&S.type===0?S.value:"",E=T.map(function(k){return mf(k,I,!1)}).join(C);l.appendChild(o.createTextNode(E))}}}else if(d.type===20)switch(d.value){case"open-quote":l.appendChild(o.createTextNode(dF(A.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(dF(A.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(d.value))}}),l.className=Yb+" "+Xb;var c=i===Nd.BEFORE?" "+Yb:" "+Xb;return Bm(r)?r.className.baseValue+=c:r.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Nd;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Nd||(Nd={}));var Bte=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(yR,"true"),t.body.appendChild(r),r},Cte=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Ete=function(t){return Promise.all([].slice.call(t.images,0).map(Cte))},_te=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},Ite=["all","d","content"],Ew=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);Ite.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Ste=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Tte=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Fte=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},Nte=":before",Ute=":after",Yb="___html2canvas___pseudoelement_before",Xb="___html2canvas___pseudoelement_after",jF=`{
    content: "" !important;
    display: none !important;
}`,Pte=function(t){kte(t,"."+Yb+Nte+jF+`
         .`+Xb+Ute+jF)},kte=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},wR=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Qte=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Iw(e)||Rte(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Hr(this,void 0,void 0,function(){var r,n,i,s,a=this;return kr(this,function(o){switch(o.label){case 0:return r=wR.isSameOrigin(e),n=!_w(e)&&this._options.useCORS===!0&&xr.SUPPORT_CORS_IMAGES&&!r,i=!_w(e)&&!r&&!Iw(e)&&typeof this._options.proxy=="string"&&xr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!_w(e)&&!Iw(e)&&!i&&!n?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(A,l){var c=new Image;c.onload=function(){return A(c)},c.onerror=l,(Mte(s)||n)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return A(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=xr.SUPPORT_RESPONSE_TYPE?"blob":"text",A=new XMLHttpRequest;A.onload=function(){if(A.status===200)if(o==="text")s(A.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(A.response)}else a("Failed to proxy resource "+i+" with status code "+A.status)},A.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(A.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&A instanceof XMLHttpRequest&&(A.responseType=o),r._options.imageTimeout){var c=r._options.imageTimeout;A.timeout=c,A.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+i)}}A.send()})},t}(),Ote=/^data:image\/svg\+xml/i,jte=/^data:image\/.*;base64,/i,Dte=/^data:image\/.*/i,Rte=function(t){return xr.SUPPORT_SVG_DRAWING||!Lte(t)},_w=function(t){return Dte.test(t)},Mte=function(t){return jte.test(t)},Iw=function(t){return t.substr(0,4)==="blob"},Lte=function(t){return t.substr(-3).toLowerCase()==="svg"||Ote.test(t)},ue=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),Al=function(t,e,r){return new ue(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Eg=function(){function t(e,r,n,i){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,r){var n=Al(this.start,this.startControl,e),i=Al(this.startControl,this.endControl,e),s=Al(this.endControl,this.end,e),a=Al(n,i,e),o=Al(i,s,e),A=Al(a,o,e);return r?new t(this.start,n,a,A):new t(A,o,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),zn=function(t){return t.type===1},Hte=function(){function t(e){var r=e.styles,n=e.bounds,i=id(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=id(r.borderTopRightRadius,n.width,n.height),A=o[0],l=o[1],c=id(r.borderBottomRightRadius,n.width,n.height),d=c[0],f=c[1],g=id(r.borderBottomLeftRadius,n.width,n.height),m=g[0],p=g[1],y=[];y.push((s+A)/n.width),y.push((m+d)/n.width),y.push((a+p)/n.height),y.push((l+f)/n.height);var w=Math.max.apply(Math,y);w>1&&(s/=w,a/=w,A/=w,l/=w,d/=w,f/=w,m/=w,p/=w);var v=n.width-A,x=n.height-f,S=n.width-d,T=n.height-p,I=r.borderTopWidth,C=r.borderRightWidth,E=r.borderBottomWidth,F=r.borderLeftWidth,N=At(r.paddingTop,e.bounds.width),k=At(r.paddingRight,e.bounds.width),Q=At(r.paddingBottom,e.bounds.width),P=At(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?gt(n.left+F/3,n.top+I/3,s-F/3,a-I/3,Ye.TOP_LEFT):new ue(n.left+F/3,n.top+I/3),this.topRightBorderDoubleOuterBox=s>0||a>0?gt(n.left+v,n.top+I/3,A-C/3,l-I/3,Ye.TOP_RIGHT):new ue(n.left+n.width-C/3,n.top+I/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?gt(n.left+S,n.top+x,d-C/3,f-E/3,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=m>0||p>0?gt(n.left+F/3,n.top+T,m-F/3,p-E/3,Ye.BOTTOM_LEFT):new ue(n.left+F/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?gt(n.left+F*2/3,n.top+I*2/3,s-F*2/3,a-I*2/3,Ye.TOP_LEFT):new ue(n.left+F*2/3,n.top+I*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?gt(n.left+v,n.top+I*2/3,A-C*2/3,l-I*2/3,Ye.TOP_RIGHT):new ue(n.left+n.width-C*2/3,n.top+I*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?gt(n.left+S,n.top+x,d-C*2/3,f-E*2/3,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||p>0?gt(n.left+F*2/3,n.top+T,m-F*2/3,p-E*2/3,Ye.BOTTOM_LEFT):new ue(n.left+F*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=s>0||a>0?gt(n.left+F/2,n.top+I/2,s-F/2,a-I/2,Ye.TOP_LEFT):new ue(n.left+F/2,n.top+I/2),this.topRightBorderStroke=s>0||a>0?gt(n.left+v,n.top+I/2,A-C/2,l-I/2,Ye.TOP_RIGHT):new ue(n.left+n.width-C/2,n.top+I/2),this.bottomRightBorderStroke=d>0||f>0?gt(n.left+S,n.top+x,d-C/2,f-E/2,Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=m>0||p>0?gt(n.left+F/2,n.top+T,m-F/2,p-E/2,Ye.BOTTOM_LEFT):new ue(n.left+F/2,n.top+n.height-E/2),this.topLeftBorderBox=s>0||a>0?gt(n.left,n.top,s,a,Ye.TOP_LEFT):new ue(n.left,n.top),this.topRightBorderBox=A>0||l>0?gt(n.left+v,n.top,A,l,Ye.TOP_RIGHT):new ue(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||f>0?gt(n.left+S,n.top+x,d,f,Ye.BOTTOM_RIGHT):new ue(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||p>0?gt(n.left,n.top+T,m,p,Ye.BOTTOM_LEFT):new ue(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?gt(n.left+F,n.top+I,Math.max(0,s-F),Math.max(0,a-I),Ye.TOP_LEFT):new ue(n.left+F,n.top+I),this.topRightPaddingBox=A>0||l>0?gt(n.left+Math.min(v,n.width-C),n.top+I,v>n.width+C?0:Math.max(0,A-C),Math.max(0,l-I),Ye.TOP_RIGHT):new ue(n.left+n.width-C,n.top+I),this.bottomRightPaddingBox=d>0||f>0?gt(n.left+Math.min(S,n.width-F),n.top+Math.min(x,n.height-E),Math.max(0,d-C),Math.max(0,f-E),Ye.BOTTOM_RIGHT):new ue(n.left+n.width-C,n.top+n.height-E),this.bottomLeftPaddingBox=m>0||p>0?gt(n.left+F,n.top+Math.min(T,n.height-E),Math.max(0,m-F),Math.max(0,p-E),Ye.BOTTOM_LEFT):new ue(n.left+F,n.top+n.height-E),this.topLeftContentBox=s>0||a>0?gt(n.left+F+P,n.top+I+N,Math.max(0,s-(F+P)),Math.max(0,a-(I+N)),Ye.TOP_LEFT):new ue(n.left+F+P,n.top+I+N),this.topRightContentBox=A>0||l>0?gt(n.left+Math.min(v,n.width+F+P),n.top+I+N,v>n.width+F+P?0:A-F+P,l-(I+N),Ye.TOP_RIGHT):new ue(n.left+n.width-(C+k),n.top+I+N),this.bottomRightContentBox=d>0||f>0?gt(n.left+Math.min(S,n.width-(F+P)),n.top+Math.min(x,n.height+I+N),Math.max(0,d-(C+k)),f-(E+Q),Ye.BOTTOM_RIGHT):new ue(n.left+n.width-(C+k),n.top+n.height-(E+Q)),this.bottomLeftContentBox=m>0||p>0?gt(n.left+F+P,n.top+T,Math.max(0,m-(F+P)),p-(E+Q),Ye.BOTTOM_LEFT):new ue(n.left+F+P,n.top+n.height-(E+Q))}return t}(),Ye;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ye||(Ye={}));var gt=function(t,e,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,A=t+r,l=e+n;switch(i){case Ye.TOP_LEFT:return new Eg(new ue(t,l),new ue(t,l-o),new ue(A-a,e),new ue(A,e));case Ye.TOP_RIGHT:return new Eg(new ue(t,e),new ue(t+a,e),new ue(A,l-o),new ue(A,l));case Ye.BOTTOM_RIGHT:return new Eg(new ue(A,e),new ue(A,e+o),new ue(t+a,l),new ue(t,l));case Ye.BOTTOM_LEFT:default:return new Eg(new ue(A,l),new ue(A-a,l),new ue(t,e+o),new ue(t,e))}},Sp=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Vte=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Tp=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},Kte=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),_g=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),$te=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),Gte=function(t){return t.type===0},xR=function(t){return t.type===1},Wte=function(t){return t.type===2},DF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},zte=function(t,e,r,n,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+i);case 3:return s.add(e,r+i)}return s})},bR=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),BR=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Hte(this.container),this.container.styles.opacity<1&&this.effects.push(new $te(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Kte(n,i,s))}if(this.container.styles.overflowX!==0){var a=Sp(this.curves),o=Tp(this.curves);DF(a,o)?this.effects.push(new _g(a,6)):(this.effects.push(new _g(a,2)),this.effects.push(new _g(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(A){return!xR(A)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=Sp(n.curves),o=Tp(n.curves);DF(a,o)||i.unshift(new _g(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(A){return Jt(A.target,e)})},t}(),qb=function(t,e,r,n){t.container.elements.forEach(function(i){var s=Jt(i.flags,4),a=Jt(i.flags,2),o=new BR(i,t);Jt(i.styles.display,2048)&&n.push(o);var A=Jt(i.flags,8)?[]:n;if(s||a){var l=s||i.styles.isPositioned()?r:e,c=new bR(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(m,p){return d>m.element.container.styles.zIndex.order?(f=p,!1):f>0}),l.negativeZIndex.splice(f,0,c)}else if(d>0){var g=0;l.positiveZIndex.some(function(m,p){return d>=m.element.container.styles.zIndex.order?(g=p+1,!1):g>0}),l.positiveZIndex.splice(g,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);qb(o,c,s?c:r,A)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),qb(o,e,r,A);Jt(i.flags,8)&&CR(i,A)})},CR=function(t,e){for(var r=t instanceof Gb?t.start:1,n=t instanceof Gb?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof oR&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=mf(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},Yte=function(t){var e=new BR(t,null),r=new bR(e),n=[];return qb(e,r,r,n),CR(e.container,n),r},RF=function(t,e){switch(e){case 0:return ri(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return ri(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return ri(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return ri(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Xte=function(t,e){switch(e){case 0:return ri(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return ri(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return ri(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return ri(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},qte=function(t,e){switch(e){case 0:return ri(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return ri(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return ri(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return ri(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Jte=function(t,e){switch(e){case 0:return Ig(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ig(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ig(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ig(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Ig=function(t,e){var r=[];return zn(t)?r.push(t.subdivide(.5,!1)):r.push(t),zn(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},ri=function(t,e,r,n){var i=[];return zn(t)?i.push(t.subdivide(.5,!1)):i.push(t),zn(r)?i.push(r.subdivide(.5,!0)):i.push(r),zn(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),zn(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},ER=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Fp=function(t){var e=t.styles,r=t.bounds,n=At(e.paddingLeft,r.width),i=At(e.paddingRight,r.width),s=At(e.paddingTop,r.width),a=At(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},Zte=function(t,e){return t===0?e.bounds:t===2?Fp(e):ER(e)},ere=function(t,e){return t===0?e.bounds:t===2?Fp(e):ER(e)},Sw=function(t,e,r){var n=Zte(pl(t.styles.backgroundOrigin,e),t),i=ere(pl(t.styles.backgroundClip,e),t),s=tre(pl(t.styles.backgroundSize,e),r,n),a=s[0],o=s[1],A=id(pl(t.styles.backgroundPosition,e),n.width-a,n.height-o),l=rre(pl(t.styles.backgroundRepeat,e),A,s,n,i),c=Math.round(n.left+A[0]),d=Math.round(n.top+A[1]);return[l,c,d,a,o]},ll=function(t){return et(t)&&t.value===zl.AUTO},Sg=function(t){return typeof t=="number"},tre=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Gt(a)&&o&&Gt(o))return[At(a,r.width),At(o,r.height)];var A=Sg(s);if(et(a)&&(a.value===zl.CONTAIN||a.value===zl.COVER)){if(Sg(s)){var l=r.width/r.height;return l<s!=(a.value===zl.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var c=Sg(n),d=Sg(i),f=c||d;if(ll(a)&&(!o||ll(o))){if(c&&d)return[n,i];if(!A&&!f)return[r.width,r.height];if(f&&A){var g=c?n:i*s,m=d?i:n/s;return[g,m]}var p=c?n:r.width,y=d?i:r.height;return[p,y]}if(A){var w=0,v=0;return Gt(a)?w=At(a,r.width):Gt(o)&&(v=At(o,r.height)),ll(a)?w=v*s:(!o||ll(o))&&(v=w/s),[w,v]}var x=null,S=null;if(Gt(a)?x=At(a,r.width):o&&Gt(o)&&(S=At(o,r.height)),x!==null&&(!o||ll(o))&&(S=c&&d?x/n*i:r.height),S!==null&&ll(a)&&(x=c&&d?S/i*n:r.width),x!==null&&S!==null)return[x,S];throw new Error("Unable to calculate background-size for element")},pl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},rre=function(t,e,r,n,i){var s=e[0],a=e[1],o=r[0],A=r[1];switch(t){case 2:return[new ue(Math.round(n.left),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(n.top+a)),new ue(Math.round(n.left+n.width),Math.round(A+n.top+a)),new ue(Math.round(n.left),Math.round(A+n.top+a))];case 3:return[new ue(Math.round(n.left+s),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.top)),new ue(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ue(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ue(Math.round(n.left+s),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a)),new ue(Math.round(n.left+s+o),Math.round(n.top+a+A)),new ue(Math.round(n.left+s),Math.round(n.top+a+A))];default:return[new ue(Math.round(i.left),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.top)),new ue(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ue(Math.round(i.left),Math.round(i.height+i.top))]}},nre="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",MF="Hidden Text",ire=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=nre,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(MF)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(MF)),n.style.lineHeight="normal",i.style.verticalAlign="super";var A=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:A}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),_R=function(){function t(e,r){this.context=e,this.options=r}return t}(),sre=1e4,are=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new ire(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},e.prototype.applyEffect=function(r){this.ctx.save(),Wte(r)&&(this.ctx.globalAlpha=r.opacity),Gte(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),xR(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Hr(this,void 0,void 0,function(){var n;return kr(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Hr(this,void 0,void 0,function(){return kr(this,function(n){switch(n.label){case 0:if(Jt(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=G1(r.text);a.reduce(function(o,A){return s.ctx.fillText(A,o,r.bounds.top+i),o+s.ctx.measureText(A).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=ure(r.fontFamily).join(", "),s=zf(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(r,n){return Hr(this,void 0,void 0,function(){var i,s,a,o,A,l,c,d,f=this;return kr(this,function(g){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",A=this.fontMetrics.getMetrics(a,o),l=A.baseline,c=A.middle,d=n.paintOrder,r.textBounds.forEach(function(m){d.forEach(function(p){switch(p){case 0:f.ctx.fillStyle=cr(n.color),f.renderTextWithLetterSpacing(m,n.letterSpacing,l);var y=n.textShadow;y.length&&m.text.trim().length&&(y.slice(0).reverse().forEach(function(w){f.ctx.shadowColor=cr(w.color),f.ctx.shadowOffsetX=w.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=w.offsetY.number*f.options.scale,f.ctx.shadowBlur=w.blur.number,f.renderTextWithLetterSpacing(m,n.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=cr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+l),m.bounds.width,1);break;case 2:f.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:f.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+c),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(f.ctx.strokeStyle=cr(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=Fp(r),a=Tp(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A,v,v,l,c,d,f,S,g,m,T,p,y,w,v,x,S,T;return kr(this,function(I){switch(I.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,I.label=1;case 1:return a<o.length?(A=o[a],[4,this.renderTextNode(A,s)]):[3,4];case 2:I.sent(),I.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof iR))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return v=I.sent(),this.renderReplacedElement(n,i,v),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof sR&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof aR))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return v=I.sent(),this.renderReplacedElement(n,i,v),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof cR&&n.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,l.render(n.tree)]):[3,14];case 13:c=I.sent(),n.width&&n.height&&this.ctx.drawImage(c,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),I.label=14;case 14:if(n instanceof W1&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===Cp?n.checked&&(this.ctx.save(),this.path([new ue(n.bounds.left+d*.39363,n.bounds.top+d*.79),new ue(n.bounds.left+d*.16,n.bounds.top+d*.5549),new ue(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new ue(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new ue(n.bounds.left+d*.72983,n.bounds.top+d*.23),new ue(n.bounds.left+d*.84,n.bounds.top+d*.34085),new ue(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=cr(IF),this.ctx.fill(),this.ctx.restore()):n.type===Ep&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=cr(IF),this.ctx.fill(),this.ctx.restore())),ore(n)&&n.value.length){switch(f=this.createFontStyle(s),S=f[0],g=f[1],m=this.fontMetrics.getMetrics(S,g).baseline,this.ctx.font=S,this.ctx.fillStyle=cr(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=lre(n.styles.textAlign),T=Fp(n),p=0,n.styles.textAlign){case 1:p+=T.width/2;break;case 2:p+=T.width;break}y=T.add(p,0,0,-T.height/2+1),this.ctx.save(),this.path([new ue(T.left,T.top),new ue(T.left+T.width,T.top),new ue(T.left+T.width,T.top+T.height),new ue(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Fd(n.value,y),s.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Jt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];v=void 0,x=w.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(x)];case 16:return v=I.sent(),this.ctx.drawImage(v,n.bounds.left-(v.width+10),n.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+x),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(S=this.createFontStyle(s)[0],this.ctx.font=S,this.ctx.fillStyle=cr(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new Rs(n.bounds.left,n.bounds.top+At(n.styles.paddingTop,n.bounds.width),n.bounds.width,cF(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Fd(r.listValue,T),s.letterSpacing,cF(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Hr(this,void 0,void 0,function(){var n,i,w,s,a,w,o,A,w,l,c,w,d,f,w,g,m,w,p,y,w;return kr(this,function(v){switch(v.label){case 0:if(Jt(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),n=0,i=r.negativeZIndex,v.label=2;case 2:return n<i.length?(w=i[n],[4,this.renderStack(w)]):[3,5];case 3:v.sent(),v.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),s=0,a=r.nonInlineLevel,v.label=7;case 7:return s<a.length?(w=a[s],[4,this.renderNode(w)]):[3,10];case 8:v.sent(),v.label=9;case 9:return s++,[3,7];case 10:o=0,A=r.nonPositionedFloats,v.label=11;case 11:return o<A.length?(w=A[o],[4,this.renderStack(w)]):[3,14];case 12:v.sent(),v.label=13;case 13:return o++,[3,11];case 14:l=0,c=r.nonPositionedInlineLevel,v.label=15;case 15:return l<c.length?(w=c[l],[4,this.renderStack(w)]):[3,18];case 16:v.sent(),v.label=17;case 17:return l++,[3,15];case 18:d=0,f=r.inlineLevel,v.label=19;case 19:return d<f.length?(w=f[d],[4,this.renderNode(w)]):[3,22];case 20:v.sent(),v.label=21;case 21:return d++,[3,19];case 22:g=0,m=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return g<m.length?(w=m[g],[4,this.renderStack(w)]):[3,26];case 24:v.sent(),v.label=25;case 25:return g++,[3,23];case 26:p=0,y=r.positiveZIndex,v.label=27;case 27:return p<y.length?(w=y[p],[4,this.renderStack(w)]):[3,30];case 28:v.sent(),v.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=zn(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),zn(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var A=o.getContext("2d");return A.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},e.prototype.renderBackgroundImage=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A;return kr(this,function(l){switch(l.label){case 0:n=r.styles.backgroundImage.length-1,i=function(c){var d,f,g,N,ve,xe,P,oe,E,m,N,ve,xe,P,oe,p,y,w,v,x,S,T,I,C,E,F,N,k,Q,P,oe,Ce,ve,xe,Z,ae,de,Fe,ie,Ue,ze,D;return kr(this,function(V){switch(V.label){case 0:if(c.type!==0)return[3,5];d=void 0,f=c.url,V.label=1;case 1:return V.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return d=V.sent(),[3,4];case 3:return V.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(g=Sw(r,n,[d.width,d.height,d.width/d.height]),N=g[0],ve=g[1],xe=g[2],P=g[3],oe=g[4],E=s.ctx.createPattern(s.resizeImage(d,P,oe),"repeat"),s.renderRepeat(N,E,ve,xe)),[3,6];case 5:GJ(c)?(m=Sw(r,n,[null,null,null]),N=m[0],ve=m[1],xe=m[2],P=m[3],oe=m[4],p=LJ(c.angle,P,oe),y=p[0],w=p[1],v=p[2],x=p[3],S=p[4],T=document.createElement("canvas"),T.width=P,T.height=oe,I=T.getContext("2d"),C=I.createLinearGradient(w,x,v,S),AF(c.stops,y).forEach(function(R){return C.addColorStop(R.stop,cr(R.color))}),I.fillStyle=C,I.fillRect(0,0,P,oe),P>0&&oe>0&&(E=s.ctx.createPattern(T,"repeat"),s.renderRepeat(N,E,ve,xe))):WJ(c)&&(F=Sw(r,n,[null,null,null]),N=F[0],k=F[1],Q=F[2],P=F[3],oe=F[4],Ce=c.position.length===0?[V1]:c.position,ve=At(Ce[0],P),xe=At(Ce[Ce.length-1],oe),Z=HJ(c,ve,xe,P,oe),ae=Z[0],de=Z[1],ae>0&&de>0&&(Fe=s.ctx.createRadialGradient(k+ve,Q+xe,0,k+ve,Q+xe,ae),AF(c.stops,ae*2).forEach(function(R){return Fe.addColorStop(R.stop,cr(R.color))}),s.path(N),s.ctx.fillStyle=Fe,ae!==de?(ie=r.bounds.left+.5*r.bounds.width,Ue=r.bounds.top+.5*r.bounds.height,ze=de/ae,D=1/ze,s.ctx.save(),s.ctx.translate(ie,Ue),s.ctx.transform(1,0,0,ze,0,0),s.ctx.translate(-ie,-Ue),s.ctx.fillRect(k,D*(Q-Ue)+Ue,P,oe*D),s.ctx.restore()):s.ctx.fill())),V.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<o.length?(A=o[a],[5,i(A)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,i){return Hr(this,void 0,void 0,function(){return kr(this,function(s){return this.path(RF(i,n)),this.ctx.fillStyle=cr(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,i,s){return Hr(this,void 0,void 0,function(){var a,o;return kr(this,function(A){switch(A.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return A.sent(),[2];case 2:return a=Xte(s,i),this.path(a),this.ctx.fillStyle=cr(r),this.ctx.fill(),o=qte(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Hr(this,void 0,void 0,function(){var n,i,s,a,o,A,l,c,d=this;return kr(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!Va(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=Are(pl(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Va(n.backgroundColor)||(this.ctx.fillStyle=cr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var m=Sp(r.curves),p=g.inset?0:sre,y=zte(m,-p+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(m),d.ctx.clip(),d.mask(y)):(d.mask(m),d.ctx.clip(),d.path(y)),d.ctx.shadowOffsetX=g.offsetX.number+p,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=cr(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?cr(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:o=0,A=0,l=s,f.label=3;case 3:return A<l.length?(c=l[A],c.style!==0&&!Va(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return A++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return Hr(this,void 0,void 0,function(){var o,A,l,c,d,f,g,m,p,y,w,v,x,S,T,I,T,I;return kr(this,function(C){return this.ctx.save(),o=Jte(s,i),A=RF(s,i),a===2&&(this.path(A),this.ctx.clip()),zn(A[0])?(l=A[0].start.x,c=A[0].start.y):(l=A[0].x,c=A[0].y),zn(A[1])?(d=A[1].end.x,f=A[1].end.y):(d=A[1].x,f=A[1].y),i===0||i===2?g=Math.abs(l-d):g=Math.abs(c-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(A.slice(0,2)),m=n<3?n*3:n*2,p=n<3?n*2:n,a===3&&(m=n,p=n),y=!0,g<=m*2?y=!1:g<=m*2+p?(w=g/(2*m+p),m*=w,p*=w):(v=Math.floor((g+p)/(m+p)),x=(g-v*m)/(v-1),S=(g-(v+1)*m)/v,p=S<=0||Math.abs(p-x)<Math.abs(p-S)?x:S),y&&(a===3?this.ctx.setLineDash([0,m+p]):this.ctx.setLineDash([m,p])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=cr(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(zn(A[0])&&(T=A[3],I=A[0],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(I.start.x,I.start.y)]),this.ctx.stroke()),zn(A[1])&&(T=A[1],I=A[2],this.ctx.beginPath(),this.formatPath([new ue(T.end.x,T.end.y),new ue(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Hr(this,void 0,void 0,function(){var n;return kr(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=cr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=Yte(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(_R),ore=function(t){return t instanceof lR||t instanceof AR?!0:t instanceof W1&&t.type!==Ep&&t.type!==Cp},Are=function(t,e){switch(t){case 0:return Sp(e);case 2:return Vte(e);case 1:default:return Tp(e)}},lre=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},cre=["-apple-system","system-ui"],ure=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return cre.indexOf(e)===-1}):t},dre=function(t){Ti(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return e.prototype.render=function(r){return Hr(this,void 0,void 0,function(){var n,i;return kr(this,function(s){switch(s.label){case 0:return n=$b(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,fre(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=cr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(_R),fre=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},hre=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ag([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ag([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),gre=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new hre({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new Qte(this,e)}return t.instanceCount=1,t}(),IR=function(t,e){return e===void 0&&(e={}),mre(t,e)};typeof window<"u"&&wR.setContext(window);var mre=function(t,e){return Hr(void 0,void 0,void 0,function(){var r,n,i,s,a,o,A,l,c,d,f,g,m,p,y,w,v,x,S,T,C,I,C,E,F,N,k,Q,P,oe,Ce,ve,xe,Z,ae,de,Fe,ie,Ue,ze;return kr(this,function(D){switch(D.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(F=e.imageTimeout)!==null&&F!==void 0?F:15e3,proxy:e.proxy,useCORS:(N=e.useCORS)!==null&&N!==void 0?N:!1},s=Fb({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},i),a={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:n.innerWidth,windowHeight:(P=e.windowHeight)!==null&&P!==void 0?P:n.innerHeight,scrollX:(oe=e.scrollX)!==null&&oe!==void 0?oe:n.pageXOffset,scrollY:(Ce=e.scrollY)!==null&&Ce!==void 0?Ce:n.pageYOffset},o=new Rs(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),A=new gre(s,o),l=(ve=e.foreignObjectRendering)!==null&&ve!==void 0?ve:!1,c={allowTaint:(xe=e.allowTaint)!==null&&xe!==void 0?xe:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},A.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new OF(A,t,c),f=d.clonedReferenceElement,f?[4,d.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=D.sent(),m=z1(f)||vte(f)?zX(f.ownerDocument):av(A,f),p=m.width,y=m.height,w=m.left,v=m.top,x=pre(A,f,e.backgroundColor),S={canvas:e.canvas,backgroundColor:x,scale:(ae=(Z=e.scale)!==null&&Z!==void 0?Z:n.devicePixelRatio)!==null&&ae!==void 0?ae:1,x:((de=e.x)!==null&&de!==void 0?de:0)+w,y:((Fe=e.y)!==null&&Fe!==void 0?Fe:0)+v,width:(ie=e.width)!==null&&ie!==void 0?ie:Math.ceil(p),height:(Ue=e.height)!==null&&Ue!==void 0?Ue:Math.ceil(y)},l?(A.logger.debug("Document cloned, using foreign object rendering"),C=new dre(A,S),[4,C.render(f)]):[3,3];case 2:return T=D.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+w+","+v+" with size "+p+"x"+y+" using computed rendering"),A.logger.debug("Starting DOM parsing"),I=dR(A,f),x===I.styles.backgroundColor&&(I.styles.backgroundColor=Ts.TRANSPARENT),A.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),C=new are(A,S),[4,C.render(I)];case 4:T=D.sent(),D.label=5;case 5:return(!((ze=e.removeContainer)!==null&&ze!==void 0)||ze)&&(OF.destroy(g)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,T]}})})},pre=function(t,e,r){var n=e.ownerDocument,i=n.documentElement?Sd(t,getComputedStyle(n.documentElement).backgroundColor):Ts.TRANSPARENT,s=n.body?Sd(t,getComputedStyle(n.body).backgroundColor):Ts.TRANSPARENT,a=typeof r=="string"?Sd(t,r):r===null?Ts.TRANSPARENT:4294967295;return e===n.documentElement?Va(i)?Va(s)?a:s:i:a};const vre=Object.freeze(Object.defineProperty({__proto__:null,default:IR},Symbol.toStringTag,{value:"Module"})),LF=({selectedDate:t,onDateSelect:e,className:r=""})=>{const[n,i]=b.useState(t?new Date(t):new Date),[s,a]=b.useState(n.getMonth()),[o,A]=b.useState(n.getFullYear()),l=y=>["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][y],c=()=>["日","一","二","三","四","五","六"],d=(y,w)=>new Date(y,w,1).getDay(),f=(y,w)=>new Date(y,w+1,0).getDate(),g=()=>{const y=d(o,s),w=f(o,s),v=[];for(let x=0;x<y;x++)v.push(u.jsx("div",{className:"h-7 w-7 flex items-center justify-center"},`empty-${x}`));for(let x=1;x<=w;x++){const S=new Date(o,s,x),T=t&&t.getFullYear()===o&&t.getMonth()===s&&t.getDate()===x,I=new Date().toDateString()===S.toDateString();v.push(u.jsx("button",{onClick:()=>e(S),className:`
            h-7 w-7 rounded text-xs font-medium transition-all duration-200
            flex items-center justify-center
            hover:bg-green-400/20 hover:scale-105
            ${T?"bg-green-400 text-white shadow-lg":I?"bg-blue-400/20 text-blue-400 border border-blue-400/30":"text-gray-300 hover:text-white"}
          `,children:x},x))}return v},m=()=>{s===0?(a(11),A(o-1)):a(s-1)},p=()=>{s===11?(a(0),A(o+1)):a(s+1)};return u.jsxs("div",{className:`bg-gradient-to-br from-surface/80 to-surface/60 rounded-lg p-3 border border-white/20 shadow-lg backdrop-blur-sm ${r}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("button",{onClick:m,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsxs("h3",{className:"text-sm font-bold text-white",children:[o,"年 ",l(s)]}),u.jsx("button",{onClick:p,className:"p-1.5 rounded-md bg-white/10 hover:bg-white/20 transition-colors",children:u.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),u.jsx("div",{className:"grid grid-cols-7 mb-1.5",children:c().map(y=>u.jsx("div",{className:"h-6 w-7 flex items-center justify-center text-xs font-medium text-gray-400",children:y},y))}),u.jsx("div",{className:"grid grid-cols-7",children:g()})]})},yre=({startDate:t,endDate:e,onStartDateSelect:r,onEndDateSelect:n,className:i=""})=>{const[s,a]=b.useState(!1),[o,A]=b.useState(!1),l=c=>c?`${c.getFullYear()}年${c.getMonth()+1}月${c.getDate()}日`:"";return u.jsxs("div",{className:`space-y-4 ${i}`,children:[u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"開始日期"}),u.jsx("button",{onClick:()=>{a(!s),A(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:t?l(t):"選擇開始日期"}),s&&u.jsx("div",{className:"mt-1.5",children:u.jsx(LF,{selectedDate:t,onDateSelect:c=>{r(c),a(!1)}})})]}),u.jsxs("div",{className:"space-y-1.5",children:[u.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"結束日期"}),u.jsx("button",{onClick:()=>{A(!o),a(!1)},className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-left hover:bg-white/20 transition-colors focus:border-green-400/50 text-sm",children:e?l(e):"選擇結束日期"}),o&&u.jsx("div",{className:"mt-1.5",children:u.jsx(LF,{selectedDate:e,onDateSelect:c=>{n(c),A(!1)}})})]})]})},wre=({size:t="md",color:e="blue",text:r="載入中..."})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},i={blue:"border-blue-400",green:"border-green-400",red:"border-red-400",yellow:"border-yellow-400",purple:"border-purple-400",pink:"border-pink-400"};return u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[u.jsx("div",{className:`animate-spin rounded-full border-b-2 ${n[t]} ${i[e]}`}),r&&u.jsx("p",{className:"text-sm text-gray-400",children:r})]})},SR=({isLoading:t,children:e,text:r="載入中..."})=>u.jsxs("div",{className:"relative",children:[e,t&&u.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-surface/90 rounded-xl p-6 border border-white/20",children:u.jsx(wre,{size:"lg",text:r})})})]}),Vc=(t,e,r={})=>e(),TR=t=>()=>{},Yf=(t,e={})=>Object.keys(t).filter(r=>r==="_lastUpdated"?!1:(e[r]||"regular")==="regular"),en={early:{color:"pink",icon:u.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"早班統計",gradient:"from-pink-500/20 to-rose-500/20",border:"border-pink-400/30"},afternoon:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"午班統計",gradient:"from-orange-500/20 to-amber-500/20",border:"border-orange-400/30"},night:{color:"blue",icon:u.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),title:"晚班統計",gradient:"from-blue-500/20 to-indigo-500/20",border:"border-blue-400/30"},consecutive:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"連續上班",gradient:"from-orange-500/20 to-yellow-500/20",border:"border-orange-400/30"},stockLover:{color:"emerald",icon:u.jsx("svg",{className:"w-5 h-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),title:"熱愛進貨",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-400/30"}},Pu=({title:t,icon:e,themeColor:r,children:n,isLoading:i})=>u.jsxs("div",{className:`bg-gradient-to-br ${en[r].gradient} rounded-2xl p-4 border ${en[r].border} shadow-xl backdrop-blur-sm`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-full bg-${en[r].color}-500/20 border border-${en[r].color}-400/30 flex items-center justify-center mr-3`,children:e}),u.jsx("h3",{className:`text-lg font-bold text-${en[r].color}-300`,children:t})]}),u.jsx(SR,{isLoading:i,children:n})]}),xre=({schedule:t,names:e,employeeTags:r={},showAll:n=!1,selectedMonth:i})=>{const a=Vc("早班統計計算",()=>{const A=[];let l,c,d;if(!i||i==="current"){const w=new Date;l=w.getFullYear(),c=w.getMonth()+1}else if(i==="next"){const w=new Date;w.setMonth(w.getMonth()+1),l=w.getFullYear(),c=w.getMonth()+1}else{let w=i;i.includes("_")&&(w=i.split("_")[0]);const[v,x]=w.split("-").map(Number);l=v,c=x}d=new Date(l,c,0).getDate();const f=l>2025||l===2025&&c>=10;Yf(t,r).forEach(w=>{var x;let v=0;for(let S=1;S<=d;S++){const T=(x=t[w])==null?void 0:x[S];f?(T==="早"||T==="中")&&v++:T==="早"&&v++}A.push({employeeId:w,name:e[w]||w,count:v})});const m=A.sort((w,v)=>v.count-w.count);let p=1,y=null;return m.map((w,v)=>(y!==null&&w.count!==y&&(p=v+1),y=w.count,{...w,rank:p}))},{logThreshold:5}),o=n?a:a.slice(0,5);return u.jsx("div",{className:"space-y-3",children:a.length>0?o.map(A=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/30 border border-pink-400/50 flex items-center justify-center text-xs font-bold text-pink-300",children:A.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:A.name})]}),u.jsxs("div",{className:"text-pink-300 font-bold text-sm",children:[A.count," 次"]})]},A.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌅"}),u.jsx("div",{children:"本月無早班記錄"})]})})},bre=({schedule:t,names:e,employeeTags:r={},showAll:n=!1,selectedMonth:i})=>{const a=Vc("午班統計計算",()=>{const A=[];let l,c,d;if(!i||i==="current"){const y=new Date;l=y.getFullYear(),c=y.getMonth()+1}else if(i==="next"){const y=new Date;y.setMonth(y.getMonth()+1),l=y.getFullYear(),c=y.getMonth()+1}else{let y=i;i.includes("_")&&(y=i.split("_")[0]);const[w,v]=y.split("-").map(Number);l=w,c=v}d=new Date(l,c,0).getDate(),Yf(t,r).forEach(y=>{var v;let w=0;for(let x=1;x<=d;x++)((v=t[y])==null?void 0:v[x])==="午"&&w++;A.push({employeeId:y,name:e[y]||y,count:w})});const g=A.sort((y,w)=>w.count-y.count);let m=1,p=null;return g.map((y,w)=>(p!==null&&y.count!==p&&(m=w+1),p=y.count,{...y,rank:m}))},{logThreshold:5}),o=n?a:a.slice(0,5);return u.jsx("div",{className:"space-y-3",children:a.length>0?o.map(A=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-500/10 border border-orange-400/20 rounded-lg hover:bg-orange-500/20 transition-colors cursor-pointer",onClick:()=>{},children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:A.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:A.name})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"font-bold text-sm text-orange-300",children:[A.count," 次"]})})]},A.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌞"}),u.jsx("div",{children:"無午班記錄"})]})})},Bre=({schedule:t,names:e,employeeTags:r={},showAll:n=!1,selectedMonth:i})=>{const a=Vc("晚班統計計算",()=>{const A=[];let l,c,d;if(!i||i==="current"){const y=new Date;l=y.getFullYear(),c=y.getMonth()+1}else if(i==="next"){const y=new Date;y.setMonth(y.getMonth()+1),l=y.getFullYear(),c=y.getMonth()+1}else{let y=i;i.includes("_")&&(y=i.split("_")[0]);const[w,v]=y.split("-").map(Number);l=w,c=v}d=new Date(l,c,0).getDate(),Yf(t,r).forEach(y=>{var v;let w=0;for(let x=1;x<=d;x++)((v=t[y])==null?void 0:v[x])==="晚"&&w++;A.push({employeeId:y,name:e[y]||y,count:w})});const g=A.sort((y,w)=>w.count-y.count);let m=1,p=null;return g.map((y,w)=>(p!==null&&y.count!==p&&(m=w+1),p=y.count,{...y,rank:m}))},{logThreshold:5}),o=n?a:a.slice(0,5);return u.jsx("div",{className:"space-y-3",children:a.length>0?o.map(A=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 border border-blue-400/50 flex items-center justify-center text-xs font-bold text-blue-300",children:A.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:A.name})]}),u.jsxs("div",{className:"text-blue-300 font-bold text-sm",children:[A.count," 次"]})]},A.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌙"}),u.jsx("div",{children:"本月無晚班記錄"})]})})},Cre=({schedule:t,names:e,employeeTags:r={},showAll:n=!1,selectedMonth:i})=>{const a=Vc("連續上班統計計算",()=>{const A=[];let l,c,d;if(!i||i==="current"){const y=new Date;l=y.getFullYear(),c=y.getMonth()+1}else if(i==="next"){const y=new Date;y.setMonth(y.getMonth()+1),l=y.getFullYear(),c=y.getMonth()+1}else{let y=i;i.includes("_")&&(y=i.split("_")[0]);const[w,v]=y.split("-").map(Number);l=w,c=v}d=new Date(l,c,0).getDate(),Yf(t,r).forEach(y=>{var S;let w=[],v=0;for(let T=1;T<=d;T++){const I=(S=t[y])==null?void 0:S[T];I==="早"||I==="中"||I==="午"||I==="晚"||I==="D7"||I==="高鐵"||I==="中央店"?v++:v>0&&(w.push(v),v=0)}v>0&&w.push(v);let x=0;w.length>0&&(x=w.reduce((I,C)=>I+C,0)/w.length),A.push({employeeId:y,name:e[y]||y,avgConsecutive:parseFloat(x.toFixed(1)),maxConsecutive:w.length>0?Math.max(...w):0,consecutivePeriods:w.length})});const g=A.sort((y,w)=>w.avgConsecutive-y.avgConsecutive);let m=1,p=null;return g.map((y,w)=>(p!==null&&y.avgConsecutive!==p&&(m=w+1),p=y.avgConsecutive,{...y,rank:m}))},{logThreshold:5}),o=n?a:a.slice(0,5);return u.jsx("div",{className:"space-y-3",children:a.length>0?o.map(A=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:A.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:A.name})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"text-orange-300 font-bold text-sm",children:[A.avgConsecutive," 天"]})})]},A.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),u.jsx("div",{children:"本月無連續上班記錄"})]})})},Ere=({schedule:t,names:e,employeeTags:r={},showAll:n=!1,selectedMonth:i})=>{const a=Vc("熱愛進貨統計計算",()=>{const A=[];let l,c,d;if(!i||i==="current"){const v=new Date;l=v.getFullYear(),c=v.getMonth()+1}else if(i==="next"){const v=new Date;v.setMonth(v.getMonth()+1),l=v.getFullYear(),c=v.getMonth()+1}else{let v=i;i.includes("_")&&(v=i.split("_")[0]);const[x,S]=v.split("-").map(Number);l=x,c=S}d=new Date(l,c,0).getDate();const f=Yf(t,r);if(f.forEach(v=>{A.push({employeeId:v,name:e[v]||v,count:0})}),(()=>{if(!i){const T=new Date,I=T.getFullYear(),C=T.getMonth()+1;return I>2025||I===2025&&C>=10}let v=i;i.includes("_")&&(v=i.split("_")[0]);const[x,S]=v.split("-").map(Number);return x>2025||x===2025&&S>=10})())for(let v=1;v<=d;v++)new Date(l,c-1,v).getDay()===3&&f.forEach(T=>{var E;const I=(E=t[T])==null?void 0:E[v],C=I==null?void 0:I.trim();if(C==="午"||C==="X"||C==="XX"||(C==null?void 0:C.toUpperCase())==="X"||(C==null?void 0:C.toUpperCase())==="XX"||C==="晚"||C==="Y"||C==="A"||C==="YY"||C==="晚班"||C==="J"||C==="JJ"||(C==null?void 0:C.toUpperCase())==="Y"||(C==null?void 0:C.toUpperCase())==="A"||(C==null?void 0:C.toUpperCase())==="YY"||(C==null?void 0:C.toUpperCase())==="J"||(C==null?void 0:C.toUpperCase())==="JJ"){const F=A.find(N=>N.employeeId===T);F&&F.count++}});else for(let v=1;v<=d;v++)new Date(l,c-1,v).getDay()===3&&f.forEach(T=>{var E;const I=(E=t[T])==null?void 0:E[v],C=I==null?void 0:I.trim();if(C==="中"||C==="L"||C==="LL"||C==="中班"||(C==null?void 0:C.toUpperCase())==="L"||(C==null?void 0:C.toUpperCase())==="LL"||C==="晚"||C==="Y"||C==="A"||C==="YY"||C==="晚班"||C==="J"||C==="JJ"||(C==null?void 0:C.toUpperCase())==="Y"||(C==null?void 0:C.toUpperCase())==="A"||(C==null?void 0:C.toUpperCase())==="YY"||(C==null?void 0:C.toUpperCase())==="J"||(C==null?void 0:C.toUpperCase())==="JJ"){const F=A.find(N=>N.employeeId===T);F&&F.count++}});const p=A.sort((v,x)=>x.count-v.count);let y=1,w=null;return p.map((v,x)=>(w!==null&&v.count!==w&&(y=x+1),w=v.count,{...v,rank:y}))},{logThreshold:5}),o=n?a:a.slice(0,5);return u.jsx("div",{className:"space-y-3",children:a.length>0?o.map(A=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/30 border border-emerald-400/50 flex items-center justify-center text-xs font-bold text-emerald-300",children:A.rank}),u.jsx("span",{className:"text-white font-medium text-sm",children:A.name})]}),u.jsxs("div",{className:"text-emerald-300 font-bold text-sm",children:[A.count," 次"]})]},A.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📦"}),u.jsx("div",{children:"本月無進貨記錄"})]})})};function _re({schedule:t,names:e,employeeTags:r={},loadingStates:n,selectedEmployee:i,allSchedules:s,selectedMonth:a}){const o=TR(),[A,l]=ii.useState(!1);ii.useEffect(()=>{o()});const d=(()=>{if(!a||a==="current"){const f=new Date,g=f.getFullYear(),m=f.getMonth()+1;return g>2025||g===2025&&m>=10}else if(a==="next"){const f=new Date;f.setMonth(f.getMonth()+1);const g=f.getFullYear(),m=f.getMonth()+1;return g>2025||g===2025&&m>=10}else{let f=a;a.includes("_")&&(f=a.split("_")[0]);const[g,m]=f.split("-").map(Number);return g>2025||g===2025&&m>=10}})();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${d?"lg:grid-cols-5":"lg:grid-cols-4"}`,children:[u.jsx(Pu,{title:d?"早中班統計":"早班統計",icon:en.early.icon,themeColor:"early",isLoading:n.statistics,children:u.jsx(xre,{schedule:t,names:e,employeeTags:r,showAll:A,selectedMonth:a})}),d&&u.jsx(Pu,{title:en.afternoon.title,icon:en.afternoon.icon,themeColor:"afternoon",isLoading:n.statistics,children:u.jsx(bre,{schedule:t,names:e,employeeTags:r,showAll:A,selectedMonth:a})}),u.jsx(Pu,{title:en.night.title,icon:en.night.icon,themeColor:"night",isLoading:n.statistics,children:u.jsx(Bre,{schedule:t,names:e,employeeTags:r,showAll:A,selectedMonth:a})}),u.jsx(Pu,{title:en.consecutive.title,icon:en.consecutive.icon,themeColor:"consecutive",isLoading:n.statistics,children:u.jsx(Cre,{schedule:t,names:e,employeeTags:r,showAll:A,selectedMonth:a})}),u.jsx(Pu,{title:en.stockLover.title,icon:en.stockLover.icon,themeColor:"stockLover",isLoading:n.statistics,children:u.jsx(Ere,{schedule:t,names:e,employeeTags:r,showAll:A,selectedMonth:a})})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>l(!A),className:"px-8 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 text-sm font-medium shadow-lg backdrop-blur-sm",children:A?"收起所有排名":"查看全部排名"})})]})}function FR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=FR(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ge(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=FR(t))&&(n&&(n+=" "),n+=e);return n}var mv={},NR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(NR);var Y1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Y1);var X1={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(X1);var pv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",o="",A=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const l=r[s];o?l==="\\"&&s+1<i?(s++,a+=r[s]):l===o?o="":a+=l:A?l==='"'||l==="'"?o=l:l==="]"?(A=!1,n.push(a),a=""):a+=l:l==="["?(A=!0,a&&(n.push(a),a="")):l==="."?a&&(n.push(a),a=""):a+=l,s++}return a&&n.push(a),n}t.toPath=e})(pv);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NR,r=Y1,n=X1,i=pv;function s(o,A,l){if(o==null)return l;switch(typeof A){case"string":{if(e.isUnsafeProperty(A))return l;const c=o[A];return c===void 0?r.isDeepKey(A)?s(o,i.toPath(A),l):l:c}case"number":case"symbol":{typeof A=="number"&&(A=n.toKey(A));const c=o[A];return c===void 0?l:c}default:{if(Array.isArray(A))return a(o,A,l);if(Object.is(A==null?void 0:A.valueOf(),-0)?A="-0":A=String(A),e.isUnsafeProperty(A))return l;const c=o[A];return c===void 0?l:c}}}function a(o,A,l){if(A.length===0)return l;let c=o;for(let d=0;d<A.length;d++){if(c==null||e.isUnsafeProperty(A[d]))return l;c=c[A[d]]}return c===void 0?l:c}t.get=s})(mv);var Ire=mv.get;const ro=Xi(Ire);var UR={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=Symbol.for("react.transitional.element"),J1=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),wv=Symbol.for("react.profiler"),xv=Symbol.for("react.consumer"),bv=Symbol.for("react.context"),Bv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Ev=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),Iv=Symbol.for("react.lazy"),Sre=Symbol.for("react.view_transition"),Tre=Symbol.for("react.client.reference");function di(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case q1:switch(t=t.type,t){case vv:case wv:case yv:case Cv:case Ev:case Sre:return t;default:switch(t=t&&t.$$typeof,t){case bv:case Bv:case Iv:case _v:return t;case xv:return t;default:return e}}case J1:return e}}}at.ContextConsumer=xv;at.ContextProvider=bv;at.Element=q1;at.ForwardRef=Bv;at.Fragment=vv;at.Lazy=Iv;at.Memo=_v;at.Portal=J1;at.Profiler=wv;at.StrictMode=yv;at.Suspense=Cv;at.SuspenseList=Ev;at.isContextConsumer=function(t){return di(t)===xv};at.isContextProvider=function(t){return di(t)===bv};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===q1};at.isForwardRef=function(t){return di(t)===Bv};at.isFragment=function(t){return di(t)===vv};at.isLazy=function(t){return di(t)===Iv};at.isMemo=function(t){return di(t)===_v};at.isPortal=function(t){return di(t)===J1};at.isProfiler=function(t){return di(t)===wv};at.isStrictMode=function(t){return di(t)===yv};at.isSuspense=function(t){return di(t)===Cv};at.isSuspenseList=function(t){return di(t)===Ev};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vv||t===wv||t===yv||t===Cv||t===Ev||typeof t=="object"&&t!==null&&(t.$$typeof===Iv||t.$$typeof===_v||t.$$typeof===bv||t.$$typeof===xv||t.$$typeof===Bv||t.$$typeof===Tre||t.getModuleId!==void 0)};at.typeOf=di;UR.exports=at;var Fre=UR.exports,hr=t=>t===0?0:t>0?1:-1,Nn=t=>typeof t=="number"&&t!=+t,qo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,he=t=>(typeof t=="number"||t instanceof Number)&&!Nn(t),zi=t=>he(t)||typeof t=="string",Nre=0,pf=t=>{var e=++Nre;return"".concat(t||"").concat(e)},qr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&typeof e!="string")return n;var s;if(qo(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Nn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},PR=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},HF=(t,e)=>he(t)&&he(e)?r=>t+r*(e-t):()=>e;function xi(t,e,r){return he(t)&&he(e)?t+r*(e-t):e}function kR(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ro(n,e))===r)}var ht=t=>t===null||typeof t>"u",Xf=t=>ht(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Ure=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Z1(t){if(typeof t!="string")return!1;var e=Ure;return e.includes(t)}var Pre=["viewBox","children"],VF=["points","pathLength"],Tw={svg:Pre,polygon:VF,polyline:VF},eE=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Z1(i)&&(n[i]=s=>r[i](r,s))}),n},kre=(t,e,r)=>n=>(t(e,r,n),null),qf=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];Z1(i)&&typeof s=="function"&&(n||(n={}),n[i]=kre(s,e,r))}),n},Qre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function QR(t){if(typeof t!="string")return!1;var e=Qre;return e.includes(t)}function zs(t){var e=Object.entries(t).filter(r=>{var[n]=r;return QR(n)});return Object.fromEntries(e)}var KF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",$F=null,Fw=null,OR=t=>{if(t===$F&&Array.isArray(Fw))return Fw;var e=[];return b.Children.forEach(t,r=>{ht(r)||(Fre.isFragment(r)?e=e.concat(OR(r.props.children)):e.push(r))}),Fw=e,$F=t,e};function Jf(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>KF(i)):n=[KF(e)],OR(t).forEach(i=>{var s=ro(i,"type.displayName")||ro(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var jR=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Ore=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(Tw==null?void 0:Tw[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),o=typeof t!="function"&&(!!n&&s.includes(e)||QR(e)),A=!!r&&Z1(e);return a||o||A},yt=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(b.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;Ore((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},jre=["children","width","height","viewBox","className","style","title","desc"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}function Dre(t,e){if(t==null)return{};var r,n,i=Rre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tE=b.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:A,desc:l}=t,c=Dre(t,jre),d=s||{width:n,height:i,x:0,y:0},f=Ge("recharts-surface",a);return b.createElement("svg",Jb({},yt(c,!0,"svg"),{className:f,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),b.createElement("title",null,A),b.createElement("desc",null,l),r)}),Mre=["children","className"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zb.apply(null,arguments)}function Lre(t,e){if(t==null)return{};var r,n,i=Hre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lr=b.forwardRef((t,e)=>{var{children:r,className:n}=t,i=Lre(t,Mre),s=Ge("recharts-layer",n);return b.createElement("g",Zb({className:s},yt(i,!0),{ref:e}),r)}),DR=b.createContext(null),Vre=()=>b.useContext(DR);function ot(t){return function(){return t}}const RR=Math.cos,Np=Math.sin,Fi=Math.sqrt,Up=Math.PI,Sv=2*Up,eB=Math.PI,tB=2*eB,jo=1e-6,Kre=tB-jo;function MR(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $re(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return MR;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Gre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?MR:$re(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,A=n-e,l=i-r,c=a-e,d=o-r,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>jo)if(!(Math.abs(d*A-l*c)>jo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-a,m=i-o,p=A*A+l*l,y=g*g+m*m,w=Math.sqrt(p),v=Math.sqrt(f),x=s*Math.tan((eB-Math.acos((p+f-y)/(2*w*v)))/2),S=x/v,T=x/w;Math.abs(S-1)>jo&&this._append`L${e+S*c},${r+S*d}`,this._append`A${s},${s},0,0,${+(d*g>c*m)},${this._x1=e+T*A},${this._y1=r+T*l}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),A=n*Math.sin(i),l=e+o,c=r+A,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>jo||Math.abs(this._y1-c)>jo)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%tB+tB),f>Kre?this._append`A${n},${n},0,1,${d},${e-o},${r-A}A${n},${n},0,1,${d},${this._x1=l},${this._y1=c}`:f>jo&&this._append`A${n},${n},0,${+(f>=eB)},${d},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Gre(e)}function nE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function LR(t){this._context=t}LR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Tv(t){return new LR(t)}function HR(t){return t[0]}function VR(t){return t[1]}function KR(t,e){var r=ot(!0),n=null,i=Tv,s=null,a=rE(o);t=typeof t=="function"?t:t===void 0?HR:ot(t),e=typeof e=="function"?e:e===void 0?VR:ot(e);function o(A){var l,c=(A=nE(A)).length,d,f=!1,g;for(n==null&&(s=i(g=a())),l=0;l<=c;++l)!(l<c&&r(d=A[l],l,A))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,l,A),+e(d,l,A));if(g)return s=null,g+""||null}return o.x=function(A){return arguments.length?(t=typeof A=="function"?A:ot(+A),o):t},o.y=function(A){return arguments.length?(e=typeof A=="function"?A:ot(+A),o):e},o.defined=function(A){return arguments.length?(r=typeof A=="function"?A:ot(!!A),o):r},o.curve=function(A){return arguments.length?(i=A,n!=null&&(s=i(n)),o):i},o.context=function(A){return arguments.length?(A==null?n=s=null:s=i(n=A),o):n},o}function Tg(t,e,r){var n=null,i=ot(!0),s=null,a=Tv,o=null,A=rE(l);t=typeof t=="function"?t:t===void 0?HR:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?VR:ot(+r);function l(d){var f,g,m,p=(d=nE(d)).length,y,w=!1,v,x=new Array(p),S=new Array(p);for(s==null&&(o=a(v=A())),f=0;f<=p;++f){if(!(f<p&&i(y=d[f],f,d))===w)if(w=!w)g=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=g;--m)o.point(x[m],S[m]);o.lineEnd(),o.areaEnd()}w&&(x[f]=+t(y,f,d),S[f]=+e(y,f,d),o.point(n?+n(y,f,d):x[f],r?+r(y,f,d):S[f]))}if(v)return o=null,v+""||null}function c(){return KR().defined(i).curve(a).context(s)}return l.x=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),n=null,l):t},l.x0=function(d){return arguments.length?(t=typeof d=="function"?d:ot(+d),l):t},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ot(+d),l):n},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),r=null,l):e},l.y0=function(d){return arguments.length?(e=typeof d=="function"?d:ot(+d),l):e},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ot(+d),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(n).y(e)},l.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ot(!!d),l):i},l.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),l):a},l.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),l):s},l}class $R{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Wre(t){return new $R(t,!0)}function zre(t){return new $R(t,!1)}const iE={draw(t,e){const r=Fi(e/Up);t.moveTo(r,0),t.arc(0,0,r,0,Sv)}},Yre={draw(t,e){const r=Fi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},GR=Fi(1/3),Xre=GR*2,qre={draw(t,e){const r=Fi(e/Xre),n=r*GR;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Jre={draw(t,e){const r=Fi(e),n=-r/2;t.rect(n,n,r,r)}},Zre=.8908130915292852,WR=Np(Up/10)/Np(7*Up/10),ene=Np(Sv/10)*WR,tne=-RR(Sv/10)*WR,rne={draw(t,e){const r=Fi(e*Zre),n=ene*r,i=tne*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Sv*s/5,o=RR(a),A=Np(a);t.lineTo(A*r,-o*r),t.lineTo(o*n-A*i,A*n+o*i)}t.closePath()}},Nw=Fi(3),nne={draw(t,e){const r=-Fi(e/(Nw*3));t.moveTo(0,r*2),t.lineTo(-Nw*r,-r),t.lineTo(Nw*r,-r),t.closePath()}},Mn=-.5,Ln=Fi(3)/2,rB=1/Fi(12),ine=(rB/2+1)*3,sne={draw(t,e){const r=Fi(e/ine),n=r/2,i=r*rB,s=n,a=r*rB+r,o=-s,A=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,A),t.lineTo(Mn*n-Ln*i,Ln*n+Mn*i),t.lineTo(Mn*s-Ln*a,Ln*s+Mn*a),t.lineTo(Mn*o-Ln*A,Ln*o+Mn*A),t.lineTo(Mn*n+Ln*i,Mn*i-Ln*n),t.lineTo(Mn*s+Ln*a,Mn*a-Ln*s),t.lineTo(Mn*o+Ln*A,Mn*A-Ln*o),t.closePath()}};function ane(t,e){let r=null,n=rE(i);t=typeof t=="function"?t:ot(t||iE),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Pp(){}function kp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function zR(t){this._context=t}zR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function one(t){return new zR(t)}function YR(t){this._context=t}YR.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ane(t){return new YR(t)}function XR(t){this._context=t}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lne(t){return new XR(t)}function qR(t){this._context=t}qR.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cne(t){return new qR(t)}function GF(t){return t<0?-1:1}function WF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(GF(s)+GF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function zF(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Uw(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Qp(t){this._context=t}Qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uw(this,this._t0,zF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Uw(this,zF(this,r=WF(this,t,e)),r);break;default:Uw(this,this._t0,r=WF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function JR(t){this._context=new ZR(t)}(JR.prototype=Object.create(Qp.prototype)).point=function(t,e){Qp.prototype.point.call(this,e,t)};function ZR(t){this._context=t}ZR.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function une(t){return new Qp(t)}function dne(t){return new JR(t)}function eM(t){this._context=t}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=YF(t),i=YF(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YF(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function fne(t){return new eM(t)}function Fv(t,e){this._context=t,this._t=e}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function hne(t){return new Fv(t,.5)}function gne(t){return new Fv(t,0)}function mne(t){return new Fv(t,1)}function xc(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nB(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function pne(t,e){return t[e]}function vne(t){const e=[];return e.key=t,e}function yne(){var t=ot([]),e=nB,r=xc,n=pne;function i(s){var a=Array.from(t.apply(this,arguments),vne),o,A=a.length,l=-1,c;for(const d of s)for(o=0,++l;o<A;++o)(a[o][l]=[0,+n(d,a[o].key,l,s)]).data=d;for(o=0,c=nE(e(a));o<A;++o)a[c[o]].index=o;return r(a,c),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:ot(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?nB:typeof s=="function"?s:ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??xc,i):r},i}function wne(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}xc(t,e)}}function xne(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}xc(t,e)}}function bne(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,A=0,l=0;o<a;++o){for(var c=t[e[o]],d=c[n][1]||0,f=c[n-1][1]||0,g=(d-f)/2,m=0;m<o;++m){var p=t[e[m]],y=p[n][1]||0,w=p[n-1][1]||0;g+=y-w}A+=d,l+=g*d}i[n-1][1]+=i[n-1][0]=r,A&&(r-=l/A)}i[n-1][1]+=i[n-1][0]=r,xc(t,e)}}var Bne=["type","size","sizeType"];function iB(){return iB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iB.apply(null,arguments)}function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){Cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cne(t,e,r){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=_ne(t,"string");return typeof e=="symbol"?e:e+""}function _ne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ine(t,e){if(t==null)return{};var r,n,i=Sne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sne(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tM={symbolCircle:iE,symbolCross:Yre,symbolDiamond:qre,symbolSquare:Jre,symbolStar:rne,symbolTriangle:nne,symbolWye:sne},Tne=Math.PI/180,Fne=t=>{var e="symbol".concat(Xf(t));return tM[e]||iE},Nne=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Tne;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Une=(t,e)=>{tM["symbol".concat(Xf(t))]=e},sE=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Ine(t,Bne),s=qF(qF({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var d=Fne(e),f=ane().type(d).size(Nne(r,n,e));return f()},{className:o,cx:A,cy:l}=s,c=yt(s,!0);return A===+A&&l===+l&&r===+r?b.createElement("path",iB({},c,{className:Ge("recharts-symbols",o),transform:"translate(".concat(A,", ").concat(l,")"),d:a()})):null};sE.registerSymbol=Une;function sB(){return sB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sB.apply(null,arguments)}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){aE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aE(t,e,r){return(e=kne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kne(t){var e=Qne(t,"string");return typeof e=="symbol"?e:e+""}function Qne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mi=32;class oE extends b.PureComponent{renderIcon(e,r){var{inactiveColor:n}=this.props,i=mi/2,s=mi/6,a=mi/3,o=e.inactive?n:e.color,A=r??e.type;if(A==="none")return null;if(A==="plainline")return b.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:mi,y2:i,className:"recharts-legend-icon"});if(A==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(mi,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(A==="rect")return b.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(mi/8,"h").concat(mi,"v").concat(mi*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(b.isValidElement(e.legendIcon)){var l=Pne({},e);return delete l.legendIcon,b.cloneElement(e.legendIcon,l)}return b.createElement(sE,{fill:o,cx:i,cy:i,size:mi,sizeType:"diameter",type:A})}renderItems(){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:mi,height:mi},A={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((c,d)=>{var f=c.formatter||i,g=Ge({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?s:c.color,p=f?f(c.value,c,d):c.value;return b.createElement("li",sB({className:g,style:A,key:"legend-item-".concat(d)},qf(this.props,c,d)),b.createElement(tE,{width:r,height:r,viewBox:o,style:l,"aria-label":"".concat(p," legend icon")},this.renderIcon(c,a)),b.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},p))})}render(){var{payload:e,layout:r,align:n}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}aE(oE,"displayName","Legend");aE(oE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var rM={},nM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(nM);var AE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(AE);var iM={},Nv={},sM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(sM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Nv);var aM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(aM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nv,r=aM;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(iM);var oM={},AM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mv;function r(n){return function(i){return e.get(i,n)}}t.property=r})(AM);var lM={},Pw={},kw={},lE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(lE);var cE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(cE);var Uv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Uv);var ZF;function One(){return ZF||(ZF=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uE(),r=lE,n=cE,i=Uv;function s(d,f,g){return typeof g!="function"?e.isMatch(d,f):a(d,f,function m(p,y,w,v,x,S){const T=g(p,y,w,v,x,S);return T!==void 0?!!T:a(p,y,m,S)},new Map)}function a(d,f,g,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,g,m);case"function":return Object.keys(f).length>0?a(d,{...f},g,m):i.eq(d,f);default:return r.isObject(d)?typeof f=="string"?f==="":!0:i.eq(d,f)}}function o(d,f,g,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,m);if(f instanceof Map)return A(d,f,g,m);if(f instanceof Set)return c(d,f,g,m);const p=Object.keys(f);if(d==null)return p.length===0;if(p.length===0)return!0;if(m&&m.has(f))return m.get(f)===d;m&&m.set(f,d);try{for(let y=0;y<p.length;y++){const w=p[y];if(!n.isPrimitive(d)&&!(w in d)||f[w]===void 0&&d[w]!==void 0||f[w]===null&&d[w]!==null||!g(d[w],f[w],w,d,f,m))return!1}return!0}finally{m&&m.delete(f)}}function A(d,f,g,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,y]of f.entries()){const w=d.get(p);if(g(w,y,p,d,f,m)===!1)return!1}return!0}function l(d,f,g,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let y=0;y<f.length;y++){const w=f[y];let v=!1;for(let x=0;x<d.length;x++){if(p.has(x))continue;const S=d[x];let T=!1;if(g(S,w,y,d,f,m)&&(T=!0),T){p.add(x),v=!0;break}}if(!v)return!1}return!0}function c(d,f,g,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,m):!1}t.isMatchWith=s,t.isSetMatch=c}(kw)),kw}var eN;function uE(){return eN||(eN=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=One();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(Pw)),Pw}var cM={},dE={},fE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(fE);var Pv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Pv);var kv={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",A="[object Map]",l="[object Set]",c="[object Array]",d="[object Function]",f="[object ArrayBuffer]",g="[object Object]",m="[object Error]",p="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",S="[object BigUint64Array]",T="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",F="[object Float32Array]",N="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=c,t.bigInt64ArrayTag=E,t.bigUint64ArrayTag=S,t.booleanTag=i,t.dataViewTag=p,t.dateTag=o,t.errorTag=m,t.float32ArrayTag=F,t.float64ArrayTag=N,t.functionTag=d,t.int16ArrayTag=I,t.int32ArrayTag=C,t.int8ArrayTag=T,t.mapTag=A,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=v,t.uint32ArrayTag=x,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=w})(kv);var uM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(uM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fE,r=Pv,n=kv,i=cE,s=uM;function a(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,f,g=new Map,m=void 0){const p=m==null?void 0:m(c,d,f,g);if(p!=null)return p;if(i.isPrimitive(c))return c;if(g.has(c))return g.get(c);if(Array.isArray(c)){const y=new Array(c.length);g.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,f,g,m);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;g.set(c,y);for(const[w,v]of c)y.set(w,o(v,w,f,g,m));return y}if(c instanceof Set){const y=new Set;g.set(c,y);for(const w of c)y.add(o(w,void 0,f,g,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(s.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);g.set(c,y);for(let w=0;w<c.length;w++)y[w]=o(c[w],w,f,g,m);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return g.set(c,y),A(y,c,f,g,m),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return g.set(c,y),A(y,c,f,g,m),y}if(c instanceof Blob){const y=new Blob([c],{type:c.type});return g.set(c,y),A(y,c,f,g,m),y}if(c instanceof Error){const y=new c.constructor;return g.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,A(y,c,f,g,m),y}if(typeof c=="object"&&l(c)){const y=Object.create(Object.getPrototypeOf(c));return g.set(c,y),A(y,c,f,g,m),y}return c}function A(c,d,f=c,g,m){const p=[...Object.keys(d),...e.getSymbols(d)];for(let y=0;y<p.length;y++){const w=p[y],v=Object.getOwnPropertyDescriptor(c,w);(v==null||v.writable)&&(c[w]=o(d[w],w,f,g,m))}}function l(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=A})(dE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dE;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(cM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uE(),r=cM;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(lM);var dM={},fM={},hM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dE,r=kv;function n(i,s){return e.cloneDeepWith(i,(a,o,A,l)=>{const c=s==null?void 0:s(a,o,A,l);if(c!=null)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case r.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=n})(hM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(fM);var gM={},hE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(hE);var mM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pv;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(mM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y1,r=hE,n=mM,i=pv;function s(a,o){let A;if(Array.isArray(o)?A=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?A=i.toPath(o):A=[o],A.length===0)return!1;let l=a;for(let c=0;c<A.length;c++){const d=A[c];if((l==null||!Object.hasOwn(l,d))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(d)&&d<l.length))return!1;l=l[d]}return!0}t.has=s})(gM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uE(),r=X1,n=fM,i=mv,s=gM;function a(o,A){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return A=n.cloneDeep(A),function(l){const c=i.get(l,o);return c===void 0?s.has(l,o):A===void 0?c===void 0:e.isMatch(c,A)}}t.matchesProperty=a})(dM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AE,r=AM,n=lM,i=dM;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(oM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nM,r=AE,n=iM,i=oM;function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(rM);var jne=rM.uniqBy;const tN=Xi(jne);function pM(t,e,r){return e===!0?tN(t,r):typeof e=="function"?tN(t,e):t}var vM={exports:{}},yM={},wM={exports:{}},xM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=b;function Dne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rne=typeof Object.is=="function"?Object.is:Dne,Mne=bc.useState,Lne=bc.useEffect,Hne=bc.useLayoutEffect,Vne=bc.useDebugValue;function Kne(t,e){var r=e(),n=Mne({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Hne(function(){i.value=r,i.getSnapshot=e,Qw(i)&&s({inst:i})},[t,r,e]),Lne(function(){return Qw(i)&&s({inst:i}),t(function(){Qw(i)&&s({inst:i})})},[t]),Vne(r),r}function Qw(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Rne(t,r)}catch{return!0}}function $ne(t,e){return e()}var Gne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$ne:Kne;xM.useSyncExternalStore=bc.useSyncExternalStore!==void 0?bc.useSyncExternalStore:Gne;wM.exports=xM;var Wne=wM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=b,zne=Wne;function Yne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xne=typeof Object.is=="function"?Object.is:Yne,qne=zne.useSyncExternalStore,Jne=Qv.useRef,Zne=Qv.useEffect,eie=Qv.useMemo,tie=Qv.useDebugValue;yM.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Jne(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=eie(function(){function A(g){if(!l){if(l=!0,c=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,Xne(c,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(c=g,m):(c=g,d=p)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=qne(t,s[0],s[1]);return Zne(function(){a.hasValue=!0,a.value=o},[o]),tie(o),o};vM.exports=yM;var rie=vM.exports,gE=b.createContext(null),nie=t=>t,Nt=()=>{var t=b.useContext(gE);return t?t.store.dispatch:nie},Cm=()=>{},iie=()=>Cm,sie=(t,e)=>t===e;function we(t){var e=b.useContext(gE);return rie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:iie,e?e.store.getState:Cm,e?e.store.getState:Cm,e?t:Cm,sie)}function aie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function oie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Aie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var rN=t=>Array.isArray(t)?t:[t];function lie(t){const e=Array.isArray(t[0])?t[0]:t;return Aie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cie(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var uie=class{constructor(t){this.value=t}deref(){return this.value}},die=typeof WeakRef<"u"?WeakRef:uie,fie=0,nN=1;function Fg(){return{s:fie,v:void 0,o:null,p:null}}function bM(t,e={}){let r=Fg();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var d;let o=r;const{length:A}=arguments;for(let f=0,g=A;f<g;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const y=p.get(m);y===void 0?(o=Fg(),p.set(m,o)):o=y}else{let p=o.p;p===null&&(o.p=p=new Map);const y=p.get(m);y===void 0?(o=Fg(),p.set(m,o)):o=y}}const l=o;let c;if(o.s===nN)c=o.v;else if(c=t.apply(null,arguments),s++,n){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&n(f,c)&&(c=f,s!==0&&s--),i=typeof c=="object"&&c!==null||typeof c=="function"?new die(c):c}return l.s=nN,l.v=c,c}return a.clearCache=()=>{r=Fg(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function hie(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,A={},l=i.pop();typeof l=="object"&&(A=l,l=i.pop()),aie(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const c={...r,...A},{memoize:d,memoizeOptions:f=[],argsMemoize:g=bM,argsMemoizeOptions:m=[],devModeChecks:p={}}=c,y=rN(f),w=rN(m),v=lie(i),x=d(function(){return s++,l.apply(null,arguments)},...y),S=g(function(){a++;const I=cie(v,arguments);return o=x.apply(null,I),o},...w);return Object.assign(S,{resultFunc:l,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var G=hie(bM),gie=Object.assign((t,e=G)=>{oie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,A)=>(a[r[A]]=o,a),{}))},{withTypes:()=>gie}),BM={},CM={},EM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(EM);var _M={},mE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(mE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(_M);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EM,r=_M,n=pv;function i(s,a,o,A){if(s==null)return[];o=A?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const l=(g,m)=>{let p=g;for(let y=0;y<m.length&&p!=null;++y)p=p[m[y]];return p},c=(g,m)=>m==null||g==null?m:typeof g=="object"&&"key"in g?Object.hasOwn(m,g.key)?m[g.key]:l(m,g.path):typeof g=="function"?g(m):Array.isArray(g)?l(m,g):typeof m=="object"?m[g]:m,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(m=>c(m,g))})).slice().sort((g,m)=>{for(let p=0;p<d.length;p++){const y=e.compareValues(g.criteria[p],m.criteria[p],o[p]);if(y!==0)return y}return 0}).map(g=>g.original)}t.orderBy=i})(CM);var IM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,A)=>{for(let l=0;l<o.length;l++){const c=o[l];Array.isArray(c)&&A<s?a(c,A+1):i.push(c)}};return a(r,0),i}t.flatten=e})(IM);var pE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE,r=Nv,n=lE,i=Uv;function s(a,o,A){return n.isObject(A)&&(typeof o=="number"&&r.isArrayLike(A)&&e.isIndex(o)&&o<A.length||typeof o=="string"&&o in A)?i.eq(A[o],a):!1}t.isIterateeCall=s})(pE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CM,r=IM,n=pE;function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(BM);var mie=BM.sortBy;const Ov=Xi(mie);var SM=t=>t.legend.settings,pie=t=>t.legend.size,vie=t=>t.legend.payload,yie=G([vie,SM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Ov(n,r):n});function wie(){return we(yie)}var Ng=1;function TM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=b.useState({height:0,left:0,top:0,width:0}),n=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Ng||Math.abs(a.left-e.left)>Ng||Math.abs(a.top-e.top)>Ng||Math.abs(a.width-e.width)>Ng)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function yr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xie=typeof Symbol=="function"&&Symbol.observable||"@@observable",iN=xie,Ow=()=>Math.random().toString(36).substring(7).split("").join("."),bie={INIT:`@@redux/INIT${Ow()}`,REPLACE:`@@redux/REPLACE${Ow()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ow()}`},Op=bie;function vE(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function FM(t,e,r){if(typeof t!="function")throw new Error(yr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yr(1));return r(FM)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,A=!1;function l(){a===s&&(a=new Map,s.forEach((y,w)=>{a.set(w,y)}))}function c(){if(A)throw new Error(yr(3));return i}function d(y){if(typeof y!="function")throw new Error(yr(4));if(A)throw new Error(yr(5));let w=!0;l();const v=o++;return a.set(v,y),function(){if(w){if(A)throw new Error(yr(6));w=!1,l(),a.delete(v),s=null}}}function f(y){if(!vE(y))throw new Error(yr(7));if(typeof y.type>"u")throw new Error(yr(8));if(typeof y.type!="string")throw new Error(yr(17));if(A)throw new Error(yr(9));try{A=!0,i=n(i,y)}finally{A=!1}return(s=a).forEach(v=>{v()}),y}function g(y){if(typeof y!="function")throw new Error(yr(10));n=y,f({type:Op.REPLACE})}function m(){const y=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(yr(11));function v(){const S=w;S.next&&S.next(c())}return v(),{unsubscribe:y(v)}},[iN](){return this}}}return f({type:Op.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:g,[iN]:m}}function Bie(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Op.INIT})>"u")throw new Error(yr(12));if(typeof r(void 0,{type:Op.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yr(13))})}function NM(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{Bie(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let A=!1;const l={};for(let c=0;c<n.length;c++){const d=n[c],f=r[d],g=a[d],m=f(g,o);if(typeof m>"u")throw o&&o.type,new Error(yr(14));l[d]=m,A=A||m!==g}return A=A||n.length!==Object.keys(a).length,A?l:a}}function jp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Cie(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(yr(15))};const a={getState:i.getState,dispatch:(A,...l)=>s(A,...l)},o=t.map(A=>A(a));return s=jp(...o)(i.dispatch),{...i,dispatch:s}}}function UM(t){return vE(t)&&"type"in t&&typeof t.type=="string"}var PM=Symbol.for("immer-nothing"),sN=Symbol.for("immer-draftable"),Un=Symbol.for("immer-state");function Bi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bc=Object.getPrototypeOf;function EA(t){return!!t&&!!t[Un]}function Ms(t){var e;return t?kM(t)||Array.isArray(t)||!!t[sN]||!!((e=t.constructor)!=null&&e[sN])||Dv(t)||Rv(t):!1}var Eie=Object.prototype.constructor.toString();function kM(t){if(!t||typeof t!="object")return!1;const e=Bc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Eie}function Dp(t,e){jv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function jv(t){const e=t[Un];return e?e.type_:Array.isArray(t)?1:Dv(t)?2:Rv(t)?3:0}function aB(t,e){return jv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function QM(t,e,r){const n=jv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function _ie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dv(t){return t instanceof Map}function Rv(t){return t instanceof Set}function Do(t){return t.copy_||t.base_}function oB(t,e){if(Dv(t))return new Map(t);if(Rv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=kM(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Un];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Bc(t),n)}else{const n=Bc(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function yE(t,e=!1){return Mv(t)||EA(t)||!Ms(t)||(jv(t)>1&&(t.set=t.add=t.clear=t.delete=Iie),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>yE(n,!0))),t}function Iie(){Bi(2)}function Mv(t){return Object.isFrozen(t)}var Sie={};function _A(t){const e=Sie[t];return e||Bi(0,t),e}var vf;function OM(){return vf}function Tie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aN(t,e){e&&(_A("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function AB(t){lB(t),t.drafts_.forEach(Fie),t.drafts_=null}function lB(t){t===vf&&(vf=t.parent_)}function oN(t){return vf=Tie(vf,t)}function Fie(t){const e=t[Un];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function AN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Un].modified_&&(AB(e),Bi(4)),Ms(t)&&(t=Rp(e,t),e.parent_||Mp(e,t)),e.patches_&&_A("Patches").generateReplacementPatches_(r[Un].base_,t,e.patches_,e.inversePatches_)):t=Rp(e,r,[]),AB(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==PM?t:void 0}function Rp(t,e,r){if(Mv(e))return e;const n=e[Un];if(!n)return Dp(e,(i,s)=>lN(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Mp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Dp(s,(o,A)=>lN(t,n,i,o,A,r,a)),Mp(t,i,!1),r&&t.patches_&&_A("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function lN(t,e,r,n,i,s,a){if(EA(i)){const o=s&&e&&e.type_!==3&&!aB(e.assigned_,n)?s.concat(n):void 0,A=Rp(t,i,o);if(QM(r,n,A),EA(A))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Ms(i)&&!Mv(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Rp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Mp(t,i)}}function Mp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&yE(e,r)}function Nie(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:OM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=wE;r&&(i=[n],s=yf);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var wE={get(t,e){if(e===Un)return t;const r=Do(t);if(!aB(r,e))return Uie(t,r,e);const n=r[e];return t.finalized_||!Ms(n)?n:n===jw(t.base_,e)?(Dw(t),t.copy_[e]=uB(n,t)):n},has(t,e){return e in Do(t)},ownKeys(t){return Reflect.ownKeys(Do(t))},set(t,e,r){const n=jM(Do(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=jw(Do(t),e),s=i==null?void 0:i[Un];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(_ie(r,i)&&(r!==void 0||aB(t.base_,e)))return!0;Dw(t),cB(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Dw(t),cB(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Do(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Bi(11)},getPrototypeOf(t){return Bc(t.base_)},setPrototypeOf(){Bi(12)}},yf={};Dp(wE,(t,e)=>{yf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yf.deleteProperty=function(t,e){return yf.set.call(this,t,e,void 0)};yf.set=function(t,e,r){return wE.set.call(this,t[0],e,r,t[0])};function jw(t,e){const r=t[Un];return(r?Do(r):t)[e]}function Uie(t,e,r){var i;const n=jM(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function jM(t,e){if(!(e in t))return;let r=Bc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bc(r)}}function cB(t){t.modified_||(t.modified_=!0,t.parent_&&cB(t.parent_))}function Dw(t){t.copy_||(t.copy_=oB(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Pie=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(A=s,...l){return a.produce(A,c=>r.call(this,c,...l))}}typeof r!="function"&&Bi(6),n!==void 0&&typeof n!="function"&&Bi(7);let i;if(Ms(e)){const s=oN(this),a=uB(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?AB(s):lB(s)}return aN(s,n),AN(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===PM&&(i=void 0),this.autoFreeze_&&yE(i,!0),n){const s=[],a=[];_A("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else Bi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,A=>e(A,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ms(t)||Bi(8),EA(t)&&(t=Fs(t));const e=oN(this),r=uB(t,void 0);return r[Un].isManual_=!0,lB(e),r}finishDraft(t,e){const r=t&&t[Un];(!r||!r.isManual_)&&Bi(9);const{scope_:n}=r;return aN(n,e),AN(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=_A("Patches").applyPatches_;return EA(t)?n(t,e):this.produce(t,i=>n(i,e))}};function uB(t,e){const r=Dv(t)?_A("MapSet").proxyMap_(t,e):Rv(t)?_A("MapSet").proxySet_(t,e):Nie(t,e);return(e?e.scope_:OM()).drafts_.push(r),r}function Fs(t){return EA(t)||Bi(10,t),DM(t)}function DM(t){if(!Ms(t)||Mv(t))return t;const e=t[Un];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=oB(t,e.scope_.immer_.useStrictShallowCopy_)}else r=oB(t,!0);return Dp(r,(n,i)=>{QM(r,n,DM(i))}),e&&(e.finalized_=!1),r}var Pn=new Pie,RM=Pn.produce;Pn.produceWithPatches.bind(Pn);Pn.setAutoFreeze.bind(Pn);Pn.setUseStrictShallowCopy.bind(Pn);Pn.applyPatches.bind(Pn);Pn.createDraft.bind(Pn);Pn.finishDraft.bind(Pn);function MM(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var kie=MM(),Qie=MM,Oie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jp:jp.apply(null,arguments)};function ci(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Sn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>UM(n)&&n.type===t,r}var LM=class od extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,od.prototype)}static get[Symbol.species](){return od}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new od(...e[0].concat(this)):new od(...e.concat(this))}};function cN(t){return Ms(t)?RM(t,()=>{}):t}function Ug(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function jie(t){return typeof t=="boolean"}var Die=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new LM;return r&&(jie(r)?a.push(kie):a.push(Qie(r.extraArgument))),a},Rie="RTK_autoBatch",uN=t=>e=>{setTimeout(e,t)},Mie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,A=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uN(10):t.type==="callback"?t.queueNotification:uN(t.timeout),l=()=>{a=!1,s&&(s=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),f=n.subscribe(d);return o.add(c),()=>{f(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[Rie]),s=!i,s&&(a||(a=!0,A(l))),n.dispatch(c)}finally{i=!0}}})},Lie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new LM(t);return n&&i.push(Mie(typeof n=="object"?n:void 0)),i};function Hie(t){const e=Die(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:o=void 0}=t;let A;if(typeof r=="function")A=r;else if(vE(r))A=NM(r);else throw new Error(Sn(1));let l;typeof n=="function"?l=n(e):l=e();let c=jp;i&&(c=Oie({trace:!1,...typeof i=="object"&&i}));const d=Cie(...l),f=Lie(d);let g=typeof o=="function"?o(f):f();const m=c(...g);return FM(A,a,m)}function HM(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Sn(28));if(o in e)throw new Error(Sn(29));return e[o]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function Vie(t){return typeof t=="function"}function Kie(t,e){let[r,n,i]=HM(e),s;if(Vie(t))s=()=>cN(t());else{const o=cN(t);s=()=>o}function a(o=s(),A){let l=[r[A.type],...n.filter(({matcher:c})=>c(A)).map(({reducer:c})=>c)];return l.filter(c=>!!c).length===0&&(l=[i]),l.reduce((c,d)=>{if(d)if(EA(c)){const g=d(c,A);return g===void 0?c:g}else{if(Ms(c))return RM(c,f=>d(f,A));{const f=d(c,A);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},o)}return a.getInitialState=s,a}var $ie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Gie=(t=21)=>{let e="",r=t;for(;r--;)e+=$ie[Math.random()*64|0];return e},Wie=Symbol.for("rtk-slice-createasyncthunk");function zie(t,e){return`${t}/${e}`}function Yie({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[Wie];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Sn(11));const o=(typeof i.reducers=="function"?i.reducers(qie()):i.reducers)||{},A=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(S,T){const I=typeof S=="string"?S:S.type;if(!I)throw new Error(Sn(12));if(I in l.sliceCaseReducersByType)throw new Error(Sn(13));return l.sliceCaseReducersByType[I]=T,c},addMatcher(S,T){return l.sliceMatchers.push({matcher:S,reducer:T}),c},exposeAction(S,T){return l.actionCreators[S]=T,c},exposeCaseReducer(S,T){return l.sliceCaseReducersByName[S]=T,c}};A.forEach(S=>{const T=o[S],I={reducerName:S,type:zie(s,S),createNotation:typeof i.reducers=="function"};Zie(T)?tse(I,T,c,e):Jie(I,T,c)});function d(){const[S={},T=[],I=void 0]=typeof i.extraReducers=="function"?HM(i.extraReducers):[i.extraReducers],C={...S,...l.sliceCaseReducersByType};return Kie(i.initialState,E=>{for(let F in C)E.addCase(F,C[F]);for(let F of l.sliceMatchers)E.addMatcher(F.matcher,F.reducer);for(let F of T)E.addMatcher(F.matcher,F.reducer);I&&E.addDefaultCase(I)})}const f=S=>S,g=new Map,m=new WeakMap;let p;function y(S,T){return p||(p=d()),p(S,T)}function w(){return p||(p=d()),p.getInitialState()}function v(S,T=!1){function I(E){let F=E[S];return typeof F>"u"&&T&&(F=Ug(m,I,w)),F}function C(E=f){const F=Ug(g,T,()=>new WeakMap);return Ug(F,E,()=>{const N={};for(const[k,Q]of Object.entries(i.selectors??{}))N[k]=Xie(Q,E,()=>Ug(m,E,w),T);return N})}return{reducerPath:S,getSelectors:C,get selectors(){return C(I)},selectSlice:I}}const x={name:s,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:w,...v(a),injectInto(S,{reducerPath:T,...I}={}){const C=T??a;return S.inject({reducerPath:C,reducer:y},I),{...x,...v(C,!0)}}};return x}}function Xie(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var jn=Yie();function qie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function Jie({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!ese(n))throw new Error(Sn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ci(t,a):ci(t))}function Zie(t){return t._reducerDefinitionType==="asyncThunk"}function ese(t){return t._reducerDefinitionType==="reducerWithPrepare"}function tse({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Sn(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:A,settled:l,options:c}=r,d=i(t,s,c);n.exposeAction(e,d),a&&n.addCase(d.fulfilled,a),o&&n.addCase(d.pending,o),A&&n.addCase(d.rejected,A),l&&n.addMatcher(d.settled,l),n.exposeCaseReducer(e,{fulfilled:a||Pg,pending:o||Pg,rejected:A||Pg,settled:l||Pg})}function Pg(){}var rse="task",VM="listener",KM="completed",xE="cancelled",nse=`task-${xE}`,ise=`task-${KM}`,dB=`${VM}-${xE}`,sse=`${VM}-${KM}`,Lv=class{constructor(t){By(this,"name","TaskAbortError");By(this,"message");this.code=t,this.message=`${rse} ${xE} (reason: ${t})`}},bE=(t,e)=>{if(typeof t!="function")throw new TypeError(Sn(32))},Lp=()=>{},$M=(t,e=Lp)=>(t.catch(e),t),GM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),AA=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},lA=t=>{if(t.aborted){const{reason:e}=t;throw new Lv(e)}};function WM(t,e){let r=Lp;return new Promise((n,i)=>{const s=()=>i(new Lv(t.reason));if(t.aborted){s();return}r=GM(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Lp})}var ase=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Lv?"cancelled":"rejected",error:r}}finally{e==null||e()}},Hp=t=>e=>$M(WM(t,e).then(r=>(lA(t),r))),zM=t=>{const e=Hp(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Yl}=Object,dN={},Hv="listenerMiddleware",ose=(t,e)=>{const r=n=>GM(t,()=>AA(n,t.reason));return(n,i)=>{bE(n);const s=new AbortController;r(s);const a=ase(async()=>{lA(t),lA(s.signal);const o=await n({pause:Hp(s.signal),delay:zM(s.signal),signal:s.signal});return lA(s.signal),o},()=>AA(s,ise));return i!=null&&i.autoJoin&&e.push(a.catch(Lp)),{result:Hp(t)(a),cancel(){AA(s,nse)}}}},Ase=(t,e)=>{const r=async(n,i)=>{lA(e);let s=()=>{};const o=[new Promise((A,l)=>{let c=t({predicate:n,effect:(d,f)=>{f.unsubscribe(),A([d,f.getState(),f.getOriginalState()])}});s=()=>{c(),l()}})];i!=null&&o.push(new Promise(A=>setTimeout(A,i,null)));try{const A=await WM(e,Promise.race(o));return lA(e),A}finally{s()}};return(n,i)=>$M(r(n,i))},YM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ci(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Sn(21));return bE(s),{predicate:i,type:e,effect:s}},XM=Yl(t=>{const{type:e,predicate:r,effect:n}=YM(t);return{id:Gie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sn(22))}}},{withTypes:()=>XM}),fN=(t,e)=>{const{type:r,effect:n,predicate:i}=YM(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},fB=t=>{t.pending.forEach(e=>{AA(e,dB)})},lse=t=>()=>{t.forEach(fB),t.clear()},hN=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},qM=Yl(ci(`${Hv}/add`),{withTypes:()=>qM}),cse=ci(`${Hv}/removeAll`),JM=Yl(ci(`${Hv}/remove`),{withTypes:()=>JM}),use=(...t)=>{console.error(`${Hv}/error`,...t)},Zf=(t={})=>{const e=new Map,{extra:r,onError:n=use}=t;bE(n);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&fB(c)}),s=c=>{const d=fN(e,c)??XM(c);return i(d)};Yl(s,{withTypes:()=>s});const a=c=>{const d=fN(e,c);return d&&(d.unsubscribe(),c.cancelActive&&fB(d)),!!d};Yl(a,{withTypes:()=>a});const o=async(c,d,f,g)=>{const m=new AbortController,p=Ase(s,m.signal),y=[];try{c.pending.add(m),await Promise.resolve(c.effect(d,Yl({},f,{getOriginalState:g,condition:(w,v)=>p(w,v).then(Boolean),take:p,delay:zM(m.signal),pause:Hp(m.signal),extra:r,signal:m.signal,fork:ose(m.signal,y),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((w,v,x)=>{w!==m&&(AA(w,dB),x.delete(w))})},cancel:()=>{AA(m,dB),c.pending.delete(m)},throwIfCancelled:()=>{lA(m.signal)}})))}catch(w){w instanceof Lv||hN(n,w,{raisedBy:"effect"})}finally{await Promise.all(y),AA(m,sse),c.pending.delete(m)}},A=lse(e);return{middleware:c=>d=>f=>{if(!UM(f))return d(f);if(qM.match(f))return s(f.payload);if(cse.match(f)){A();return}if(JM.match(f))return a(f.payload);let g=c.getState();const m=()=>{if(g===dN)throw new Error(Sn(23));return g};let p;try{if(p=d(f),e.size>0){const y=c.getState(),w=Array.from(e.values());for(const v of w){let x=!1;try{x=v.predicate(f,y,g)}catch(S){x=!1,hN(n,S,{raisedBy:"predicate"})}x&&o(v,f,c,m)}}}finally{g=dN}return p},startListening:s,stopListening:a,clearListeners:A}};function Sn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dse={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZM=jn({name:"chartLayout",initialState:dse,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:fse,setLayout:hse,setChartSize:gse,setScale:mse}=ZM.actions,pse=ZM.reducer;function gN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(r),!0).forEach(function(n){vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vse(t,e,r){return(e=yse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vp=Math.PI/180,xse=t=>t*180/Math.PI,zt=(t,e,r,n)=>({x:t+Math.cos(-Vp*n)*r,y:e+Math.sin(-Vp*n)*r}),eL=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bse=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},Bse=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=bse({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,A=Math.acos(o);return n>s&&(A=2*Math.PI-A),{radius:a,angle:xse(A),angleInRadian:A}},Cse=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},Ese=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},_se=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=Bse({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:A,endAngle:l}=Cse(e),c=s,d;if(A<=l){for(;c>l;)c-=360;for(;c<A;)c+=360;d=c>=A&&c<=l}else{for(;c>A;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=A}return d?mN(mN({},e),{},{radius:i,angle:Ese(c,e)}):null},Xve=t=>!b.isValidElement(t)&&typeof t!="function"&&typeof t!="boolean"&&t!=null?t.className:"";function tL(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function pN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pN(Object(r),!0).forEach(function(n){Ise(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ise(t,e,r){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sse(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function it(t,e,r){return ht(t)||ht(e)?r:zi(e)?ro(t,e,r):typeof e=="function"?e(t):r}var Fse=(t,e,r,n,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var A=0;A<o;A++){var l=A>0?r[A-1].coordinate:r[o-1].coordinate,c=r[A].coordinate,d=A>=o-1?r[0].coordinate:r[A+1].coordinate,f=void 0;if(hr(c-l)!==hr(d-c)){var g=[];if(hr(d-c)===hr(i[1]-i[0])){f=d;var m=c+i[1]-i[0];g[0]=Math.min(m,(m+l)/2),g[1]=Math.max(m,(m+l)/2)}else{f=l;var p=d+i[1]-i[0];g[0]=Math.min(c,(p+c)/2),g[1]=Math.max(c,(p+c)/2)}var y=[Math.min(c,(f+c)/2),Math.max(c,(f+c)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){({index:a}=r[A]);break}}else{var w=Math.min(l,d),v=Math.max(l,d);if(t>(w+c)/2&&t<=(v+c)/2){({index:a}=r[A]);break}}}else if(e){for(var x=0;x<o;x++)if(x===0&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x>0&&x<o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2&&t<=(e[x].coordinate+e[x+1].coordinate)/2||x===o-1&&t>(e[x].coordinate+e[x-1].coordinate)/2){({index:a}=e[x]);break}}return a},Nse=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&he(t[s]))return Yn(Yn({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&he(t[a]))return Yn(Yn({},t),{},{[a]:t[a]+(i||0)})}return t},go=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",rL=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},nL=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:A,categoricalDomain:l,tickCount:c,ticks:d,niceTicks:f,axisType:g}=t;if(!a)return null;var m=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,p=i==="category"&&a.bandwidth?a.bandwidth()/m:0;if(p=g==="angleAxis"&&s&&s.length>=2?hr(s[0]-s[1])*2*p:p,d||f){var y=(d||f||[]).map((w,v)=>{var x=n?n.indexOf(w):w;return{coordinate:a(x)+p,value:w,offset:p,index:v}});return y.filter(w=>!Nn(w.coordinate))}return A&&l?l.map((w,v)=>({coordinate:a(w)+p,value:w,index:v,offset:p})):a.ticks&&c!=null?a.ticks(c).map((w,v)=>({coordinate:a(w)+p,value:w,offset:p,index:v})):a.domain().map((w,v)=>({coordinate:a(w)+p,value:n?n[w]:w,index:v,offset:p}))},vN=1e-4,Use=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-vN,s=Math.max(n[0],n[1])+vN,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},Pse=(t,e)=>{if(!e||e.length!==2||!he(e[0])||!he(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(i[0]=r),(!he(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},kse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var o=Nn(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=i,t[a][r][1]=i+o,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1])}},Qse=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=Nn(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},Ose={sign:kse,expand:wne,none:xc,silhouette:xne,wiggle:bne,positive:Qse},jse=(t,e,r)=>{var n=Ose[r],i=yne().keys(e).value((s,a)=>+it(s,a,0)).order(nB).offset(n);return i(t)};function Dse(t){return t==null?void 0:String(t)}function yN(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ht(i[e.dataKey])){var o=kR(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var A=it(i,ht(a)?e.dataKey:a);return ht(A)?null:e.scale(A)}var wN=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var o=it(s,e.dataKey,e.scale.domain()[a]);return ht(o)?null:e.scale(o)-i/2+n},Rse=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Mse=t=>{var e=t.flat(2).filter(he);return[Math.min(...e),Math.max(...e)]},Lse=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Hse=(t,e,r)=>{if(t!=null)return Lse(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((A,l)=>{var c=tL(l,e,r),d=Mse(c);return[Math.min(A[0],d[0]),Math.max(A[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},xN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wf=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Ov(e,c=>c.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var A=i[a],l=i[a-1];s=Math.min((A.coordinate||0)-(l.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function BN(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Yn(Yn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Kc(t,e){if(t)return String(t);if(typeof e=="string")return e}function Vse(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?_se({x:t,y:e},n):null}var Kse=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Yn(Yn(Yn({},n),zt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:A}=n;return Yn(Yn(Yn({},n),zt(n.cx,n.cy,o,A)),{},{angle:A,radius:o})}return{x:0,y:0}},$se=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ys=t=>t.layout.width,Xs=t=>t.layout.height,Gse=t=>t.layout.scale,iL=t=>t.layout.margin,BE=G(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),CE=G(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),sL="data-recharts-item-index",aL="data-recharts-item-data-key",Vv=60;function CN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(r),!0).forEach(function(n){Wse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wse(t,e,r){return(e=zse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zse(t){var e=Yse(t,"string");return typeof e=="symbol"?e:e+""}function Yse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xse=t=>t.brush.height,rr=G([Ys,Xs,iL,Xse,BE,CE,SM,pie],(t,e,r,n,i,s,a,o)=>{var A=s.reduce((m,p)=>{var{orientation:y}=p;if(!p.mirror&&!p.hide){var w=typeof p.width=="number"?p.width:Vv;return la(la({},m),{},{[y]:m[y]+w})}return m},{left:r.left||0,right:r.right||0}),l=i.reduce((m,p)=>{var{orientation:y}=p;return!p.mirror&&!p.hide?la(la({},m),{},{[y]:ro(m,"".concat(y))+p.height}):m},{top:r.top||0,bottom:r.bottom||0}),c=la(la({},l),A),d=c.bottom;c.bottom+=n,c=Nse(c,a,o);var f=t-c.left-c.right,g=e-c.top-c.bottom;return la(la({brushBottom:d},c),{},{width:Math.max(f,0),height:Math.max(g,0)})}),qse=G(rr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),oL=G(Ys,Xs,(t,e)=>({x:0,y:0,width:t,height:e})),Jse=b.createContext(null),fn=()=>b.useContext(Jse)!=null,Kv=t=>t.brush,$v=G([Kv,rr,iL],(t,e,r)=>({height:t.height,x:he(t.x)?t.x:e.left,y:he(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:he(t.width)?t.width:e.width})),EE=()=>{var t,e=fn(),r=we(qse),n=we($v),i=(t=we(Kv))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},Zse={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},AL=()=>{var t;return(t=we(rr))!==null&&t!==void 0?t:Zse},_E=()=>we(Ys),IE=()=>we(Xs),eae={top:0,right:0,bottom:0,left:0},tae=()=>{var t;return(t=we(e=>e.layout.margin))!==null&&t!==void 0?t:eae},Ve=t=>t.layout.layoutType,Gv=()=>we(Ve),rae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lL=jn({name:"legend",initialState:rae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Fs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:EN,setLegendSettings:nae,addLegendPayload:cL,removeLegendPayload:uL}=lL.actions,iae=lL.reducer,sae=["contextPayload"];function hB(){return hB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hB.apply(null,arguments)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){SE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SE(t,e,r){return(e=aae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aae(t){var e=oae(t,"string");return typeof e=="symbol"?e:e+""}function oae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aae(t,e){if(t==null)return{};var r,n,i=lae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cae(t){return t.value}function uae(t){var{contextPayload:e}=t,r=Aae(t,sae),n=pM(e,t.payloadUniqBy,cae),i=Cc(Cc({},r),{},{payload:n});return b.isValidElement(t.content)?b.cloneElement(t.content,i):typeof t.content=="function"?b.createElement(t.content,i):b.createElement(oE,i)}function dae(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:A}=e,l,c;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?l={left:((n||0)-s.width)/2}:l=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(A==="middle"?c={top:((i||0)-s.height)/2}:c=A==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Cc(Cc({},l),c)}function fae(t){var e=Nt();return b.useEffect(()=>{e(nae(t))},[e,t]),null}function hae(t){var e=Nt();return b.useEffect(()=>(e(EN(t)),()=>{e(EN({width:0,height:0}))}),[e,t]),null}function gae(t){var e=wie(),r=Vre(),n=tae(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[A,l]=TM([e]),c=_E(),d=IE(),f=c-(n.left||0)-(n.right||0),g=xf.getWidthOrHeight(t.layout,s,i,f),m=o?a:Cc(Cc({position:"absolute",width:(g==null?void 0:g.width)||i||"auto",height:(g==null?void 0:g.height)||s||"auto"},dae(a,t,n,c,d,A)),a),p=o??r;if(p==null)return null;var y=b.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:l},b.createElement(fae,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),b.createElement(hae,{width:A.width,height:A.height}),b.createElement(uae,hB({},t,g,{margin:n,chartWidth:c,chartHeight:d,contextPayload:e})));return LC.createPortal(y,p)}class xf extends b.PureComponent{static getWidthOrHeight(e,r,n,i){return e==="vertical"&&he(r)?{height:r}:e==="horizontal"?{width:n||i}:null}render(){return b.createElement(gae,this.props)}}SE(xf,"displayName","Legend");SE(xf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function gB(){return gB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gB.apply(null,arguments)}function IN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(r),!0).forEach(function(n){mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mae(t,e,r){return(e=pae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yae(t){return Array.isArray(t)&&zi(t[0])&&zi(t[1])?t.join(" ~ "):t}var wae=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:A,labelClassName:l,label:c,labelFormatter:d,accessibilityLayer:f=!1}=t,g=()=>{if(s&&s.length){var T={padding:0,margin:0},I=(o?Ov(s,o):s).map((C,E)=>{if(C.type==="none")return null;var F=C.formatter||a||yae,{value:N,name:k}=C,Q=N,P=k;{var oe=F(N,k,C,E,s);if(Array.isArray(oe))[Q,P]=oe;else if(oe!=null)Q=oe;else return null}var Ce=Rw({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:Ce},zi(P)?b.createElement("span",{className:"recharts-tooltip-item-name"},P):null,zi(P)?b.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,b.createElement("span",{className:"recharts-tooltip-item-value"},Q),b.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:T},I)}return null},m=Rw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=Rw({margin:0},i),y=!ht(c),w=y?c:"",v=Ge("recharts-default-tooltip",A),x=Ge("recharts-tooltip-label",l);y&&d&&s!==void 0&&s!==null&&(w=d(c,s));var S=f?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",gB({className:v,style:m},S),b.createElement("p",{className:x,style:p},b.isValidElement(w)?w:"".concat(w)),g())},ku="recharts-tooltip-wrapper",xae={visibility:"hidden"};function bae(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ge(ku,{["".concat(ku,"-right")]:he(r)&&e&&he(e.x)&&r>=e.x,["".concat(ku,"-left")]:he(r)&&e&&he(e.x)&&r<e.x,["".concat(ku,"-bottom")]:he(n)&&e&&he(e.y)&&n>=e.y,["".concat(ku,"-top")]:he(n)&&e&&he(e.y)&&n<e.y})}function SN(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:A,viewBoxDimension:l}=t;if(s&&he(s[n]))return s[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(e[n])return a[n]?c:d;var f=A[n];if(f==null)return 0;if(a[n]){var g=c,m=f;return g<m?Math.max(d,f):Math.max(c,f)}if(l==null)return 0;var p=d+o,y=f+l;return p>y?Math.max(c,f):Math.max(d,f)}function Bae(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Cae(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:A}=t,l,c,d;return a.height>0&&a.width>0&&r?(c=SN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:A,viewBoxDimension:A.width}),d=SN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:A,viewBoxDimension:A.height}),l=Bae({translateX:c,translateY:d,useTranslate3d:o})):l=xae,{cssProperties:l,cssClasses:bae({translateX:c,translateY:d,coordinate:r})}}function TN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(r),!0).forEach(function(n){mB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mB(t,e,r){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eae(t){var e=_ae(t,"string");return typeof e=="symbol"?e:e+""}function _ae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Iae extends b.PureComponent{constructor(){super(...arguments),mB(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mB(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:A,offset:l,position:c,reverseDirection:d,useTranslate3d:f,viewBox:g,wrapperStyle:m,lastBoundingBox:p,innerRef:y,hasPortalFromProps:w}=this.props,{cssClasses:v,cssProperties:x}=Cae({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:f,viewBox:g}),S=w?{}:kg(kg({transition:A&&e?"transform ".concat(n,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=kg(kg({},S),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},m);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:T,ref:y},s)}}var Sae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),jA={isSsr:Sae()},dL=()=>we(t=>t.rootProps.accessibilityLayer);function kn(t){return Number.isFinite(t)}function Ec(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function pB(){return pB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pB.apply(null,arguments)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){Tae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tae(t,e,r){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fae(t){var e=Nae(t,"string");return typeof e=="symbol"?e:e+""}function Nae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UN={curveBasisClosed:Ane,curveBasisOpen:lne,curveBasis:one,curveBumpX:Wre,curveBumpY:zre,curveLinearClosed:cne,curveLinear:Tv,curveMonotoneX:une,curveMonotoneY:dne,curveNatural:fne,curveStep:hne,curveStepAfter:mne,curveStepBefore:gne},Qg=t=>kn(t.x)&&kn(t.y),Qu=t=>t.x,Ou=t=>t.y,Uae=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Xf(t));return(r==="curveMonotone"||r==="curveBump")&&e?UN["".concat(r).concat(e==="vertical"?"Y":"X")]:UN[r]||Tv},Pae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=Uae(e,i),o=s?r.filter(Qg):r,A;if(Array.isArray(n)){var l=s?n.filter(d=>Qg(d)):n,c=o.map((d,f)=>NN(NN({},d),{},{base:l[f]}));return i==="vertical"?A=Tg().y(Ou).x1(Qu).x0(d=>d.base.x):A=Tg().x(Qu).y1(Ou).y0(d=>d.base.y),A.defined(Qg).curve(a),A(c)}return i==="vertical"&&he(n)?A=Tg().y(Ou).x1(Qu).x0(n):he(n)?A=Tg().x(Qu).y1(Ou).y0(n):A=KR().x(Qu).y(Ou),A.defined(Qg).curve(a),A(o)},TE=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Pae(t):n;return b.createElement("path",pB({},zs(t),eE(t),{className:Ge("recharts-curve",e),d:s===null?void 0:s,ref:i}))},kae=["x","y","top","left","width","height","className"];function vB(){return vB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vB.apply(null,arguments)}function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){Oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t,e,r){return(e=jae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jae(t){var e=Dae(t,"string");return typeof e=="symbol"?e:e+""}function Dae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rae(t,e){if(t==null)return{};var r,n,i=Mae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Mae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Lae=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),Hae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,A=Rae(t,kae),l=Qae({x:e,y:r,top:n,left:i,width:s,height:a},A);return!he(e)||!he(r)||!he(s)||!he(a)||!he(n)||!he(i)?null:b.createElement("path",vB({},yt(l,!0),{className:Ge("recharts-cross",o),d:Lae(e,r,s,a,n,i)}))};function Vae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){$ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ae(t,e,r){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e){var r=Kae({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}var fL={},hL={},gL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(gL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL,r=fE,n=Pv,i=kv,s=Uv;function a(l,c,d){return o(l,c,void 0,void 0,void 0,void 0,d)}function o(l,c,d,f,g,m,p){const y=p(l,c,d,f,g,m);if(y!==void 0)return y;if(typeof l==typeof c)switch(typeof l){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return l===c;case"number":return l===c||Object.is(l,c);case"function":return l===c;case"object":return A(l,c,m,p)}return A(l,c,m,p)}function A(l,c,d,f){if(Object.is(l,c))return!0;let g=n.getTag(l),m=n.getTag(c);if(g===i.argumentsTag&&(g=i.objectTag),m===i.argumentsTag&&(m=i.objectTag),g!==m)return!1;switch(g){case i.stringTag:return l.toString()===c.toString();case i.numberTag:{const w=l.valueOf(),v=c.valueOf();return s.eq(w,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(l.valueOf(),c.valueOf());case i.regexpTag:return l.source===c.source&&l.flags===c.flags;case i.functionTag:return l===c}d=d??new Map;const p=d.get(l),y=d.get(c);if(p!=null&&y!=null)return p===c;d.set(l,c),d.set(c,l);try{switch(g){case i.mapTag:{if(l.size!==c.size)return!1;for(const[w,v]of l.entries())if(!c.has(w)||!o(v,c.get(w),w,l,c,d,f))return!1;return!0}case i.setTag:{if(l.size!==c.size)return!1;const w=Array.from(l.values()),v=Array.from(c.values());for(let x=0;x<w.length;x++){const S=w[x],T=v.findIndex(I=>o(S,I,void 0,l,c,d,f));if(T===-1)return!1;v.splice(T,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(l)!==Buffer.isBuffer(c)||l.length!==c.length)return!1;for(let w=0;w<l.length;w++)if(!o(l[w],c[w],w,l,c,d,f))return!1;return!0}case i.arrayBufferTag:return l.byteLength!==c.byteLength?!1:A(new Uint8Array(l),new Uint8Array(c),d,f);case i.dataViewTag:return l.byteLength!==c.byteLength||l.byteOffset!==c.byteOffset?!1:A(new Uint8Array(l),new Uint8Array(c),d,f);case i.errorTag:return l.name===c.name&&l.message===c.message;case i.objectTag:{if(!(A(l.constructor,c.constructor,d,f)||e.isPlainObject(l)&&e.isPlainObject(c)))return!1;const v=[...Object.keys(l),...r.getSymbols(l)],x=[...Object.keys(c),...r.getSymbols(c)];if(v.length!==x.length)return!1;for(let S=0;S<v.length;S++){const T=v[S],I=l[T];if(!Object.hasOwn(c,T))return!1;const C=c[T];if(!o(I,C,T,l,c,d,f))return!1}return!0}default:return!1}}finally{d.delete(l),d.delete(c)}}t.isEqualWith=a})(hL);var mL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(mL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hL,r=mL;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(fL);var zae=fL.isEqual;const Yae=Xi(zae);var Kp=1e-4,pL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],vL=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),QN=(t,e)=>r=>{var n=pL(t,e);return vL(n,r)},Xae=(t,e)=>r=>{var n=pL(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return vL(i,r)},ON=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var A=a[0].split("(");A[0]==="cubic-bezier"&&A[1].split(")")[0].split(",").length===4&&([e,n,r,i]=A[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else a.length===4&&([e,n,r,i]=a);var l=QN(e,r),c=QN(n,i),d=Xae(e,r),f=m=>m>1?1:m<0?0:m,g=m=>{for(var p=m>1?1:m,y=p,w=0;w<8;++w){var v=l(y)-p,x=d(y);if(Math.abs(v-p)<Kp||x<Kp)return c(y);y=f(y-v/x)}return c(y)};return g.isStepper=!1,g},qae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,A)=>{var l=-(a-o)*r,c=A*n,d=A+(l-c)*i/1e3,f=A*i/1e3+a;return Math.abs(f-o)<Kp&&Math.abs(d)<Kp?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},yL=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ON(t);case"spring":return qae();default:if(t.split("(")[0]==="cubic-bezier")return ON(t)}return typeof t=="function"?t:null};function jN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(r),!0).forEach(function(n){Jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jae(t,e,r){return(e=Zae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zae(t){var e=eoe(t,"string");return typeof e=="symbol"?e:e+""}function eoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),roe=(t,e,r)=>t.map(n=>"".concat(toe(n)," ").concat(e,"ms ").concat(r)).join(","),noe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),bf=(t,e)=>Object.keys(e).reduce((r,n)=>DN(DN({},r),{},{[n]:t(n,e[n])}),{});function RN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(r),!0).forEach(function(n){ioe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ioe(t,e,r){return(e=soe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function soe(t){var e=aoe(t,"string");return typeof e=="symbol"?e:e+""}function aoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $p=(t,e,r)=>t+(e-t)*r,yB=t=>{var{from:e,to:r}=t;return e!==r},wL=(t,e,r)=>{var n=bf((i,s)=>{if(yB(s)){var[a,o]=t(s.from,s.to,s.velocity);return Cr(Cr({},s),{},{from:a,velocity:o})}return s},e);return r<1?bf((i,s)=>yB(s)?Cr(Cr({},s),{},{velocity:$p(s.velocity,n[i].velocity,r),from:$p(s.from,n[i].from,r)}):s,e):wL(t,n,r-1)};function ooe(t,e,r,n,i,s){var a,o=n.reduce((f,g)=>Cr(Cr({},f),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),A=()=>bf((f,g)=>g.from,o),l=()=>!Object.values(o).filter(yB).length,c=null,d=f=>{a||(a=f);var g=f-a,m=g/r.dt;o=wL(r,o,m),i(Cr(Cr(Cr({},t),e),A())),a=f,l()||(c=s.setTimeout(d))};return()=>(c=s.setTimeout(d),()=>{c()})}function Aoe(t,e,r,n,i,s,a){var o=null,A=i.reduce((d,f)=>Cr(Cr({},d),{},{[f]:[t[f],e[f]]}),{}),l,c=d=>{l||(l=d);var f=(d-l)/n,g=bf((p,y)=>$p(...y,r(f)),A);if(s(Cr(Cr(Cr({},t),e),g)),f<1)o=a.setTimeout(c);else{var m=bf((p,y)=>$p(...y,r(1)),A);s(Cr(Cr(Cr({},t),e),m))}};return()=>(o=a.setTimeout(c),()=>{o()})}const xL=(t,e,r,n,i,s)=>{var a=noe(t,e);return r.isStepper===!0?ooe(t,e,r,a,i,s):Aoe(t,e,r,n,a,i,s)};function loe(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[A,...l]=o;if(typeof A=="number"){i=t.setTimeout(s.bind(null,l),A);return}s(A),i=t.setTimeout(s.bind(null,l));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class coe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function uoe(){return loe(new coe)}var doe=b.createContext(uoe);function bL(t,e){var r=b.useContext(doe);return b.useMemo(()=>e??r(t),[t,e,r])}var foe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function wB(){return wB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wB.apply(null,arguments)}function hoe(t,e){if(t==null)return{};var r,n,i=goe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function goe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jo(t,e,r){return(e=moe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function moe(t){var e=poe(t,"string");return typeof e=="symbol"?e:e+""}function poe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FE extends b.PureComponent{constructor(e,r){super(e,r),Jo(this,"mounted",!1),Jo(this,"manager",void 0),Jo(this,"stopJSAnimation",null),Jo(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:o,duration:A,animationManager:l}=this.props;if(this.manager=l,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||A<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:A}=this.state;if(n){if(!r){var l={style:i?{[i]:a}:a};this.state&&A&&(i&&A[i]!==a||!i&&A!==a)&&this.setState(l);return}if(!(Yae(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&A){var f={style:i?{[i]:d}:d};(i&&A[i]!==d||!i&&A!==d)&&this.setState(f)}this.runAnimation(ca(ca({},this.props),{},{from:d,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A}=e,l=xL(r,n,yL(s),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=l()};this.manager.start([A,a,c,i,o])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:A,children:l}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof l=="function"||a==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:s}:s,d=roe(Object.keys(c),n,a);this.manager.start([o,r,ca(ca({},c),{},{transition:d}),n,A])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:o,from:A,to:l,canBegin:c,onAnimationEnd:d,shouldReAnimate:f,onAnimationReStart:g,animationManager:m}=e,p=hoe(e,foe),y=b.Children.count(r),w=this.state.style;if(typeof r=="function")return r(w);if(!o||y===0||i<=0)return r;var v=x=>{var{style:S={},className:T}=x.props,I=b.cloneElement(x,ca(ca({},p),{},{style:ca(ca({},S),w),className:T}));return I};return y===1?v(b.Children.only(r)):b.createElement("div",null,b.Children.map(r,x=>v(x)))}}Jo(FE,"displayName","Animate");Jo(FE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Gp(t){var e,r=bL((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return b.createElement(FE,wB({},t,{animationManager:r}))}function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wp.apply(null,arguments)}var LN=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,o=r>=0?1:-1,A=n>=0&&r>=0||n<0&&r<0?1:0,l;if(s>0&&i instanceof Array){for(var c=[0,0,0,0],d=0,f=4;d<f;d++)c[d]=i[d]>s?s:i[d];l="M".concat(t,",").concat(e+a*c[0]),c[0]>0&&(l+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(A,",").concat(t+o*c[0],",").concat(e)),l+="L ".concat(t+r-o*c[1],",").concat(e),c[1]>0&&(l+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(A,`,
        `).concat(t+r,",").concat(e+a*c[1])),l+="L ".concat(t+r,",").concat(e+n-a*c[2]),c[2]>0&&(l+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(A,`,
        `).concat(t+r-o*c[2],",").concat(e+n)),l+="L ".concat(t+o*c[3],",").concat(e+n),c[3]>0&&(l+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(e+n-a*c[3])),l+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);l="M ".concat(t,",").concat(e+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+o*g,",").concat(e,`
            L `).concat(t+r-o*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r,",").concat(e+a*g,`
            L `).concat(t+r,",").concat(e+n-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t+r-o*g,",").concat(e+n,`
            L `).concat(t+o*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(A,",").concat(t,",").concat(e+n-a*g," Z")}else l="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return l},voe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BL=t=>{var e=Dn(t,voe),r=b.useRef(null),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,width:o,height:A,radius:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isAnimationActive:m,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||o===0||A===0)return null;var y=Ge("recharts-rectangle",c);return p?b.createElement(Gp,{canBegin:n>0,from:{width:o,height:A,x:s,y:a},to:{width:o,height:A,x:s,y:a},duration:f,animationEasing:d,isActive:p},w=>{var{width:v,height:x,x:S,y:T}=w;return b.createElement(Gp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,isActive:m,easing:d},b.createElement("path",Wp({},yt(e,!0),{className:y,d:LN(S,T,v,x,l),ref:r})))}):b.createElement("path",Wp({},yt(e,!0),{className:y,d:LN(s,a,o,A,l)}))};function CL(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=zt(e,r,n,i),o=zt(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xB.apply(null,arguments)}var yoe=(t,e)=>{var r=hr(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Og=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:A}=t,l=o*(a?1:-1)+n,c=Math.asin(o/l)/Vp,d=A?i:i+s*c,f=zt(e,r,l,d),g=zt(e,r,n,d),m=A?i-s*c:i,p=zt(e,r,l*Math.cos(c*Vp),m);return{center:f,circleTangency:g,lineTangency:p,theta:c}},EL=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=yoe(s,a),A=s+o,l=zt(e,r,i,s),c=zt(e,r,i,A),d="M ".concat(l.x,",").concat(l.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>A),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(n>0){var f=zt(e,r,n,s),g=zt(e,r,n,A);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=A),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(r," Z");return d},woe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:A,endAngle:l}=t,c=hr(l-A),{circleTangency:d,lineTangency:f,theta:g}=Og({cx:e,cy:r,radius:i,angle:A,sign:c,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:p,theta:y}=Og({cx:e,cy:r,radius:i,angle:l,sign:-c,cornerRadius:s,cornerIsExternal:o}),w=o?Math.abs(A-l):Math.abs(A-l)-g-y;if(w<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EL({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:A,endAngle:l});var v="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:S,theta:T}=Og({cx:e,cy:r,radius:n,angle:A,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:I,lineTangency:C,theta:E}=Og({cx:e,cy:r,radius:n,angle:l,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),F=o?Math.abs(A-l):Math.abs(A-l)-T-E;if(F<0&&s===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(c>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},xoe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_L=t=>{var e=Dn(t,xoe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:c,className:d}=e;if(s<i||l===c)return null;var f=Ge("recharts-sector",d),g=s-i,m=qr(a,g,0,!0),p;return m>0&&Math.abs(l-c)<360?p=woe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:o,cornerIsExternal:A,startAngle:l,endAngle:c}):p=EL({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}),b.createElement("path",xB({},yt(e,!0),{className:f,d:p}))};function boe(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:A,innerRadius:l,outerRadius:c,angle:d}=e,f=zt(o,A,l,d),g=zt(o,A,c,d);n=f.x,i=f.y,s=g.x,a=g.y}else return CL(e);return[{x:n,y:i},{x:s,y:a}]}var IL={},SL={},TL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mE;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(TL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TL;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(SL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pE,r=SL;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),A=new Array(o);for(let l=0;l<o;l++)A[l]=i,i+=a;return A}t.range=n})(IL);var Boe=IL.range;const FL=Xi(Boe);function Ka(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Coe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NE(t){let e,r,n;t.length!==2?(e=Ka,r=(o,A)=>Ka(t(o),A),n=(o,A)=>t(o)-A):(e=t===Ka||t===Coe?t:Eoe,r=t,n=t);function i(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const d=l+c>>>1;r(o[d],A)<0?l=d+1:c=d}while(l<c)}return l}function s(o,A,l=0,c=o.length){if(l<c){if(e(A,A)!==0)return c;do{const d=l+c>>>1;r(o[d],A)<=0?l=d+1:c=d}while(l<c)}return l}function a(o,A,l=0,c=o.length){const d=i(o,A,l,c-1);return d>l&&n(o[d-1],A)>-n(o[d],A)?d-1:d}return{left:i,center:a,right:s}}function Eoe(){return 0}function NL(t){return t===null?NaN:+t}function*_oe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Ioe=NE(Ka),eh=Ioe.right;NE(NL).center;class HN extends Map{constructor(e,r=Foe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(VN(this,e))}has(e){return super.has(VN(this,e))}set(e,r){return super.set(Soe(this,e),r)}delete(e){return super.delete(Toe(this,e))}}function VN({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Soe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Toe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Foe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Noe(t=Ka){if(t===Ka)return UL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function UL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Uoe=Math.sqrt(50),Poe=Math.sqrt(10),koe=Math.sqrt(2);function zp(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Uoe?10:s>=Poe?5:s>=koe?2:1;let o,A,l;return i<0?(l=Math.pow(10,-i)/a,o=Math.round(t*l),A=Math.round(e*l),o/l<t&&++o,A/l>e&&--A,l=-l):(l=Math.pow(10,i)*a,o=Math.round(t/l),A=Math.round(e/l),o*l<t&&++o,A*l>e&&--A),A<o&&.5<=r&&r<2?zp(t,e,r*2):[o,A,l]}function bB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?zp(e,t,r):zp(t,e,r);if(!(s>=i))return[];const o=s-i+1,A=new Array(o);if(n)if(a<0)for(let l=0;l<o;++l)A[l]=(s-l)/-a;else for(let l=0;l<o;++l)A[l]=(s-l)*a;else if(a<0)for(let l=0;l<o;++l)A[l]=(i+l)/-a;else for(let l=0;l<o;++l)A[l]=(i+l)*a;return A}function BB(t,e,r){return e=+e,t=+t,r=+r,zp(t,e,r)[2]}function CB(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?BB(e,t,r):BB(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function KN(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function $N(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function PL(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?UL:Noe(i);n>r;){if(n-r>600){const A=n-r+1,l=e-r+1,c=Math.log(A),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(A-d)/A)*(l-A/2<0?-1:1),g=Math.max(r,Math.floor(e-l*d/A+f)),m=Math.min(n,Math.floor(e+(A-l)*d/A+f));PL(t,e,g,m,i)}const s=t[e];let a=r,o=n;for(ju(t,r,e),i(t[n],s)>0&&ju(t,r,n);a<o;){for(ju(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?ju(t,r,o):(++o,ju(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function ju(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Qoe(t,e,r){if(t=Float64Array.from(_oe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return $N(t);if(e>=1)return KN(t);var n,i=(n-1)*e,s=Math.floor(i),a=KN(PL(t,s).subarray(0,s+1)),o=$N(t.subarray(s+1));return a+(o-a)*(i-s)}}function Ooe(t,e,r=NL){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function joe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const EB=Symbol("implicit");function UE(){var t=new HN,e=[],r=[],n=EB;function i(s){let a=t.get(s);if(a===void 0){if(n!==EB)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new HN;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return UE(e,r).unknown(n)},fi.apply(i,arguments),i}function PE(){var t=UE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,A=0,l=0,c=.5;delete t.unknown;function d(){var f=e().length,g=i<n,m=g?i:n,p=g?n:i;s=(p-m)/Math.max(1,f-A+l*2),o&&(s=Math.floor(s)),m+=(p-m-s*(f-A))*c,a=s*(1-A),o&&(m=Math.round(m),a=Math.round(a));var y=joe(f).map(function(w){return m+s*w});return r(g?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(A=Math.min(1,l=+f),d()):A},t.paddingInner=function(f){return arguments.length?(A=Math.min(1,f),d()):A},t.paddingOuter=function(f){return arguments.length?(l=+f,d()):l},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return PE(e(),[n,i]).round(o).paddingInner(A).paddingOuter(l).align(c)},fi.apply(d(),arguments)}function kL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kL(e())},t}function Doe(){return kL(PE.apply(null,arguments).paddingInner(1))}function kE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function QL(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function th(){}var Bf=.7,Yp=1/Bf,Xl="\\s*([+-]?\\d+)\\s*",Cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Roe=/^#([0-9a-f]{3,8})$/,Moe=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),Loe=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),Hoe=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${Cf}\\)$`),Voe=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${Cf}\\)$`),Koe=new RegExp(`^hsl\\(${Cf},${Gi},${Gi}\\)$`),$oe=new RegExp(`^hsla\\(${Cf},${Gi},${Gi},${Cf}\\)$`),GN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kE(th,Ef,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WN,formatHex:WN,formatHex8:Goe,formatHsl:Woe,formatRgb:zN,toString:zN});function WN(){return this.rgb().formatHex()}function Goe(){return this.rgb().formatHex8()}function Woe(){return OL(this).formatHsl()}function zN(){return this.rgb().formatRgb()}function Ef(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Roe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?YN(e):r===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?jg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?jg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Moe.exec(t))?new An(e[1],e[2],e[3],1):(e=Loe.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hoe.exec(t))?jg(e[1],e[2],e[3],e[4]):(e=Voe.exec(t))?jg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Koe.exec(t))?JN(e[1],e[2]/100,e[3]/100,1):(e=$oe.exec(t))?JN(e[1],e[2]/100,e[3]/100,e[4]):GN.hasOwnProperty(t)?YN(GN[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function YN(t){return new An(t>>16&255,t>>8&255,t&255,1)}function jg(t,e,r,n){return n<=0&&(t=e=r=NaN),new An(t,e,r,n)}function zoe(t){return t instanceof th||(t=Ef(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function _B(t,e,r,n){return arguments.length===1?zoe(t):new An(t,e,r,n??1)}function An(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}kE(An,_B,QL(th,{brighter(t){return t=t==null?Yp:Math.pow(Yp,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(cA(this.r),cA(this.g),cA(this.b),Xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XN,formatHex:XN,formatHex8:Yoe,formatRgb:qN,toString:qN}));function XN(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}`}function Yoe(){return`#${Zo(this.r)}${Zo(this.g)}${Zo(this.b)}${Zo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qN(){const t=Xp(this.opacity);return`${t===1?"rgb(":"rgba("}${cA(this.r)}, ${cA(this.g)}, ${cA(this.b)}${t===1?")":`, ${t})`}`}function Xp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function cA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Zo(t){return t=cA(t),(t<16?"0":"")+t.toString(16)}function JN(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ci(t,e,r,n)}function OL(t){if(t instanceof Ci)return new Ci(t.h,t.s,t.l,t.opacity);if(t instanceof th||(t=Ef(t)),!t)return new Ci;if(t instanceof Ci)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,A=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=A<.5?s+i:2-s-i,a*=60):o=A>0&&A<1?0:a,new Ci(a,o,A,t.opacity)}function Xoe(t,e,r,n){return arguments.length===1?OL(t):new Ci(t,e,r,n??1)}function Ci(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}kE(Ci,Xoe,QL(th,{brighter(t){return t=t==null?Yp:Math.pow(Yp,t),new Ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new Ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new An(Mw(t>=240?t-240:t+120,i,n),Mw(t,i,n),Mw(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ci(ZN(this.h),Dg(this.s),Dg(this.l),Xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xp(this.opacity);return`${t===1?"hsl(":"hsla("}${ZN(this.h)}, ${Dg(this.s)*100}%, ${Dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ZN(t){return t=(t||0)%360,t<0?t+360:t}function Dg(t){return Math.max(0,Math.min(1,t||0))}function Mw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const QE=t=>()=>t;function qoe(t,e){return function(r){return t+r*e}}function Joe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zoe(t){return(t=+t)==1?jL:function(e,r){return r-e?Joe(e,r,t):QE(isNaN(e)?r:e)}}function jL(t,e){var r=e-t;return r?qoe(t,r):QE(isNaN(t)?e:t)}const eU=function t(e){var r=Zoe(e);function n(i,s){var a=r((i=_B(i)).r,(s=_B(s)).r),o=r(i.g,s.g),A=r(i.b,s.b),l=jL(i.opacity,s.opacity);return function(c){return i.r=a(c),i.g=o(c),i.b=A(c),i.opacity=l(c),i+""}}return n.gamma=t,n}(1);function eAe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function tAe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rAe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=$c(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function nAe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function qp(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iAe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=$c(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var IB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(IB.source,"g");function sAe(t){return function(){return t}}function aAe(t){return function(e){return t(e)+""}}function oAe(t,e){var r=IB.lastIndex=Lw.lastIndex=0,n,i,s,a=-1,o=[],A=[];for(t=t+"",e=e+"";(n=IB.exec(t))&&(i=Lw.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,A.push({i:a,x:qp(n,i)})),r=Lw.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?A[0]?aAe(A[0].x):sAe(e):(e=A.length,function(l){for(var c=0,d;c<e;++c)o[(d=A[c]).i]=d.x(l);return o.join("")})}function $c(t,e){var r=typeof e,n;return e==null||r==="boolean"?QE(e):(r==="number"?qp:r==="string"?(n=Ef(e))?(e=n,eU):oAe:e instanceof Ef?eU:e instanceof Date?nAe:tAe(e)?eAe:Array.isArray(e)?rAe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iAe:qp)(t,e)}function OE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function AAe(t,e){e===void 0&&(e=t,t=$c);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function lAe(t){return function(){return t}}function Jp(t){return+t}var tU=[0,1];function Gr(t){return t}function SB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:lAe(isNaN(e)?NaN:.5)}function cAe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function uAe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=SB(i,n),s=r(a,s)):(n=SB(n,i),s=r(s,a)),function(o){return s(n(o))}}function dAe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=SB(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var A=eh(t,o,1,n)-1;return s[A](i[A](o))}}function rh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wv(){var t=tU,e=tU,r=$c,n,i,s,a=Gr,o,A,l;function c(){var f=Math.min(t.length,e.length);return a!==Gr&&(a=cAe(t[0],t[f-1])),o=f>2?dAe:uAe,A=l=null,d}function d(f){return f==null||isNaN(f=+f)?s:(A||(A=o(t.map(n),e,r)))(n(a(f)))}return d.invert=function(f){return a(i((l||(l=o(e,t.map(n),qp)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Jp),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),r=OE,c()},d.clamp=function(f){return arguments.length?(a=f?!0:Gr,c()):a!==Gr},d.interpolate=function(f){return arguments.length?(r=f,c()):r},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,g){return n=f,i=g,c()}}function jE(){return Wv()(Gr,Gr)}function fAe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zp(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function _c(t){return t=Zp(Math.abs(t)),t?t[1]:NaN}function hAe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],A=0;i>0&&o>0&&(A+o+1>n&&(o=Math.max(1,n-A)),s.push(r.substring(i-=o,i+o)),!((A+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function gAe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var mAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _f(t){if(!(e=mAe.exec(t)))throw new Error("invalid format: "+t);var e;return new DE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_f.prototype=DE.prototype;function DE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pAe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var DL;function vAe(t,e){var r=Zp(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(DL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zp(t,Math.max(0,e+s-1))[0]}function rU(t,e){var r=Zp(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fAe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rU(t*100,e),r:rU,s:vAe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iU(t){return t}var sU=Array.prototype.map,aU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yAe(t){var e=t.grouping===void 0||t.thousands===void 0?iU:hAe(sU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?iU:gAe(sU.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",A=t.nan===void 0?"NaN":t.nan+"";function l(d){d=_f(d);var f=d.fill,g=d.align,m=d.sign,p=d.symbol,y=d.zero,w=d.width,v=d.comma,x=d.precision,S=d.trim,T=d.type;T==="n"?(v=!0,T="g"):nU[T]||(x===void 0&&(x=12),S=!0,T="g"),(y||f==="0"&&g==="=")&&(y=!0,f="0",g="=");var I=p==="$"?r:p==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",C=p==="$"?n:/[%p]/.test(T)?a:"",E=nU[T],F=/[defgprs%]/.test(T);x=x===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function N(k){var Q=I,P=C,oe,Ce,ve;if(T==="c")P=E(k)+P,k="";else{k=+k;var xe=k<0||1/k<0;if(k=isNaN(k)?A:E(Math.abs(k),x),S&&(k=pAe(k)),xe&&+k==0&&m!=="+"&&(xe=!1),Q=(xe?m==="("?m:o:m==="-"||m==="("?"":m)+Q,P=(T==="s"?aU[8+DL/3]:"")+P+(xe&&m==="("?")":""),F){for(oe=-1,Ce=k.length;++oe<Ce;)if(ve=k.charCodeAt(oe),48>ve||ve>57){P=(ve===46?i+k.slice(oe+1):k.slice(oe))+P,k=k.slice(0,oe);break}}}v&&!y&&(k=e(k,1/0));var Z=Q.length+k.length+P.length,ae=Z<w?new Array(w-Z+1).join(f):"";switch(v&&y&&(k=e(ae+k,ae.length?w-P.length:1/0),ae=""),g){case"<":k=Q+k+P+ae;break;case"=":k=Q+ae+k+P;break;case"^":k=ae.slice(0,Z=ae.length>>1)+Q+k+P+ae.slice(Z);break;default:k=ae+Q+k+P;break}return s(k)}return N.toString=function(){return d+""},N}function c(d,f){var g=l((d=_f(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(_c(f)/3)))*3,p=Math.pow(10,-m),y=aU[8+m/3];return function(w){return g(p*w)+y}}return{format:l,formatPrefix:c}}var Rg,RE,RL;wAe({thousands:",",grouping:[3],currency:["$",""]});function wAe(t){return Rg=yAe(t),RE=Rg.format,RL=Rg.formatPrefix,Rg}function xAe(t){return Math.max(0,-_c(Math.abs(t)))}function bAe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_c(e)/3)))*3-_c(Math.abs(t)))}function BAe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_c(e)-_c(t))+1}function ML(t,e,r,n){var i=CB(t,e,r),s;switch(n=_f(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=bAe(i,a))&&(n.precision=s),RL(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=BAe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=xAe(i))&&(n.precision=s-(n.type==="%")*2);break}}return RE(n)}function mo(t){var e=t.domain;return t.ticks=function(r){var n=e();return bB(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return ML(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],A,l,c=10;for(o<a&&(l=a,a=o,o=l,l=i,i=s,s=l);c-- >0;){if(l=BB(a,o,r),l===A)return n[i]=a,n[s]=o,e(n);if(l>0)a=Math.floor(a/l)*l,o=Math.ceil(o/l)*l;else if(l<0)a=Math.ceil(a*l)/l,o=Math.floor(o*l)/l;else break;A=l}return t},t}function LL(){var t=jE();return t.copy=function(){return rh(t,LL())},fi.apply(t,arguments),mo(t)}function HL(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Jp),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return HL(t).unknown(e)},t=arguments.length?Array.from(t,Jp):[0,1],mo(r)}function VL(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function oU(t){return Math.log(t)}function AU(t){return Math.exp(t)}function CAe(t){return-Math.log(-t)}function EAe(t){return-Math.exp(-t)}function _Ae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function IAe(t){return t===10?_Ae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function SAe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lU(t){return(e,r)=>-t(-e,r)}function ME(t){const e=t(oU,AU),r=e.domain;let n=10,i,s;function a(){return i=SAe(n),s=IAe(n),r()[0]<0?(i=lU(i),s=lU(s),t(CAe,EAe)):t(oU,AU),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const A=r();let l=A[0],c=A[A.length-1];const d=c<l;d&&([l,c]=[c,l]);let f=i(l),g=i(c),m,p;const y=o==null?10:+o;let w=[];if(!(n%1)&&g-f<y){if(f=Math.floor(f),g=Math.ceil(g),l>0){for(;f<=g;++f)for(m=1;m<n;++m)if(p=f<0?m/s(-f):m*s(f),!(p<l)){if(p>c)break;w.push(p)}}else for(;f<=g;++f)for(m=n-1;m>=1;--m)if(p=f>0?m/s(-f):m*s(f),!(p<l)){if(p>c)break;w.push(p)}w.length*2<y&&(w=bB(l,c,y))}else w=bB(f,g,Math.min(g-f,y)).map(s);return d?w.reverse():w},e.tickFormat=(o,A)=>{if(o==null&&(o=10),A==null&&(A=n===10?"s":","),typeof A!="function"&&(!(n%1)&&(A=_f(A)).precision==null&&(A.trim=!0),A=RE(A)),o===1/0)return A;const l=Math.max(1,n*o/e.ticks().length);return c=>{let d=c/s(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=l?A(c):""}},e.nice=()=>r(VL(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function KL(){const t=ME(Wv()).domain([1,10]);return t.copy=()=>rh(t,KL()).base(t.base()),fi.apply(t,arguments),t}function cU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function LE(t){var e=1,r=t(cU(e),uU(e));return r.constant=function(n){return arguments.length?t(cU(e=+n),uU(e)):e},mo(r)}function $L(){var t=LE(Wv());return t.copy=function(){return rh(t,$L()).constant(t.constant())},fi.apply(t,arguments)}function dU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TAe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function FAe(t){return t<0?-t*t:t*t}function HE(t){var e=t(Gr,Gr),r=1;function n(){return r===1?t(Gr,Gr):r===.5?t(TAe,FAe):t(dU(r),dU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},mo(e)}function VE(){var t=HE(Wv());return t.copy=function(){return rh(t,VE()).exponent(t.exponent())},fi.apply(t,arguments),t}function NAe(){return VE.apply(null,arguments).exponent(.5)}function fU(t){return Math.sign(t)*t*t}function UAe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function GL(){var t=jE(),e=[0,1],r=!1,n;function i(s){var a=UAe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(fU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Jp)).map(fU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return GL(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fi.apply(i,arguments),mo(i)}function WL(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Ooe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[eh(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ka),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return WL().domain(t).range(e).unknown(n)},fi.apply(s,arguments)}function zL(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(A){return A!=null&&A<=A?i[eh(n,A,0,r)]:s}function o(){var A=-1;for(n=new Array(r);++A<r;)n[A]=((A+1)*e-(A-r)*t)/(r+1);return a}return a.domain=function(A){return arguments.length?([t,e]=A,t=+t,e=+e,o()):[t,e]},a.range=function(A){return arguments.length?(r=(i=Array.from(A)).length-1,o()):i.slice()},a.invertExtent=function(A){var l=i.indexOf(A);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},a.unknown=function(A){return arguments.length&&(s=A),a},a.thresholds=function(){return n.slice()},a.copy=function(){return zL().domain([t,e]).range(i).unknown(s)},fi.apply(mo(a),arguments)}function YL(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[eh(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YL().domain(t).range(e).unknown(r)},fi.apply(i,arguments)}const Hw=new Date,Vw=new Date;function nr(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const A=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return A;let l;do A.push(l=new Date(+s)),e(s,o),t(s);while(l<s&&s<a);return A},i.filter=s=>nr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Hw.setTime(+s),Vw.setTime(+a),t(Hw),t(Vw),Math.floor(r(Hw,Vw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const e0=nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);e0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):e0);e0.range;const Es=1e3,ni=Es*60,_s=ni*60,Ls=_s*24,KE=Ls*7,hU=Ls*30,Kw=Ls*365,eA=nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());eA.range;const $E=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getMinutes());$E.range;const GE=nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ni)},(t,e)=>(e-t)/ni,t=>t.getUTCMinutes());GE.range;const WE=nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*ni)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getHours());WE.range;const zE=nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_s)},(t,e)=>(e-t)/_s,t=>t.getUTCHours());zE.range;const nh=nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ni)/Ls,t=>t.getDate()-1);nh.range;const zv=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>t.getUTCDate()-1);zv.range;const XL=nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ls,t=>Math.floor(t/Ls));XL.range;function DA(t){return nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ni)/KE)}const Yv=DA(0),t0=DA(1),PAe=DA(2),kAe=DA(3),Ic=DA(4),QAe=DA(5),OAe=DA(6);Yv.range;t0.range;PAe.range;kAe.range;Ic.range;QAe.range;OAe.range;function RA(t){return nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/KE)}const Xv=RA(0),r0=RA(1),jAe=RA(2),DAe=RA(3),Sc=RA(4),RAe=RA(5),MAe=RA(6);Xv.range;r0.range;jAe.range;DAe.range;Sc.range;RAe.range;MAe.range;const YE=nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YE.range;const XE=nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XE.range;const Hs=nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Hs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Hs.range;const Vs=nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Vs.range;function qL(t,e,r,n,i,s){const a=[[eA,1,Es],[eA,5,5*Es],[eA,15,15*Es],[eA,30,30*Es],[s,1,ni],[s,5,5*ni],[s,15,15*ni],[s,30,30*ni],[i,1,_s],[i,3,3*_s],[i,6,6*_s],[i,12,12*_s],[n,1,Ls],[n,2,2*Ls],[r,1,KE],[e,1,hU],[e,3,3*hU],[t,1,Kw]];function o(l,c,d){const f=c<l;f&&([l,c]=[c,l]);const g=d&&typeof d.range=="function"?d:A(l,c,d),m=g?g.range(l,+c+1):[];return f?m.reverse():m}function A(l,c,d){const f=Math.abs(c-l)/d,g=NE(([,,y])=>y).right(a,f);if(g===a.length)return t.every(CB(l/Kw,c/Kw,d));if(g===0)return e0.every(Math.max(CB(l,c,d),1));const[m,p]=a[f/a[g-1][2]<a[g][2]/f?g-1:g];return m.every(p)}return[o,A]}const[LAe,HAe]=qL(Vs,XE,Xv,XL,zE,GE),[VAe,KAe]=qL(Hs,YE,Yv,nh,WE,$E);function $w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Du(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function $Ae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,A=t.shortMonths,l=Ru(i),c=Mu(i),d=Ru(s),f=Mu(s),g=Ru(a),m=Mu(a),p=Ru(o),y=Mu(o),w=Ru(A),v=Mu(A),x={a:xe,A:Z,b:ae,B:de,c:null,d:wU,e:wU,f:hle,g:Cle,G:_le,H:ule,I:dle,j:fle,L:JL,m:gle,M:mle,p:Fe,q:ie,Q:BU,s:CU,S:ple,u:vle,U:yle,V:wle,w:xle,W:ble,x:null,X:null,y:Ble,Y:Ele,Z:Ile,"%":bU},S={a:Ue,A:ze,b:D,B:V,c:null,d:xU,e:xU,f:Nle,g:Lle,G:Vle,H:Sle,I:Tle,j:Fle,L:e5,m:Ule,M:Ple,p:R,q,Q:BU,s:CU,S:kle,u:Qle,U:Ole,V:jle,w:Dle,W:Rle,x:null,X:null,y:Mle,Y:Hle,Z:Kle,"%":bU},T={a:N,A:k,b:Q,B:P,c:oe,d:vU,e:vU,f:ole,g:pU,G:mU,H:yU,I:yU,j:nle,L:ale,m:rle,M:ile,p:F,q:tle,Q:lle,s:cle,S:sle,u:XAe,U:qAe,V:JAe,w:YAe,W:ZAe,x:Ce,X:ve,y:pU,Y:mU,Z:ele,"%":Ale};x.x=I(r,x),x.X=I(n,x),x.c=I(e,x),S.x=I(r,S),S.X=I(n,S),S.c=I(e,S);function I(M,$){return function(Y){var L=[],Ee=-1,be=0,Qe=M.length,Me,ar,LA;for(Y instanceof Date||(Y=new Date(+Y));++Ee<Qe;)M.charCodeAt(Ee)===37&&(L.push(M.slice(be,Ee)),(ar=gU[Me=M.charAt(++Ee)])!=null?Me=M.charAt(++Ee):ar=Me==="e"?" ":"0",(LA=$[Me])&&(Me=LA(Y,ar)),L.push(Me),be=Ee+1);return L.push(M.slice(be,Ee)),L.join("")}}function C(M,$){return function(Y){var L=Du(1900,void 0,1),Ee=E(L,M,Y+="",0),be,Qe;if(Ee!=Y.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if($&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(be=Gw(Du(L.y,0,1)),Qe=be.getUTCDay(),be=Qe>4||Qe===0?r0.ceil(be):r0(be),be=zv.offset(be,(L.V-1)*7),L.y=be.getUTCFullYear(),L.m=be.getUTCMonth(),L.d=be.getUTCDate()+(L.w+6)%7):(be=$w(Du(L.y,0,1)),Qe=be.getDay(),be=Qe>4||Qe===0?t0.ceil(be):t0(be),be=nh.offset(be,(L.V-1)*7),L.y=be.getFullYear(),L.m=be.getMonth(),L.d=be.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),Qe="Z"in L?Gw(Du(L.y,0,1)).getUTCDay():$w(Du(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(Qe+5)%7:L.w+L.U*7-(Qe+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Gw(L)):$w(L)}}function E(M,$,Y,L){for(var Ee=0,be=$.length,Qe=Y.length,Me,ar;Ee<be;){if(L>=Qe)return-1;if(Me=$.charCodeAt(Ee++),Me===37){if(Me=$.charAt(Ee++),ar=T[Me in gU?$.charAt(Ee++):Me],!ar||(L=ar(M,Y,L))<0)return-1}else if(Me!=Y.charCodeAt(L++))return-1}return L}function F(M,$,Y){var L=l.exec($.slice(Y));return L?(M.p=c.get(L[0].toLowerCase()),Y+L[0].length):-1}function N(M,$,Y){var L=g.exec($.slice(Y));return L?(M.w=m.get(L[0].toLowerCase()),Y+L[0].length):-1}function k(M,$,Y){var L=d.exec($.slice(Y));return L?(M.w=f.get(L[0].toLowerCase()),Y+L[0].length):-1}function Q(M,$,Y){var L=w.exec($.slice(Y));return L?(M.m=v.get(L[0].toLowerCase()),Y+L[0].length):-1}function P(M,$,Y){var L=p.exec($.slice(Y));return L?(M.m=y.get(L[0].toLowerCase()),Y+L[0].length):-1}function oe(M,$,Y){return E(M,e,$,Y)}function Ce(M,$,Y){return E(M,r,$,Y)}function ve(M,$,Y){return E(M,n,$,Y)}function xe(M){return a[M.getDay()]}function Z(M){return s[M.getDay()]}function ae(M){return A[M.getMonth()]}function de(M){return o[M.getMonth()]}function Fe(M){return i[+(M.getHours()>=12)]}function ie(M){return 1+~~(M.getMonth()/3)}function Ue(M){return a[M.getUTCDay()]}function ze(M){return s[M.getUTCDay()]}function D(M){return A[M.getUTCMonth()]}function V(M){return o[M.getUTCMonth()]}function R(M){return i[+(M.getUTCHours()>=12)]}function q(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var $=I(M+="",x);return $.toString=function(){return M},$},parse:function(M){var $=C(M+="",!1);return $.toString=function(){return M},$},utcFormat:function(M){var $=I(M+="",S);return $.toString=function(){return M},$},utcParse:function(M){var $=C(M+="",!0);return $.toString=function(){return M},$}}}var gU={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,GAe=/^%/,WAe=/[\\^$*+?|[\]().{}]/g;function We(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function zAe(t){return t.replace(WAe,"\\$&")}function Ru(t){return new RegExp("^(?:"+t.map(zAe).join("|")+")","i")}function Mu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function YAe(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function XAe(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function qAe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function JAe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ZAe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mU(t,e,r){var n=mr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function pU(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ele(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tle(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function rle(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function vU(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nle(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function yU(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ile(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function sle(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ale(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ole(t,e,r){var n=mr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Ale(t,e,r){var n=GAe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function lle(t,e,r){var n=mr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function cle(t,e,r){var n=mr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function wU(t,e){return We(t.getDate(),e,2)}function ule(t,e){return We(t.getHours(),e,2)}function dle(t,e){return We(t.getHours()%12||12,e,2)}function fle(t,e){return We(1+nh.count(Hs(t),t),e,3)}function JL(t,e){return We(t.getMilliseconds(),e,3)}function hle(t,e){return JL(t,e)+"000"}function gle(t,e){return We(t.getMonth()+1,e,2)}function mle(t,e){return We(t.getMinutes(),e,2)}function ple(t,e){return We(t.getSeconds(),e,2)}function vle(t){var e=t.getDay();return e===0?7:e}function yle(t,e){return We(Yv.count(Hs(t)-1,t),e,2)}function ZL(t){var e=t.getDay();return e>=4||e===0?Ic(t):Ic.ceil(t)}function wle(t,e){return t=ZL(t),We(Ic.count(Hs(t),t)+(Hs(t).getDay()===4),e,2)}function xle(t){return t.getDay()}function ble(t,e){return We(t0.count(Hs(t)-1,t),e,2)}function Ble(t,e){return We(t.getFullYear()%100,e,2)}function Cle(t,e){return t=ZL(t),We(t.getFullYear()%100,e,2)}function Ele(t,e){return We(t.getFullYear()%1e4,e,4)}function _le(t,e){var r=t.getDay();return t=r>=4||r===0?Ic(t):Ic.ceil(t),We(t.getFullYear()%1e4,e,4)}function Ile(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function xU(t,e){return We(t.getUTCDate(),e,2)}function Sle(t,e){return We(t.getUTCHours(),e,2)}function Tle(t,e){return We(t.getUTCHours()%12||12,e,2)}function Fle(t,e){return We(1+zv.count(Vs(t),t),e,3)}function e5(t,e){return We(t.getUTCMilliseconds(),e,3)}function Nle(t,e){return e5(t,e)+"000"}function Ule(t,e){return We(t.getUTCMonth()+1,e,2)}function Ple(t,e){return We(t.getUTCMinutes(),e,2)}function kle(t,e){return We(t.getUTCSeconds(),e,2)}function Qle(t){var e=t.getUTCDay();return e===0?7:e}function Ole(t,e){return We(Xv.count(Vs(t)-1,t),e,2)}function t5(t){var e=t.getUTCDay();return e>=4||e===0?Sc(t):Sc.ceil(t)}function jle(t,e){return t=t5(t),We(Sc.count(Vs(t),t)+(Vs(t).getUTCDay()===4),e,2)}function Dle(t){return t.getUTCDay()}function Rle(t,e){return We(r0.count(Vs(t)-1,t),e,2)}function Mle(t,e){return We(t.getUTCFullYear()%100,e,2)}function Lle(t,e){return t=t5(t),We(t.getUTCFullYear()%100,e,2)}function Hle(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function Vle(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Sc(t):Sc.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function Kle(){return"+0000"}function bU(){return"%"}function BU(t){return+t}function CU(t){return Math.floor(+t/1e3)}var cl,r5,n5;$le({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $le(t){return cl=$Ae(t),r5=cl.format,cl.parse,n5=cl.utcFormat,cl.utcParse,cl}function Gle(t){return new Date(t)}function Wle(t){return t instanceof Date?+t:+new Date(+t)}function qE(t,e,r,n,i,s,a,o,A,l){var c=jE(),d=c.invert,f=c.domain,g=l(".%L"),m=l(":%S"),p=l("%I:%M"),y=l("%I %p"),w=l("%a %d"),v=l("%b %d"),x=l("%B"),S=l("%Y");function T(I){return(A(I)<I?g:o(I)<I?m:a(I)<I?p:s(I)<I?y:n(I)<I?i(I)<I?w:v:r(I)<I?x:S)(I)}return c.invert=function(I){return new Date(d(I))},c.domain=function(I){return arguments.length?f(Array.from(I,Wle)):f().map(Gle)},c.ticks=function(I){var C=f();return t(C[0],C[C.length-1],I??10)},c.tickFormat=function(I,C){return C==null?T:l(C)},c.nice=function(I){var C=f();return(!I||typeof I.range!="function")&&(I=e(C[0],C[C.length-1],I??10)),I?f(VL(C,I)):c},c.copy=function(){return rh(c,qE(t,e,r,n,i,s,a,o,A,l))},c}function zle(){return fi.apply(qE(VAe,KAe,Hs,YE,Yv,nh,WE,$E,eA,r5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yle(){return fi.apply(qE(LAe,HAe,Vs,XE,Xv,zv,zE,GE,eA,n5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qv(){var t=0,e=1,r,n,i,s,a=Gr,o=!1,A;function l(d){return d==null||isNaN(d=+d)?A:a(i===0?.5:(d=(s(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([t,e]=d,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(d){return arguments.length?(o=!!d,l):o},l.interpolator=function(d){return arguments.length?(a=d,l):a};function c(d){return function(f){var g,m;return arguments.length?([g,m]=f,a=d(g,m),l):[a(0),a(1)]}}return l.range=c($c),l.rangeRound=c(OE),l.unknown=function(d){return arguments.length?(A=d,l):A},function(d){return s=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),l}}function po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function i5(){var t=mo(qv()(Gr));return t.copy=function(){return po(t,i5())},qs.apply(t,arguments)}function s5(){var t=ME(qv()).domain([1,10]);return t.copy=function(){return po(t,s5()).base(t.base())},qs.apply(t,arguments)}function a5(){var t=LE(qv());return t.copy=function(){return po(t,a5()).constant(t.constant())},qs.apply(t,arguments)}function JE(){var t=HE(qv());return t.copy=function(){return po(t,JE()).exponent(t.exponent())},qs.apply(t,arguments)}function Xle(){return JE.apply(null,arguments).exponent(.5)}function o5(){var t=[],e=Gr;function r(n){if(n!=null&&!isNaN(n=+n))return e((eh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ka),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Qoe(t,s/n))},r.copy=function(){return o5(e).domain(t)},qs.apply(r,arguments)}function Jv(){var t=0,e=.5,r=1,n=1,i,s,a,o,A,l=Gr,c,d=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+c(p))-s)*(n*p<n*s?o:A),l(d?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,e,r]=p,i=c(t=+t),s=c(e=+e),a=c(r=+r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g):[t,e,r]},g.clamp=function(p){return arguments.length?(d=!!p,g):d},g.interpolator=function(p){return arguments.length?(l=p,g):l};function m(p){return function(y){var w,v,x;return arguments.length?([w,v,x]=y,l=AAe(p,[w,v,x]),g):[l(0),l(.5),l(1)]}}return g.range=m($c),g.rangeRound=m(OE),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return c=p,i=p(t),s=p(e),a=p(r),o=i===s?0:.5/(s-i),A=s===a?0:.5/(a-s),n=s<i?-1:1,g}}function A5(){var t=mo(Jv()(Gr));return t.copy=function(){return po(t,A5())},qs.apply(t,arguments)}function l5(){var t=ME(Jv()).domain([.1,1,10]);return t.copy=function(){return po(t,l5()).base(t.base())},qs.apply(t,arguments)}function c5(){var t=LE(Jv());return t.copy=function(){return po(t,c5()).constant(t.constant())},qs.apply(t,arguments)}function ZE(){var t=HE(Jv());return t.copy=function(){return po(t,ZE()).exponent(t.exponent())},qs.apply(t,arguments)}function qle(){return ZE.apply(null,arguments).exponent(.5)}const Ad=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:PE,scaleDiverging:A5,scaleDivergingLog:l5,scaleDivergingPow:ZE,scaleDivergingSqrt:qle,scaleDivergingSymlog:c5,scaleIdentity:HL,scaleImplicit:EB,scaleLinear:LL,scaleLog:KL,scaleOrdinal:UE,scalePoint:Doe,scalePow:VE,scaleQuantile:WL,scaleQuantize:zL,scaleRadial:GL,scaleSequential:i5,scaleSequentialLog:s5,scaleSequentialPow:JE,scaleSequentialQuantile:o5,scaleSequentialSqrt:Xle,scaleSequentialSymlog:a5,scaleSqrt:NAe,scaleSymlog:$L,scaleThreshold:YL,scaleTime:zle,scaleUtc:Yle,tickFormat:ML},Symbol.toStringTag,{value:"Module"}));var vo=t=>t.chartData,e_=G([vo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Zv=(t,e,r,n)=>n?e_(t):vo(t);function Tc(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(kn(e)&&kn(r))return!0}return!1}function EU(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Jle(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(kn(r))i=r;else if(typeof r=="function")return;if(kn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Tc(a))return a}}function Zle(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Tc(n))return EU(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(he(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&xN.test(i)){var A=xN.exec(i);if(A==null||e==null)a=void 0;else{var l=+A[1];a=e[0]-l}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(he(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&bN.test(s)){var c=bN.exec(s);if(c==null||e==null)o=void 0;else{var d=+c[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(Tc(f))return e==null?f:EU(f,e,r)}}}var Gc=1e9,ece={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},r_,wt=!0,ui="[DecimalError] ",uA=ui+"Invalid argument: ",t_=ui+"Exponent out of range: ",Wc=Math.floor,Ro=Math.pow,tce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bn,dr=1e7,dt=7,u5=9007199254740991,n0=Wc(u5/dt),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*dt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(t){return Ns(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,r=e.constructor;return st(Ns(e,new r(t),0,1),r.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return Yt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(bn))throw Error(ui+"NaN");if(r.s<1)throw Error(ui+(r.s?"NaN":"-Infinity"));return r.eq(bn)?new n(0):(wt=!1,e=Ns(If(r,s),If(t,s),s),wt=!0,st(e,i))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?h5(e,t):d5(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ui+"NaN");return r.s?(wt=!1,e=Ns(r,t,0,1).times(t),wt=!0,r.minus(e)):st(new n(r),i)};pe.naturalExponential=pe.exp=function(){return f5(this)};pe.naturalLogarithm=pe.ln=function(){return If(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?d5(e,t):h5(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uA+t);if(e=Yt(i)+1,n=i.d.length-1,r=n*dt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pe.squareRoot=pe.sqrt=function(){var t,e,r,n,i,s,a,o=this,A=o.constructor;if(o.s<1){if(!o.s)return new A(0);throw Error(ui+"NaN")}for(t=Yt(o),wt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Mi(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new A(e)):n=new A(i.toString()),r=A.precision,i=a=r+3;;)if(s=n,n=s.plus(Ns(o,s,a+2)).times(.5),Mi(s.d).slice(0,a)===(e=Mi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(st(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return wt=!0,st(n,r)};pe.times=pe.mul=function(t){var e,r,n,i,s,a,o,A,l,c=this,d=c.constructor,f=c.d,g=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,r=c.e+t.e,A=f.length,l=g.length,A<l&&(s=f,f=g,g=s,a=A,A=l,l=a),s=[],a=A+l,n=a;n--;)s.push(0);for(n=l;--n>=0;){for(e=0,i=A+n;i>n;)o=s[i]+g[n]*f[i-n-1]+e,s[i--]=o%dr|0,e=o/dr|0;s[i]=(s[i]+e)%dr|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,wt?st(t,d.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Yi(t,0,Gc),e===void 0?e=n.rounding:Yi(e,0,8),st(r,t+Yt(r)+1,e))};pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=IA(n,!0):(Yi(t,0,Gc),e===void 0?e=i.rounding:Yi(e,0,8),n=st(new i(n),t+1,e),r=IA(n,!0,t+1)),r};pe.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?IA(i):(Yi(t,0,Gc),e===void 0?e=s.rounding:Yi(e,0,8),n=st(new s(i),t+Yt(i)+1,e),r=IA(n.abs(),!1,t+Yt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return st(new e(t),Yt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,r,n,i,s,a,o=this,A=o.constructor,l=12,c=+(t=new A(t));if(!t.s)return new A(bn);if(o=new A(o),!o.s){if(t.s<1)throw Error(ui+"Infinity");return o}if(o.eq(bn))return o;if(n=A.precision,t.eq(bn))return st(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=c<0?-c:c)<=u5){for(i=new A(bn),e=Math.ceil(n/dt+4),wt=!1;r%2&&(i=i.times(o),IU(i.d,e)),r=Wc(r/2),r!==0;)o=o.times(o),IU(o.d,e);return wt=!0,t.s<0?new A(bn).div(i):st(i,n)}}else if(s<0)throw Error(ui+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,wt=!1,i=t.times(If(o,n+l)),wt=!0,i=f5(i),i.s=s,i};pe.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Yt(i),n=IA(i,r<=s.toExpNeg||r>=s.toExpPos)):(Yi(t,1,Gc),e===void 0?e=s.rounding:Yi(e,0,8),i=st(new s(i),t,e),r=Yt(i),n=IA(i,t<=r||r<=s.toExpNeg,t)),n};pe.toSignificantDigits=pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Yi(t,1,Gc),e===void 0?e=n.rounding:Yi(e,0,8)),st(new n(r),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Yt(t),r=t.constructor;return IA(t,e<=r.toExpNeg||e>=r.toExpPos)};function d5(t,e){var r,n,i,s,a,o,A,l,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),wt?st(e,d):e;if(A=t.d,l=e.d,a=t.e,i=e.e,A=A.slice(),s=a-i,s){for(s<0?(n=A,s=-s,o=l.length):(n=l,i=a,o=A.length),a=Math.ceil(d/dt),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=A.length,s=l.length,o-s<0&&(s=o,n=l,l=A,A=n),r=0;s;)r=(A[--s]=A[s]+l[s]+r)/dr|0,A[s]%=dr;for(r&&(A.unshift(r),++i),o=A.length;A[--o]==0;)A.pop();return e.d=A,e.e=i,wt?st(e,d):e}function Yi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(uA+t)}function Mi(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=dt-n.length,r&&(s+=ma(r)),s+=n;a=t[e],n=a+"",r=dt-n.length,r&&(s+=ma(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ns=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%dr|0,a=s/dr|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,A;if(s!=a)A=s>a?1:-1;else for(o=A=0;o<s;o++)if(n[o]!=i[o]){A=n[o]>i[o]?1:-1;break}return A}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*dr+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,A,l,c,d,f,g,m,p,y,w,v,x,S,T,I,C,E,F=n.constructor,N=n.s==i.s?1:-1,k=n.d,Q=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(ui+"Division by zero");for(A=n.e-i.e,C=Q.length,T=k.length,g=new F(N),m=g.d=[],l=0;Q[l]==(k[l]||0);)++l;if(Q[l]>(k[l]||0)&&--A,s==null?v=s=F.precision:a?v=s+(Yt(n)-Yt(i))+1:v=s,v<0)return new F(0);if(v=v/dt+2|0,l=0,C==1)for(c=0,Q=Q[0],v++;(l<T||c)&&v--;l++)x=c*dr+(k[l]||0),m[l]=x/Q|0,c=x%Q|0;else{for(c=dr/(Q[0]+1)|0,c>1&&(Q=t(Q,c),k=t(k,c),C=Q.length,T=k.length),S=C,p=k.slice(0,C),y=p.length;y<C;)p[y++]=0;E=Q.slice(),E.unshift(0),I=Q[0],Q[1]>=dr/2&&++I;do c=0,o=e(Q,p,C,y),o<0?(w=p[0],C!=y&&(w=w*dr+(p[1]||0)),c=w/I|0,c>1?(c>=dr&&(c=dr-1),d=t(Q,c),f=d.length,y=p.length,o=e(d,p,f,y),o==1&&(c--,r(d,C<f?E:Q,f))):(c==0&&(o=c=1),d=Q.slice()),f=d.length,f<y&&d.unshift(0),r(p,d,y),o==-1&&(y=p.length,o=e(Q,p,C,y),o<1&&(c++,r(p,C<y?E:Q,y))),y=p.length):o===0&&(c++,p=[0]),m[l++]=c,o&&p[0]?p[y++]=k[S]||0:(p=[k[S]],y=1);while((S++<T||p[0]!==void 0)&&v--)}return m[0]||m.shift(),g.e=A,st(g,a?s+Yt(g)+1:s)}}();function f5(t,e){var r,n,i,s,a,o,A=0,l=0,c=t.constructor,d=c.precision;if(Yt(t)>16)throw Error(t_+Yt(t));if(!t.s)return new c(bn);for(e==null?(wt=!1,o=d):o=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),l+=5;for(n=Math.log(Ro(2,l))/Math.LN10*2+5|0,o+=n,r=i=s=new c(bn),c.precision=o;;){if(i=st(i.times(t),o),r=r.times(++A),a=s.plus(Ns(i,r,o)),Mi(a.d).slice(0,o)===Mi(s.d).slice(0,o)){for(;l--;)s=st(s.times(s),o);return c.precision=d,e==null?(wt=!0,st(s,d)):s}s=a}}function Yt(t){for(var e=t.e*dt,r=t.d[0];r>=10;r/=10)e++;return e}function Ww(t,e,r){if(e>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(ui+"LN10 precision limit exceeded");return st(new t(t.LN10),e)}function ma(t){for(var e="";t--;)e+="0";return e}function If(t,e){var r,n,i,s,a,o,A,l,c,d=1,f=10,g=t,m=g.d,p=g.constructor,y=p.precision;if(g.s<1)throw Error(ui+(g.s?"NaN":"-Infinity"));if(g.eq(bn))return new p(0);if(e==null?(wt=!1,l=y):l=e,g.eq(10))return e==null&&(wt=!0),Ww(p,l);if(l+=f,p.precision=l,r=Mi(m),n=r.charAt(0),s=Yt(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Mi(g.d),n=r.charAt(0),d++;s=Yt(g),n>1?(g=new p("0."+r),s++):g=new p(n+"."+r.slice(1))}else return A=Ww(p,l+2,y).times(s+""),g=If(new p(n+"."+r.slice(1)),l-f).plus(A),p.precision=y,e==null?(wt=!0,st(g,y)):g;for(o=a=g=Ns(g.minus(bn),g.plus(bn),l),c=st(g.times(g),l),i=3;;){if(a=st(a.times(c),l),A=o.plus(Ns(a,new p(i),l)),Mi(A.d).slice(0,l)===Mi(o.d).slice(0,l))return o=o.times(2),s!==0&&(o=o.plus(Ww(p,l+2,y).times(s+""))),o=Ns(o,new p(d),l),p.precision=y,e==null?(wt=!0,st(o,y)):o;o=A,i+=2}}function _U(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Wc(r/dt),t.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=dt;n<i;)t.d.push(+e.slice(n,n+=dt));e=e.slice(n),n=dt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),wt&&(t.e>n0||t.e<-n0))throw Error(t_+r)}else t.s=0,t.e=0,t.d=[0];return t}function st(t,e,r){var n,i,s,a,o,A,l,c,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=dt,i=e,l=d[c=0];else{if(c=Math.ceil((n+1)/dt),s=d.length,c>=s)return t;for(l=s=d[c],a=1;s>=10;s/=10)a++;n%=dt,i=n-dt+a}if(r!==void 0&&(s=Ro(10,a-i-1),o=l/s%10|0,A=e<0||d[c+1]!==void 0||l%s,A=r<4?(o||A)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||A||r==6&&(n>0?i>0?l/Ro(10,a-i):0:d[c-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return A?(s=Yt(t),d.length=1,e=e-s-1,d[0]=Ro(10,(dt-e%dt)%dt),t.e=Wc(-e/dt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=c,s=1,c--):(d.length=c+1,s=Ro(10,dt-n),d[c]=i>0?(l/Ro(10,a-i)%Ro(10,i)|0)*s:0),A)for(;;)if(c==0){(d[0]+=s)==dr&&(d[0]=1,++t.e);break}else{if(d[c]+=s,d[c]!=dr)break;d[c--]=0,s=1}for(n=d.length;d[--n]===0;)d.pop();if(wt&&(t.e>n0||t.e<-n0))throw Error(t_+Yt(t));return t}function h5(t,e){var r,n,i,s,a,o,A,l,c,d,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),wt?st(e,g):e;if(A=t.d,d=e.d,n=e.e,l=t.e,A=A.slice(),a=l-n,a){for(c=a<0,c?(r=A,a=-a,o=d.length):(r=d,n=l,o=A.length),i=Math.max(Math.ceil(g/dt),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=A.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(A[i]!=d[i]){c=A[i]<d[i];break}a=0}for(c&&(r=A,A=d,d=r,e.s=-e.s),o=A.length,i=d.length-o;i>0;--i)A[o++]=0;for(i=d.length;i>a;){if(A[--i]<d[i]){for(s=i;s&&A[--s]===0;)A[s]=dr-1;--A[s],A[i]+=dr}A[i]-=d[i]}for(;A[--o]===0;)A.pop();for(;A[0]===0;A.shift())--n;return A[0]?(e.d=A,e.e=n,wt?st(e,g):e):new f(0)}function IA(t,e,r){var n,i=Yt(t),s=Mi(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ma(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ma(-i-1)+s,r&&(n=r-a)>0&&(s+=ma(n))):i>=a?(s+=ma(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ma(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ma(n))),t.s<0?"-"+s:s}function IU(t,e){if(t.length>e)return t.length=e,!0}function g5(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(uA+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return _U(a,s.toString())}else if(typeof s!="string")throw Error(uA+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,tce.test(s))_U(a,s);else throw Error(uA+s)}if(i.prototype=pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=g5,i.config=i.set=rce,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function rce(t){if(!t||typeof t!="object")throw Error(ui+"Object expected");var e,r,n,i=["precision",1,Gc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Wc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(uA+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(uA+r+": "+n);return this}var r_=g5(ece);bn=new r_(1);const Xe=r_;var nce=t=>t,m5={"@@functional/placeholder":!0},p5=t=>t===m5,SU=t=>function e(){return arguments.length===0||arguments.length===1&&p5(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},v5=(t,e)=>t===1?e:SU(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==m5).length;return s>=t?e(...n):v5(t-s,SU(function(){for(var a=arguments.length,o=new Array(a),A=0;A<a;A++)o[A]=arguments[A];var l=n.map(c=>p5(c)?o.shift():c);return e(...l,...o)}))}),ey=t=>v5(t.length,t),TB=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},ice=ey((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),sce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return nce;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,A)=>A(o),s(...arguments))}},FB=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),y5=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var A;return a===((A=e)===null||A===void 0?void 0:A[o])})||(e=i,r=t(...i)),r}};function w5(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function x5(t,e,r){for(var n=new Xe(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}ey((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});ey((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});ey((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var b5=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},B5=(t,e,r)=>{if(t.lte(0))return new Xe(0);var n=w5(t.toNumber()),i=new Xe(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Xe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),A=o.mul(i);return e?new Xe(A.toNumber()):new Xe(Math.ceil(A.toNumber()))},ace=(t,e,r)=>{var n=new Xe(1),i=new Xe(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Xe(10).pow(w5(t)-1),i=new Xe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):r||(i=new Xe(Math.floor(t)));var a=Math.floor((e-1)/2),o=sce(ice(A=>i.add(new Xe(A-a).mul(n)).toNumber()),TB);return o(0,e)},C5=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var a=B5(new Xe(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new Xe(0):(o=new Xe(e).add(r).div(2),o=o.sub(new Xe(o).mod(a)));var A=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new Xe(r).sub(o).div(a).toNumber()),c=A+l+1;return c>n?C5(e,r,n,i,s+1):(c<n&&(l=r>0?l+(n-c):l,A=r>0?A:A+(n-c)),{step:a,tickMin:o.sub(new Xe(A).mul(a)),tickMax:o.add(new Xe(l).mul(a))})};function oce(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,o]=b5([e,r]);if(a===-1/0||o===1/0){var A=o===1/0?[a,...TB(0,n-1).map(()=>1/0)]:[...TB(0,n-1).map(()=>-1/0),o];return e>r?FB(A):A}if(a===o)return ace(a,n,i);var{step:l,tickMin:c,tickMax:d}=C5(a,o,s,i,0),f=x5(c,d.add(new Xe(.1).mul(l)),l);return e>r?FB(f):f}function Ace(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=b5([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var o=Math.max(e,2),A=B5(new Xe(a).sub(s).div(o-1),i,0),l=[...x5(new Xe(s),new Xe(a),A),a];return i===!1&&(l=l.map(c=>Math.round(c))),r>n?FB(l):l}var lce=y5(oce),cce=y5(Ace),E5=t=>t.rootProps.maxBarSize,uce=t=>t.rootProps.barGap,_5=t=>t.rootProps.barCategoryGap,dce=t=>t.rootProps.barSize,ih=t=>t.rootProps.stackOffset,n_=t=>t.options.chartName,i_=t=>t.rootProps.syncId,I5=t=>t.rootProps.syncMethod,s_=t=>t.options.eventEmitter,ms={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},ty=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},fce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:ms.reversed,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:ms.type,unit:void 0},hce={allowDataOverflow:wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,ticks:void 0,type:wn.type,unit:void 0},gce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ms.scale,tick:ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},mce={allowDataOverflow:wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,ticks:void 0,type:"category",unit:void 0},a_=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?gce:fce,o_=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?mce:hce,ry=t=>t.polarOptions,A_=G([Ys,Xs,rr],eL),S5=G([ry,A_],(t,e)=>{if(t!=null)return qr(t.innerRadius,e,0)}),T5=G([ry,A_],(t,e)=>{if(t!=null)return qr(t.outerRadius,e,e*.8)}),pce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},F5=G([ry],pce),qve=G([a_,F5],ty),N5=G([A_,S5,T5],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),Jve=G([o_,N5],ty),U5=G([Ve,ry,S5,T5,Ys,Xs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:A,endAngle:l}=e;return{cx:qr(a,i,i/2),cy:qr(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:A,endAngle:l,clockWise:!1}}}),Bt=(t,e)=>e,sh=(t,e,r)=>r;function l_(t){return t==null?void 0:t.id}var ir=t=>{var e=Ve(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},zc=t=>t.tooltip.settings.axisId,sr=t=>{var e=ir(t),r=zc(t);return ah(t,e,r)};function P5(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var o,A=(o=a.data)!==null&&o!==void 0?o:n;if(!(A==null||A.length===0)){var l=l_(a);A.forEach((c,d)=>{var f=i==null?d:String(it(c,i,null)),g=it(c,a.dataKey,0),m;s.has(f)?m=s.get(f):m={},Object.assign(m,{[l]:g}),s.set(f,m)})}}),Array.from(s.values())}function ny(t){return t.stackId!=null&&t.dataKey!=null}function TU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(r),!0).forEach(function(n){vce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vce(t,e,r){return(e=yce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NB=[0,"auto"],pn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Js=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??pn},vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NB,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vv},yo=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??vn},xce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},c_=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??xce},Kt=(t,e,r)=>{switch(e){case"xAxis":return Js(t,r);case"yAxis":return yo(t,r);case"zAxis":return c_(t,r);case"angleAxis":return a_(t,r);case"radiusAxis":return o_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},bce=(t,e,r)=>{switch(e){case"xAxis":return Js(t,r);case"yAxis":return yo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},ah=(t,e,r)=>{switch(e){case"xAxis":return Js(t,r);case"yAxis":return yo(t,r);case"angleAxis":return a_(t,r);case"radiusAxis":return o_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},k5=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function u_(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var iy=t=>t.graphicalItems.cartesianItems,Bce=G([Bt,sh],u_),d_=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),oh=G([iy,Kt,Bce],d_),Q5=G([oh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(ny)),O5=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),j5=G([oh],O5),f_=t=>t.map(e=>e.data).filter(Boolean).flat(1),Cce=G([oh],f_),h_=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},g_=G([Cce,Zv],h_),m_=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:it(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:it(i,n)}))):t.map(n=>({value:n})),sy=G([g_,Kt,oh],m_);function D5(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function MA(t){return t.filter(e=>zi(e)||e instanceof Date).map(Number).filter(e=>Nn(e)===!1)}function Ece(t,e,r){return!r||typeof e!="number"||Nn(e)?[]:r.length?MA(r.flatMap(n=>{var i=it(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!kn(s)||!kn(a)))return[e-s,e+a]})):[]}var _ce=G([Q5,Zv,sr],P5),R5=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,A=o.map(l_);return[a,{stackedData:jse(t,A,r),graphicalItems:o}]}))},UB=G([_ce,Q5,ih],R5),M5=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=Hse(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Ice=G([UB,vo,Bt],M5),L5=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var o,A,l=(o=n[a.id])===null||o===void 0?void 0:o.filter(d=>D5(i,d)),c=it(s,(A=e.dataKey)!==null&&A!==void 0?A:a.dataKey);return{value:c,errorDomain:Ece(s,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:it(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),ay=t=>t.errorBars,H5=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>D5(r,n));G([j5,ay,Bt],H5);var Sce=G([g_,Kt,j5,ay,Bt],L5);function Tce(t){var{value:e}=t;if(zi(e)||e instanceof Date)return e}var FU=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=MA(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Fce=(t,e,r)=>{var n=t.map(Tce).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&PR(n))?FL(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},p_=t=>{var e;if(t==null||!("domain"in t))return NB;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=MA(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:NB},s0=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},V5=t=>t.referenceElements.dots,Yc=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Nce=G([V5,Bt,sh],Yc),K5=t=>t.referenceElements.areas,Uce=G([K5,Bt,sh],Yc),$5=t=>t.referenceElements.lines,Pce=G([$5,Bt,sh],Yc),G5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kce=G(Nce,Bt,G5),W5=(t,e)=>{var r=MA(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qce=G([Uce,Bt],W5),z5=(t,e)=>{var r=MA(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Oce=G(Pce,Bt,z5),jce=G(kce,Oce,Qce,(t,e,r)=>s0(t,r,e)),Y5=G([Kt],p_),v_=(t,e,r,n,i,s,a)=>{var o=Jle(e,t.allowDataOverflow);if(o!=null)return o;var A=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",l=A?s0(r,i,FU(n)):s0(i,FU(n));return Zle(e,l,t.allowDataOverflow)},Dce=G([Kt,Y5,Ice,Sce,jce,Ve,Bt],v_),Rce=[0,1],y_=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:A}=t,l=go(e,s);return l&&o==null?FL(0,r.length):A==="category"?Fce(n,t,l):i==="expand"?Rce:a}},w_=G([Kt,Ve,g_,sy,ih,Bt,Dce],y_),X5=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Xf(s));return o in Ad?o:"point"}}},Xc=G([Kt,Ve,k5,n_,Bt],X5);function Mce(t){if(t!=null){if(t in Ad)return Ad[t]();var e="scale".concat(Xf(t));if(e in Ad)return Ad[e]()}}function x_(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Mce(e);if(i!=null){var s=i.domain(r).range(n);return Use(s),s}}}var b_=(t,e,r)=>{var n=p_(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Tc(t))return lce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Tc(t))return cce(t,e.tickCount,e.allowDecimals)}},B_=G([w_,ah,Xc],b_),C_=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Tc(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Lce=G([Kt,w_,B_,Bt],C_),Hce=G(sy,Kt,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(MA(t.map(o=>o.value))).sort((o,A)=>o-A);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),q5=G(Hce,Ve,_5,rr,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!kn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=qr(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Vce=(t,e)=>{var r=Js(t,e);return r==null||typeof r.padding!="string"?0:q5(t,"xAxis",e,r.padding)},Kce=(t,e)=>{var r=yo(t,e);return r==null||typeof r.padding!="string"?0:q5(t,"yAxis",e,r.padding)},$ce=G(Js,Vce,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Gce=G(yo,Kce,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Wce=G([rr,$ce,$v,Kv,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),zce=G([rr,Ve,Gce,$v,Kv,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Ah=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Wce(t,r,n);case"yAxis":return zce(t,r,n);case"zAxis":return(i=c_(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return F5(t);case"radiusAxis":return N5(t,r);default:return}},J5=G([Kt,Ah],ty),qc=G([Kt,Xc,Lce,J5],x_);G([oh,ay,Bt],H5);function Z5(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var oy=(t,e)=>e,Ay=(t,e,r)=>r,Yce=G(BE,oy,Ay,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Z5)),Xce=G(CE,oy,Ay,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Z5)),e3=(t,e)=>({width:t.width,height:e.height}),qce=(t,e)=>{var r=typeof e.width=="number"?e.width:Vv;return{width:r,height:t.height}},t3=G(rr,Js,e3),Jce=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Zce=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},eue=G(Xs,rr,Yce,oy,Ay,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=e3(e,o);a==null&&(a=Jce(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(l)*A.height,a+=(l?-1:1)*A.height}),s}),tue=G(Ys,rr,Xce,oy,Ay,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var A=qce(e,o);a==null&&(a=Zce(e,n,t));var l=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(l)*A.width,a+=(l?-1:1)*A.width}),s}),rue=(t,e)=>{var r=rr(t),n=Js(t,e);if(n!=null){var i=eue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},nue=(t,e)=>{var r=rr(t),n=yo(t,e);if(n!=null){var i=tue(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},r3=G(rr,yo,(t,e)=>{var r=typeof e.width=="number"?e.width:Vv;return{width:r,height:t.height}}),NU=(t,e,r)=>{switch(e){case"xAxis":return t3(t,r).width;case"yAxis":return r3(t,r).height;default:return}},n3=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=go(t,n),A=e.map(l=>l.value);if(a&&o&&s==="category"&&i&&PR(A))return A}},E_=G([Ve,sy,Kt,Bt],n3),i3=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=go(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},__=G([Ve,sy,ah,Bt],i3),UU=G([Ve,bce,Xc,qc,E_,__,Ah,B_,Bt],(t,e,r,n,i,s,a,o,A)=>{if(e==null)return null;var l=go(t,A);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:A,categoricalDomain:s,duplicateDomain:i,isCategorical:l,niceTicks:o,range:a,realScaleType:r,scale:n}}),iue=(t,e,r,n,i,s,a,o,A)=>{if(!(e==null||n==null)){var l=go(t,A),{type:c,ticks:d,tickCount:f}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/g:0;m=A==="angleAxis"&&s!=null&&s.length>=2?hr(s[0]-s[1])*2*m:m;var p=d||i;if(p){var y=p.map((w,v)=>{var x=a?a.indexOf(w):w;return{index:v,coordinate:n(x)+m,value:w,offset:m}});return y.filter(w=>!Nn(w.coordinate))}return l&&o?o.map((w,v)=>({coordinate:n(w)+m,value:w,index:v,offset:m})):n.ticks?n.ticks(f).map(w=>({coordinate:n(w)+m,value:w,offset:m})):n.domain().map((w,v)=>({coordinate:n(w)+m,value:a?a[w]:w,index:v,offset:m}))}},s3=G([Ve,ah,Xc,qc,B_,Ah,E_,__,Bt],iue),sue=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=go(t,a),{tickCount:A}=e,l=0;return l=a==="angleAxis"&&(n==null?void 0:n.length)>=2?hr(n[0]-n[1])*2*l:l,o&&s?s.map((c,d)=>({coordinate:r(c)+l,value:c,index:d,offset:l})):r.ticks?r.ticks(A).map(c=>({coordinate:r(c)+l,value:c,offset:l})):r.domain().map((c,d)=>({coordinate:r(c)+l,value:i?i[c]:c,index:d,offset:l}))}},no=G([Ve,ah,qc,Ah,E_,__,Bt],sue),io=G(Kt,qc,(t,e)=>{if(!(t==null||e==null))return i0(i0({},t),{},{scale:e})}),aue=G([Kt,Xc,w_,J5],x_);G((t,e,r)=>c_(t,r),aue,(t,e)=>{if(!(t==null||e==null))return i0(i0({},t),{},{scale:e})});var oue=G([Ve,BE,CE],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),a3=t=>t.options.defaultTooltipEventType,o3=t=>t.options.validateTooltipEventTypes;function A3(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function I_(t,e){var r=a3(t),n=o3(t);return A3(e,r,n)}function Aue(t){return we(e=>I_(e,t))}var l3=(t,e)=>{var r,n=Number(e);if(!(Nn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},lue=t=>t.tooltip.settings,wa={active:!1,index:null,dataKey:void 0,coordinate:void 0},cue={itemInteraction:{click:wa,hover:wa},axisInteraction:{click:wa,hover:wa},keyboardInteraction:wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},c3=jn({name:"tooltip",initialState:cue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Fs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:uue,removeTooltipEntrySettings:due,setTooltipSettingsState:fue,setActiveMouseOverItemIndex:u3,mouseLeaveItem:hue,mouseLeaveChart:d3,setActiveClickItemIndex:gue,setMouseOverAxisIndex:f3,setMouseClickAxisIndex:mue,setSyncInteraction:PB,setKeyboardInteraction:kB}=c3.actions,pue=c3.reducer;function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){vue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vue(t,e,r){return(e=yue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function bue(t){return t.index!=null}var h3=(t,e,r,n)=>{if(e==null)return wa;var i=xue(t,e,r);if(i==null)return wa;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(bue(i)){if(s)return Mg(Mg({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Mg(Mg({},wa),{},{coordinate:i.coordinate})},S_=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!kn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},g3=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var A=a[0],l=A==null?void 0:o(A.positions,s);if(l!=null)return l;var c=i==null?void 0:i[Number(s)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:c.coordinate}}}},m3=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},lh=t=>t.options.tooltipPayloadSearcher,Jc=t=>t.tooltip;function kU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(r),!0).forEach(function(n){Bue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bue(t,e,r){return(e=Cue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cue(t){var e=Eue(t,"string");return typeof e=="symbol"?e:e+""}function Eue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ue(t,e){return t??e}var p3=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:A,dataStartIndex:l,dataEndIndex:c}=r,d=[];return t.reduce((f,g)=>{var m,{dataDefinedOnItem:p,settings:y}=g,w=_ue(p,o),v=Array.isArray(w)?tL(w,l,c):w,x=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:n==null?void 0:n.dataKey,S=y==null?void 0:y.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?T=kR(v,n.dataKey,i):T=s(v,e,A,S),Array.isArray(T))T.forEach(C=>{var E=QU(QU({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(BN({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:it(C.payload,C.dataKey),name:C.name}))});else{var I;f.push(BN({tooltipEntrySettings:y,dataKey:x,payload:T,value:it(T,x),name:(I=it(T,S))!==null&&I!==void 0?I:y==null?void 0:y.name}))}return f},d)}},T_=G([sr,Ve,k5,n_,ir],X5),Iue=G([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Sue=G([ir,zc],u_),ch=G([Iue,sr,Sue],d_),Tue=G([ch],t=>t.filter(ny)),Fue=G([ch],f_),Zc=G([Fue,vo],h_),Nue=G([Tue,vo,sr],P5),F_=G([Zc,sr,ch],m_),Uue=G([sr],p_),Pue=G([ch],t=>t.filter(ny)),kue=G([Nue,Pue,ih],R5),Que=G([kue,vo,ir],M5),Oue=G([ch],O5),jue=G([Zc,sr,Oue,ay,ir],L5),Due=G([V5,ir,zc],Yc),Rue=G([Due,ir],G5),Mue=G([K5,ir,zc],Yc),Lue=G([Mue,ir],W5),Hue=G([$5,ir,zc],Yc),Vue=G([Hue,ir],z5),Kue=G([Rue,Vue,Lue],s0),$ue=G([sr,Uue,Que,jue,Kue,Ve,ir],v_),v3=G([sr,Ve,Zc,F_,ih,ir,$ue],y_),Gue=G([v3,sr,T_],b_),Wue=G([sr,v3,Gue,ir],C_),y3=t=>{var e=ir(t),r=zc(t),n=!1;return Ah(t,e,r,n)},w3=G([sr,y3],ty),x3=G([sr,T_,Wue,w3],x_),zue=G([Ve,F_,sr,ir],n3),Yue=G([Ve,F_,sr,ir],i3),Xue=(t,e,r,n,i,s,a,o)=>{if(e){var{type:A}=e,l=go(t,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=A==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?hr(i[0]-i[1])*2*d:d,l&&a?a.map((f,g)=>({coordinate:n(f)+d,value:f,index:g,offset:d})):n.domain().map((f,g)=>({coordinate:n(f)+d,value:s?s[f]:f,index:g,offset:d}))}}},Zs=G([Ve,sr,T_,x3,y3,zue,Yue,ir],Xue),N_=G([a3,o3,lue],(t,e,r)=>A3(r.shared,t,e)),b3=t=>t.tooltip.settings.trigger,U_=t=>t.tooltip.settings.defaultIndex,ly=G([Jc,N_,b3,U_],h3),so=G([ly,Zc],S_),B3=G([Zs,so],l3),C3=G([ly],t=>{if(t)return t.dataKey}),E3=G([Jc,N_,b3,U_],m3),que=G([Ys,Xs,Ve,rr,Zs,U_,E3,lh],g3),Jue=G([ly,que],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Zue=G([ly],t=>t.active),ede=G([E3,so,vo,sr,B3,lh,N_],p3),tde=G([ede],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){rde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rde(t,e,r){return(e=nde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nde(t){var e=ide(t,"string");return typeof e=="symbol"?e:e+""}function ide(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sde=()=>we(sr),ade=()=>{var t=sde(),e=we(Zs),r=we(x3);return wf(jU(jU({},t),{},{scale:r}),e)},ode=()=>we(n_),P_=(t,e)=>e,_3=(t,e,r)=>r,k_=(t,e,r,n)=>n,Ade=G(Zs,t=>Ov(t,e=>e.coordinate)),Q_=G([Jc,P_,_3,k_],h3),I3=G([Q_,Zc],S_),lde=(t,e,r)=>{if(e!=null){var n=Jc(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},S3=G([Jc,P_,_3,k_],m3),a0=G([Ys,Xs,Ve,rr,Zs,k_,S3,lh],g3),cde=G([Q_,a0],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),T3=G(Zs,I3,l3),ude=G([S3,I3,vo,sr,T3,lh,P_],p3),dde=G([Q_],t=>({isActive:t.active,activeIndex:t.index})),fde=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s)){var A=Vse(t.chartX,t.chartY,e,r,o);if(A){var l=$se(A,e),c=Fse(l,a,s,n,i),d=Kse(e,s,c,A);return{activeIndex:String(c),activeCoordinate:d}}}};function QB(){return QB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QB.apply(null,arguments)}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){hde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hde(t,e,r){return(e=gde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pde(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:A,chartName:l}=t,c=e,d=r,f=n;if(!o||!c||l!=="ScatterChart"&&A!=="axis")return null;var g,m;if(l==="ScatterChart")g=c,m=Hae;else if(l==="BarChart")g=Vae(a,c,i,s),m=BL;else if(a==="radial"){var{cx:p,cy:y,radius:w,startAngle:v,endAngle:x}=CL(c);g={cx:p,cy:y,startAngle:v,endAngle:x,innerRadius:w,outerRadius:w},m=_L}else g={points:boe(a,c,i)},m=TE;var S=typeof o=="object"&&"className"in o?o.className:void 0,T=Lg(Lg(Lg(Lg({stroke:"#ccc",pointerEvents:"none"},i),g),yt(o,!1)),{},{payload:d,payloadIndex:f,className:Ge("recharts-tooltip-cursor",S)});return b.isValidElement(o)?b.cloneElement(o,T):b.createElement(m,T)}function vde(t){var e=ade(),r=AL(),n=Gv(),i=ode();return b.createElement(pde,QB({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var F3=b.createContext(null),yde=()=>b.useContext(F3),N3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(A,l,c){this.fn=A,this.context=l,this.once=c||!1}function s(A,l,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,d||A,f),m=r?r+l:l;return A._events[m]?A._events[m].fn?A._events[m]=[A._events[m],g]:A._events[m].push(g):(A._events[m]=g,A._eventsCount++),A}function a(A,l){--A._eventsCount===0?A._events=new n:delete A._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)e.call(c,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},o.prototype.listeners=function(l){var c=r?r+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,g=d.length,m=new Array(g);f<g;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(l){var c=r?r+l:l,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(l,c,d,f,g,m){var p=r?r+l:l;if(!this._events[p])return!1;var y=this._events[p],w=arguments.length,v,x;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,g),!0;case 6:return y.fn.call(y.context,c,d,f,g,m),!0}for(x=1,v=new Array(w-1);x<w;x++)v[x-1]=arguments[x];y.fn.apply(y.context,v)}else{var S=y.length,T;for(x=0;x<S;x++)switch(y[x].once&&this.removeListener(l,y[x].fn,void 0,!0),w){case 1:y[x].fn.call(y[x].context);break;case 2:y[x].fn.call(y[x].context,c);break;case 3:y[x].fn.call(y[x].context,c,d);break;case 4:y[x].fn.call(y[x].context,c,d,f);break;default:if(!v)for(T=1,v=new Array(w-1);T<w;T++)v[T-1]=arguments[T];y[x].fn.apply(y[x].context,v)}}return!0},o.prototype.on=function(l,c,d){return s(this,l,c,d,!1)},o.prototype.once=function(l,c,d){return s(this,l,c,d,!0)},o.prototype.removeListener=function(l,c,d,f){var g=r?r+l:l;if(!this._events[g])return this;if(!c)return a(this,g),this;var m=this._events[g];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&a(this,g);else{for(var p=0,y=[],w=m.length;p<w;p++)(m[p].fn!==c||f&&!m[p].once||d&&m[p].context!==d)&&y.push(m[p]);y.length?this._events[g]=y.length===1?y[0]:y:a(this,g)}return this},o.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&a(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(N3);var wde=N3.exports;const xde=Xi(wde);var Sf=new xde,OB="recharts.syncEvent.tooltip",RU="recharts.syncEvent.brush";function O_(t,e){if(e){var r=Number.parseInt(e,10);if(!Nn(r))return t==null?void 0:t[r]}}var bde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},U3=jn({name:"options",initialState:bde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Bde=U3.reducer,{createEventEmitter:Cde}=U3.actions;function Ede(t){return t.tooltip.syncInteraction}var _de={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},P3=jn({name:"chartData",initialState:_de,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:MU,setDataStartEndIndexes:Ide,setComputedData:Zve}=P3.actions,Sde=P3.reducer,k3=()=>{};function Tde(){var t=we(i_),e=we(s_),r=Nt(),n=we(I5),i=we(Zs),s=Gv(),a=EE(),o=we(A=>A.rootProps.className);b.useEffect(()=>{if(t==null)return k3;var A=(l,c,d)=>{if(e!==d&&t===l){if(n==="index"){r(c);return}if(i!=null){var f;if(typeof n=="function"){var g={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},m=n(i,g);f=i[m]}else n==="value"&&(f=i.find(I=>String(I.value)===c.payload.label));var{coordinate:p}=c.payload;if(f==null||c.payload.active===!1||p==null||a==null){r(PB({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:y,y:w}=p,v=Math.min(y,a.x+a.width),x=Math.min(w,a.y+a.height),S={x:s==="horizontal"?f.coordinate:v,y:s==="horizontal"?x:f.coordinate},T=PB({active:c.payload.active,coordinate:S,dataKey:c.payload.dataKey,index:String(f.index),label:c.payload.label});r(T)}}};return Sf.on(OB,A),()=>{Sf.off(OB,A)}},[o,r,e,t,n,i,s,a])}function Fde(){var t=we(i_),e=we(s_),r=Nt();b.useEffect(()=>{if(t==null)return k3;var n=(i,s,a)=>{e!==a&&t===i&&r(Ide(s))};return Sf.on(RU,n),()=>{Sf.off(RU,n)}},[r,e,t])}function Nde(){var t=Nt();b.useEffect(()=>{t(Cde())},[t]),Tde(),Fde()}function Ude(t,e,r,n,i,s){var a=we(f=>lde(f,t,e)),o=we(s_),A=we(i_),l=we(I5),c=we(Ede),d=c==null?void 0:c.active;b.useEffect(()=>{if(!d&&A!=null&&o!=null){var f=PB({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});Sf.emit(OB,A,f,o)}},[d,r,a,i,n,o,A,l,s])}function LU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(r),!0).forEach(function(n){Pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return(e=kde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kde(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ode(t){return t.dataKey}function jde(t,e){return b.isValidElement(t)?b.cloneElement(t,e):typeof t=="function"?b.createElement(t,e):b.createElement(wae,e)}var VU=[],Dde={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!jA.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ld(t){var e=Dn(t,Dde),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:A,offset:l,payloadUniqBy:c,position:d,reverseDirection:f,useTranslate3d:g,wrapperStyle:m,cursor:p,shared:y,trigger:w,defaultIndex:v,portal:x,axisId:S}=e,T=Nt(),I=typeof v=="number"?String(v):v;b.useEffect(()=>{T(fue({shared:y,trigger:w,axisId:S,active:r,defaultIndex:I}))},[T,y,w,S,r,I]);var C=EE(),E=dL(),F=Aue(y),{activeIndex:N,isActive:k}=we(D=>dde(D,F,w,I)),Q=we(D=>ude(D,F,w,I)),P=we(D=>T3(D,F,w,I)),oe=we(D=>cde(D,F,w,I)),Ce=Q,ve=yde(),xe=r??k,[Z,ae]=TM([Ce,xe]),de=F==="axis"?P:void 0;Ude(F,w,oe,de,N,xe);var Fe=x??ve;if(Fe==null)return null;var ie=Ce??VU;xe||(ie=VU),o&&ie.length&&(ie=pM(Ce.filter(D=>D.value!=null&&(D.hide!==!0||e.includeHidden)),c,Ode));var Ue=ie.length>0,ze=b.createElement(Iae,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:A,active:xe,coordinate:oe,hasPayload:Ue,offset:l,position:d,reverseDirection:f,useTranslate3d:g,viewBox:C,wrapperStyle:m,lastBoundingBox:Z,innerRef:ae,hasPortalFromProps:!!x},jde(a,HU(HU({},e),{},{payload:ie,label:de,active:xe,coordinate:oe,accessibilityLayer:E})));return b.createElement(b.Fragment,null,LC.createPortal(ze,Fe),xe&&b.createElement(vde,{cursor:p,tooltipEventType:F,coordinate:oe,payload:Ce,index:N}))}var Q3={},O3={},j3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const A=s!=null&&s.includes("leading"),l=s==null||s.includes("trailing"),c=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},d=()=>{l&&c(),p()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},n)},m=()=>{f!==null&&(clearTimeout(f),f=null)},p=()=>{m(),a=void 0,o=null},y=()=>{c()},w=function(...v){if(i!=null&&i.aborted)return;a=this,o=v;const x=f==null;g(),A&&x&&c()};return w.schedule=g,w.cancel=p,w.flush=y,i==null||i.addEventListener("abort",p,{once:!0}),w}t.debounce=e})(j3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j3;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:A}=s,l=Array(2);a&&(l[0]="leading"),o&&(l[1]="trailing");let c,d=null;const f=e.debounce(function(...p){c=n.apply(this,p),d=null},i,{edges:l}),g=function(...p){return A!=null&&(d===null&&(d=Date.now()),Date.now()-d>=A)?(c=n.apply(this,p),d=Date.now(),f.cancel(),f.schedule(),c):(f.apply(this,p),c)},m=()=>(f.flush(),c);return g.cancel=f.cancel,g.flush=m,g}t.debounce=r})(O3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O3;function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(Q3);var Rde=Q3.throttle;const Mde=Xi(Rde);var Ud=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){Lde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lde(t,e,r){return(e=Hde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hde(t){var e=Vde(t,"string");return typeof e=="symbol"?e:e+""}function Vde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kl=b.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:o,maxHeight:A,children:l,debounce:c=0,id:d,className:f,onResize:g,style:m={}}=t,p=b.useRef(null),y=b.useRef();y.current=g,b.useImperativeHandle(e,()=>p.current);var[w,v]=b.useState({containerWidth:n.width,containerHeight:n.height}),x=b.useCallback((T,I)=>{v(C=>{var E=Math.round(T),F=Math.round(I);return C.containerWidth===E&&C.containerHeight===F?C:{containerWidth:E,containerHeight:F}})},[]);b.useEffect(()=>{var T=F=>{var N,{width:k,height:Q}=F[0].contentRect;x(k,Q),(N=y.current)===null||N===void 0||N.call(y,k,Q)};c>0&&(T=Mde(T,c,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:C,height:E}=p.current.getBoundingClientRect();return x(C,E),I.observe(p.current),()=>{I.disconnect()}},[x,c]);var S=b.useMemo(()=>{var{containerWidth:T,containerHeight:I}=w;if(T<0||I<0)return null;Ud(qo(i)||qo(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Ud(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=qo(i)?T:i,E=qo(s)?I:s;return r&&r>0&&(C?E=C/r:E&&(C=E*r),A&&E>A&&(E=A)),Ud(C>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,E,i,s,a,o,r),b.Children.map(l,F=>b.cloneElement(F,{width:C,height:E,style:zw({width:C,height:E},F.props.style)}))},[r,l,s,A,o,a,w,i]);return b.createElement("div",{id:d?"".concat(d):void 0,className:Ge("recharts-responsive-container",f),style:zw(zw({},m),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:A}),ref:p},b.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),uh=t=>null;uh.displayName="Cell";function Kde(t,e,r){return(e=$de(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $de(t){var e=Gde(t,"string");return typeof e=="symbol"?e:e+""}function Gde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wde{constructor(e){Kde(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){Yde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yde(t,e,r){return(e=Xde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xde(t){var e=qde(t,"string");return typeof e=="symbol"?e:e+""}function qde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jde={cacheSize:2e3,enableCache:!0},D3=zde({},Jde),GU=new Wde(D3.cacheSize),Zde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WU="recharts_measurement_span";function efe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var zU=(t,e)=>{try{var r=document.getElementById(WU);r||(r=document.createElement("span"),r.setAttribute("id",WU),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Zde,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Pd=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jA.isSsr)return{width:0,height:0};if(!D3.enableCache)return zU(e,r);var n=efe(e,r),i=GU.get(n);if(i)return i;var s=zU(e,r);return GU.set(n,s),s},YU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nfe=Object.keys(R3),Ql="NaN";function ife(t,e){return t*R3[e]}class tn{static parse(e){var r,[,n,i]=(r=rfe.exec(e))!==null&&r!==void 0?r:[];return new tn(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Nn(e)&&(this.unit=""),r!==""&&!tfe.test(r)&&(this.num=NaN,this.unit=""),nfe.includes(r)&&(this.num=ife(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new tn(NaN,""):new tn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new tn(NaN,""):new tn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tn(NaN,""):new tn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tn(NaN,""):new tn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nn(this.num)}}function M3(t){if(t.includes(Ql))return Ql;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=YU.exec(e))!==null&&r!==void 0?r:[],a=tn.parse(n??""),o=tn.parse(s??""),A=i==="*"?a.multiply(o):a.divide(o);if(A.isNaN())return Ql;e=e.replace(YU,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,c,d,f]=(l=XU.exec(e))!==null&&l!==void 0?l:[],g=tn.parse(c??""),m=tn.parse(f??""),p=d==="+"?g.add(m):g.subtract(m);if(p.isNaN())return Ql;e=e.replace(XU,p.toString())}return e}var qU=/\(([^()]*)\)/;function sfe(t){for(var e=t,r;(r=qU.exec(e))!=null;){var[,n]=r;e=e.replace(qU,M3(n))}return e}function afe(t){var e=t.replace(/\s+/g,"");return e=sfe(e),e=M3(e),e}function ofe(t){try{return afe(t)}catch{return Ql}}function Yw(t){var e=ofe(t.slice(5,-1));return e===Ql?"":e}var Afe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lfe=["dx","dy","angle","className","breakAll"];function jB(){return jB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jB.apply(null,arguments)}function JU(t,e){if(t==null)return{};var r,n,i=cfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var L3=/[ \f\n\r\t\v\u2028\u2029]+/,H3=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];ht(e)||(r?i=e.toString().split(""):i=e.toString().split(L3));var s=i.map(o=>({word:o,width:Pd(o,n).width})),a=r?0:Pd(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},ufe=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:A}=t,l=he(s),c=a,d=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return k.reduce((Q,P)=>{var{word:oe,width:Ce}=P,ve=Q[Q.length-1];if(ve&&(n==null||i||ve.width+Ce+r<Number(n)))ve.words.push(oe),ve.width+=Ce+r;else{var xe={words:[oe],width:Ce};Q.push(xe)}return Q},[])},f=d(e),g=N=>N.reduce((k,Q)=>k.width>Q.width?k:Q);if(!l||i)return f;var m=f.length>s||g(f).width>Number(n);if(!m)return f;for(var p="…",y=N=>{var k=c.slice(0,N),Q=H3({breakAll:A,style:o,children:k+p}).wordsWithComputedWidth,P=d(Q),oe=P.length>s||g(P).width>Number(n);return[oe,P]},w=0,v=c.length-1,x=0,S;w<=v&&x<=c.length-1;){var T=Math.floor((w+v)/2),I=T-1,[C,E]=y(I),[F]=y(T);if(!C&&!F&&(w=T+1),C&&F&&(v=T-1),!C&&F){S=E;break}x++}return S||f},ZU=t=>{var e=ht(t)?[]:t.toString().split(L3);return[{words:e}]},dfe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!jA.isSsr){var o,A,l=H3({breakAll:s,children:n,style:i});if(l){var{wordsWithComputedWidth:c,spaceWidth:d}=l;o=c,A=d}else return ZU(n);return ufe({breakAll:s,children:n,maxLines:a,style:i},o,A,e,r)}return ZU(n)},eP="#808080",cy=b.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:A="end",fill:l=eP}=t,c=JU(t,Afe),d=b.useMemo(()=>dfe({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:a,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,a,c.style,c.width]),{dx:f,dy:g,angle:m,className:p,breakAll:y}=c,w=JU(c,lfe);if(!zi(r)||!zi(n))return null;var v=r+(he(f)?f:0),x=n+(he(g)?g:0),S;switch(A){case"start":S=Yw("calc(".concat(s,")"));break;case"middle":S=Yw("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:S=Yw("calc(".concat(d.length-1," * -").concat(i,")"));break}var T=[];if(a){var I=d[0].width,{width:C}=c;T.push("scale(".concat(he(C)?C/I:1,")"))}return m&&T.push("rotate(".concat(m,", ").concat(v,", ").concat(x,")")),T.length&&(w.transform=T.join(" ")),b.createElement("text",jB({},yt(w,!0),{ref:e,x:v,y:x,className:Ge("recharts-text",p),textAnchor:o,fill:l.includes("url")?eP:l}),d.map((E,F)=>{var N=E.words.join(y?"":" ");return b.createElement("tspan",{x:v,dy:F===0?S:i,key:"".concat(N,"-").concat(F)},N)}))});cy.displayName="Text";var ffe=["offset"],hfe=["labelRef"];function tP(t,e){if(t==null)return{};var r,n,i=gfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(r),!0).forEach(function(n){mfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mfe(t,e,r){return(e=pfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pfe(t){var e=vfe(t,"string");return typeof e=="symbol"?e:e+""}function vfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ps(){return ps=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ps.apply(null,arguments)}var yfe=t=>{var{value:e,formatter:r}=t,n=ht(t.children)?e:t.children;return typeof r=="function"?r(n):n},j_=t=>t!=null&&typeof t=="function",wfe=(t,e)=>{var r=hr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},xfe=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:o,cy:A,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f,clockWise:g}=n,m=(l+c)/2,p=wfe(d,f),y=p>=0?1:-1,w,v;i==="insideStart"?(w=d+y*s,v=g):i==="insideEnd"?(w=f-y*s,v=!g):i==="end"&&(w=f+y*s,v=g),v=p<=0?v:!v;var x=zt(o,A,m,w),S=zt(o,A,m,w+(v?1:-1)*359),T="M".concat(x.x,",").concat(x.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(v?0:1,`,
    `).concat(S.x,",").concat(S.y),I=ht(t.id)?pf("recharts-radial-line-"):t.id;return b.createElement("text",ps({},r,{dominantBaseline:"central",className:Ge("recharts-radial-bar-label",a)}),b.createElement("defs",null,b.createElement("path",{id:I,d:T})),b.createElement("textPath",{xlinkHref:"#".concat(I)},e))},bfe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:A}=t,l=(o+A)/2;if(r==="outside"){var{x:c,y:d}=zt(n,i,a+e,l);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:g,y:m}=zt(n,i,f,l);return{x:g,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Bfe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:o,height:A}=e,l=A>=0?1:-1,c=l*n,d=l>0?"end":"start",f=l>0?"start":"end",g=o>=0?1:-1,m=g*n,p=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var w={x:s+o/2,y:a-l*n,textAnchor:"middle",verticalAnchor:d};return kt(kt({},w),r?{height:Math.max(a-r.y,0),width:o}:{})}if(i==="bottom"){var v={x:s+o/2,y:a+A+c,textAnchor:"middle",verticalAnchor:f};return kt(kt({},v),r?{height:Math.max(r.y+r.height-(a+A),0),width:o}:{})}if(i==="left"){var x={x:s-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"};return kt(kt({},x),r?{width:Math.max(x.x-r.x,0),height:A}:{})}if(i==="right"){var S={x:s+o+m,y:a+A/2,textAnchor:y,verticalAnchor:"middle"};return kt(kt({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:A}:{})}var T=r?{width:o,height:A}:{};return i==="insideLeft"?kt({x:s+m,y:a+A/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideRight"?kt({x:s+o-m,y:a+A/2,textAnchor:p,verticalAnchor:"middle"},T):i==="insideTop"?kt({x:s+o/2,y:a+c,textAnchor:"middle",verticalAnchor:f},T):i==="insideBottom"?kt({x:s+o/2,y:a+A-c,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?kt({x:s+m,y:a+c,textAnchor:y,verticalAnchor:f},T):i==="insideTopRight"?kt({x:s+o-m,y:a+c,textAnchor:p,verticalAnchor:f},T):i==="insideBottomLeft"?kt({x:s+m,y:a+A-c,textAnchor:y,verticalAnchor:d},T):i==="insideBottomRight"?kt({x:s+o-m,y:a+A-c,textAnchor:p,verticalAnchor:d},T):i&&typeof i=="object"&&(he(i.x)||qo(i.x))&&(he(i.y)||qo(i.y))?kt({x:s+qr(i.x,o),y:a+qr(i.y,A),textAnchor:"end",verticalAnchor:"end"},T):kt({x:s+o/2,y:a+A/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Cfe=t=>"cx"in t&&he(t.cx);function xn(t){var{offset:e=5}=t,r=tP(t,ffe),n=kt({offset:e},r),{viewBox:i,position:s,value:a,children:o,content:A,className:l="",textBreakAll:c,labelRef:d}=n,f=we(U5),g=EE(),m=s==="center"?g:f??g,p=i||m;if(!p||ht(a)&&ht(o)&&!b.isValidElement(A)&&typeof A!="function")return null;var y=kt(kt({},n),{},{viewBox:p});if(b.isValidElement(A)){var w=tP(y,hfe);return b.cloneElement(A,w)}var v;if(typeof A=="function"){if(v=b.createElement(A,y),b.isValidElement(v))return v}else v=yfe(n);var x=Cfe(p),S=yt(n,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return xfe(n,v,S,p);var T=x?bfe(p,n.offset,n.position):Bfe(n,p);return b.createElement(cy,ps({ref:d,className:Ge("recharts-label",l)},S,T,{breakAll:c}),v)}xn.displayName="Label";var V3=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:o,innerRadius:A,outerRadius:l,x:c,y:d,top:f,left:g,width:m,height:p,clockWise:y,labelViewBox:w}=t;if(w)return w;if(he(m)&&he(p)){if(he(c)&&he(d))return{x:c,y:d,width:m,height:p};if(he(f)&&he(g))return{x:f,y:g,width:m,height:p}}if(he(c)&&he(d))return{x:c,y:d,width:0,height:0};if(he(e)&&he(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:A||0,outerRadius:l||o||a||0,clockWise:y};if(t.viewBox)return t.viewBox},Efe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?b.createElement(xn,ps({key:"label-implicit"},n)):zi(t)?b.createElement(xn,ps({key:"label-implicit",value:t},n)):b.isValidElement(t)?t.type===xn?b.cloneElement(t,kt({key:"label-implicit"},n)):b.createElement(xn,ps({key:"label-implicit",content:t},n)):j_(t)?b.createElement(xn,ps({key:"label-implicit",content:t},n)):t&&typeof t=="object"?b.createElement(xn,ps({},t,{key:"label-implicit"},n)):null},_fe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=V3(e),o=Jf(i,xn).map((l,c)=>b.cloneElement(l,{viewBox:r||a,key:"label-".concat(c)}));if(!n)return o;var A=Efe(e.label,r||a,s);return[A,...o]};xn.parseViewBox=V3;xn.renderCallByParent=_fe;var K3={},$3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})($3);var G3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(G3);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3,r=G3,n=Nv;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(K3);var Ife=K3.last;const Sfe=Xi(Ife);var Tfe=["valueAccessor"],Ffe=["data","dataKey","clockWise","id","textBreakAll"];function o0(){return o0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o0.apply(null,arguments)}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){Nfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nfe(t,e,r){return(e=Ufe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ufe(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sP(t,e){if(t==null)return{};var r,n,i=kfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Qfe=t=>Array.isArray(t.value)?Sfe(t.value):t.value;function $a(t){var{valueAccessor:e=Qfe}=t,r=sP(t,Tfe),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:o}=r,A=sP(r,Ffe);return!n||!n.length?null:b.createElement(Lr,{className:"recharts-label-list"},n.map((l,c)=>{var d=ht(i)?e(l,c):it(l&&l.payload,i),f=ht(a)?{}:{id:"".concat(a,"-").concat(c)};return b.createElement(xn,o0({},yt(l,!0),A,f,{parentViewBox:l.parentViewBox,value:d,textBreakAll:o,viewBox:xn.parseViewBox(ht(s)?l:iP(iP({},l),{},{clockWise:s})),key:"label-".concat(c),index:c}))}))}$a.displayName="LabelList";function Ofe(t,e){return t?t===!0?b.createElement($a,{key:"labelList-implicit",data:e}):b.isValidElement(t)||j_(t)?b.createElement($a,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?b.createElement($a,o0({data:e},t,{key:"labelList-implicit"})):null:null}function jfe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=Jf(n,$a).map((a,o)=>b.cloneElement(a,{data:e,key:"labelList-".concat(o)}));if(!r)return i;var s=Ofe(t.label,e);return[s,...i]}$a.renderCallByParent=jfe;function DB(){return DB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DB.apply(null,arguments)}var W3=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Ge("recharts-dot",i);return e===+e&&r===+r&&n===+n?b.createElement("circle",DB({},zs(t),eE(t),{className:s,cx:e,cy:r,r:n})):null},z3=t=>t.graphicalItems.polarItems,Dfe=G([Bt,sh],u_),D_=G([z3,Kt,Dfe],d_),Rfe=G([D_],f_),R_=G([Rfe,e_],h_),Mfe=G([R_,Kt,D_],m_),Lfe=G([R_,Kt,D_],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=it(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:it(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),aP=()=>{},Hfe=G([Kt,Y5,aP,Lfe,aP,Ve,Bt],v_),Y3=G([Kt,Ve,R_,Mfe,ih,Bt,Hfe],y_),Vfe=G([Y3,Kt,Xc],b_),eye=G([Kt,Y3,Vfe,Bt],C_),Kfe={radiusAxis:{},angleAxis:{}},X3=jn({name:"polarAxis",initialState:Kfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:tye,removeRadiusAxis:rye,addAngleAxis:nye,removeAngleAxis:iye}=X3.actions,$fe=X3.reducer;function oP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(r),!0).forEach(function(n){Gfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gfe(t,e,r){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wfe(t){var e=zfe(t,"string");return typeof e=="symbol"?e:e+""}function zfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yfe=(t,e)=>e,M_=G([z3,Yfe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Xfe=[],L_=(t,e,r)=>(r==null?void 0:r.length)===0?Xfe:r,q3=G([e_,M_,L_],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>AP(AP({},e.presentationProps),s.props))),i!=null)return i}}),qfe=G([q3,M_,L_],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=it(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:Kc(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),Jfe=G([q3,M_,L_,rr],(t,e,r,n)=>{if(!(e==null||t==null))return Vhe({offset:n,pieSettings:e,displayedData:t,cells:r})}),J3={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(J3);var Zfe=J3.isPlainObject;const ehe=Xi(Zfe);function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(null,arguments)}var lP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},the={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rhe=t=>{var e=Dn(t,the),r=b.useRef(),[n,i]=b.useState(-1);b.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:A,height:l,className:c}=e,{animationEasing:d,animationDuration:f,animationBegin:g,isUpdateAnimationActive:m}=e;if(s!==+s||a!==+a||o!==+o||A!==+A||l!==+l||o===0&&A===0||l===0)return null;var p=Ge("recharts-trapezoid",c);return m?b.createElement(Gp,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:l,x:s,y:a},to:{upperWidth:o,lowerWidth:A,height:l,x:s,y:a},duration:f,animationEasing:d,isActive:m},y=>{var{upperWidth:w,lowerWidth:v,height:x,x:S,y:T}=y;return b.createElement(Gp,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:f,easing:d},b.createElement("path",A0({},yt(e,!0),{className:p,d:lP(S,T,w,v,x),ref:r})))}):b.createElement("g",null,b.createElement("path",A0({},yt(e,!0),{className:p,d:lP(s,a,o,A,l)})))},nhe=["option","shapeType","propTransformer","activeClassName","isActive"];function ihe(t,e){if(t==null)return{};var r,n,i=she(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function she(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){ahe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ahe(t,e,r){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ohe(t){var e=Ahe(t,"string");return typeof e=="symbol"?e:e+""}function Ahe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lhe(t,e){return l0(l0({},e),t)}function che(t,e){return t==="symbols"}function uP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return b.createElement(BL,r);case"trapezoid":return b.createElement(rhe,r);case"sector":return b.createElement(_L,r);case"symbols":if(che(e))return b.createElement(sE,r);break;default:return null}}function uhe(t){return b.isValidElement(t)?t.props:t}function Z3(t){var{option:e,shapeType:r,propTransformer:n=lhe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=ihe(t,nhe),o;if(b.isValidElement(e))o=b.cloneElement(e,l0(l0({},a),uhe(e)));else if(typeof e=="function")o=e(a);else if(ehe(e)&&typeof e!="boolean"){var A=n(e,a);o=b.createElement(uP,{shapeType:r,elementProps:A})}else{var l=a;o=b.createElement(uP,{shapeType:r,elementProps:l})}return s?b.createElement(Lr,{className:i},o):o}var H_=(t,e)=>{var r=Nt();return(n,i)=>s=>{t==null||t(n,i,s),r(u3({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},V_=t=>{var e=Nt();return(r,n)=>i=>{t==null||t(r,n,i),e(hue())}},K_=(t,e)=>{var r=Nt();return(n,i)=>s=>{t==null||t(n,i,s),r(gue({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function $_(t){var{fn:e,args:r}=t,n=Nt(),i=fn();return b.useEffect(()=>{if(!i){var s=e(r);return n(uue(s)),()=>{n(due(s))}}},[e,r,n,i]),null}var eH=()=>{};function tH(t){var{legendPayload:e}=t,r=Nt(),n=fn();return b.useEffect(()=>n?eH:(r(cL(e)),()=>{r(uL(e))}),[r,n,e]),null}function dhe(t){var{legendPayload:e}=t,r=Nt(),n=we(Ve);return b.useEffect(()=>n!=="centric"&&n!=="radial"?eH:(r(cL(e)),()=>{r(uL(e))}),[r,n,e]),null}function G_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=b.useRef(pf(e)),n=b.useRef(t);return n.current!==t&&(r.current=pf(e),n.current=t),r.current}var Xw,fhe=()=>{var[t]=b.useState(()=>pf("uid-"));return t},hhe=(Xw=GP.useId)!==null&&Xw!==void 0?Xw:fhe;function ghe(t,e){var r=hhe();return e||(t?"".concat(t,"-").concat(r):r)}var mhe=b.createContext(void 0),W_=t=>{var{id:e,type:r,children:n}=t,i=ghe("recharts-".concat(r),e);return b.createElement(mhe.Provider,{value:i},n(i))},phe={cartesianItems:[],polarItems:[]},rH=jn({name:"graphicalItems",initialState:phe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Fs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Fs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Fs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:vhe,replaceCartesianGraphicalItem:yhe,removeCartesianGraphicalItem:whe,addPolarGraphicalItem:xhe,removePolarGraphicalItem:bhe}=rH.actions,Bhe=rH.reducer;function nH(t){var e=Nt(),r=b.useRef(null);return b.useEffect(()=>{r.current===null?e(vhe(t)):r.current!==t&&e(yhe({prev:r.current,next:t})),r.current=t},[e,t]),b.useEffect(()=>()=>{r.current&&(e(whe(r.current)),r.current=null)},[e]),null}function Che(t){var e=Nt();return b.useEffect(()=>(e(xhe(t)),()=>{e(bhe(t))}),[e,t]),null}function Ehe(){}var _he={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},dP={t:0},qw={t:1};function z_(t){var e=Dn(t,_he),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:A,children:l}=e,c=bL("JavascriptAnimate",e.animationManager),[d,f]=b.useState(r?dP:qw),g=b.useRef(null);return b.useEffect(()=>{r||f(qw)},[r]),b.useEffect(()=>{if(!r||!n)return Ehe;var m=xL(dP,qw,yL(s),i,f,c.getTimeoutController()),p=()=>{g.current=m()};return c.start([A,a,p,i,o]),()=>{c.stop(),g.current&&g.current(),o()}},[r,n,i,s,a,A,o,c]),l(d.t)}var Ihe=["onMouseEnter","onClick","onMouseLeave"],She=["id"],The=["id"];function Y_(t,e){if(t==null)return{};var r,n,i=Fhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function fP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(r),!0).forEach(function(n){Nhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nhe(t,e,r){return(e=Uhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uhe(t){var e=Phe(t,"string");return typeof e=="symbol"?e:e+""}function Phe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ks.apply(null,arguments)}function khe(t){var e=b.useMemo(()=>Jf(t.children,uh),[t.children]),r=we(n=>qfe(n,t.id,e));return r==null?null:b.createElement(dhe,{legendPayload:r})}function Qhe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:A,tooltipType:l}=t;return{dataDefinedOnItem:n==null?void 0:n.map(c=>c.tooltipPayload),positions:n==null?void 0:n.map(c=>c.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Kc(o,e),hide:A,type:l,color:a,unit:""}}}var Ohe=(t,e)=>t>e?"start":t<e?"end":"middle",jhe=(t,e,r)=>typeof e=="function"?e(t):qr(e,r,r*.8),Dhe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=eL(s,a),A=i+qr(t.cx,s,s/2),l=n+qr(t.cy,a,a/2),c=qr(t.innerRadius,o,0),d=jhe(r,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:A,cy:l,innerRadius:c,outerRadius:d,maxRadius:f}},Rhe=(t,e)=>{var r=hr(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Mhe=(t,e)=>{if(b.isValidElement(t))return b.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Ge("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return b.createElement(TE,Ks({},e,{type:"linear",className:r}))},Lhe=(t,e,r)=>{if(b.isValidElement(t))return b.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),b.isValidElement(n)))return n;var i=Ge("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return b.createElement(cy,Ks({},e,{alignmentBaseline:"middle",className:i}),n)};function Hhe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=zs(r),A=yt(i,!1),l=yt(s,!1),c=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,d=e.map((f,g)=>{var m=(f.startAngle+f.endAngle)/2,p=zt(f.cx,f.cy,f.outerRadius+c,m),y=jt(jt(jt(jt({},o),f),{},{stroke:"none"},A),{},{index:g,textAnchor:Ohe(p.x,f.cx)},p),w=jt(jt(jt(jt({},o),f),{},{fill:"none",stroke:f.fill},l),{},{index:g,points:[zt(f.cx,f.cy,f.outerRadius,m),p],key:"line"});return b.createElement(Lr,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(g)},s&&Mhe(s,w),Lhe(i,y,it(f,a)))});return b.createElement(Lr,{className:"recharts-pie-labels"},d)}function iH(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=we(so),{onMouseEnter:o,onClick:A,onMouseLeave:l}=i,c=Y_(i,Ihe),d=H_(o,i.dataKey),f=V_(l),g=K_(A,i.dataKey);return e==null?null:b.createElement(b.Fragment,null,e.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&e.length!==1)return null;var y=r&&String(p)===a,w=a?n:null,v=y?r:w,x=jt(jt({},m),{},{stroke:m.stroke,tabIndex:-1,[sL]:p,[aL]:i.dataKey});return b.createElement(Lr,Ks({tabIndex:-1,className:"recharts-pie-sector"},qf(c,m,p),{onMouseEnter:d(m,p),onMouseLeave:f(m,p),onClick:g(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),b.createElement(Z3,Ks({option:v,isActive:y,shapeType:"sector"},x)))}),b.createElement(Hhe,{sectors:e,props:i,showLabels:s}))}function Vhe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:A,dataKey:l,nameKey:c,tooltipType:d}=r,f=Math.abs(r.minAngle),g=Rhe(o,A),m=Math.abs(g),p=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,y=n.filter(I=>it(I,l,0)!==0).length,w=(m>=360?y:y-1)*p,v=m-y*f-w,x=n.reduce((I,C)=>{var E=it(C,l,0);return I+(he(E)?E:0)},0),S;if(x>0){var T;S=n.map((I,C)=>{var E=it(I,l,0),F=it(I,c,C),N=Dhe(r,s,I),k=(he(E)?E:0)/x,Q,P=jt(jt({},I),i&&i[C]&&i[C].props);C?Q=T.endAngle+hr(g)*p*(E!==0?1:0):Q=o;var oe=Q+hr(g)*((E!==0?f:0)+k*v),Ce=(Q+oe)/2,ve=(N.innerRadius+N.outerRadius)/2,xe=[{name:F,value:E,payload:P,dataKey:l,type:d}],Z=zt(N.cx,N.cy,ve,Ce);return T=jt(jt(jt(jt({},r.presentationProps),{},{percent:k,cornerRadius:a,name:F,tooltipPayload:xe,midAngle:Ce,middleRadius:ve,tooltipPosition:Z},P),N),{},{value:it(I,l),startAngle:Q,endAngle:oe,payload:P,paddingAngle:hr(g)*p}),T})}return S}function Khe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:A,inactiveShape:l,onAnimationStart:c,onAnimationEnd:d}=e,f=G_(e,"recharts-pie-"),g=r.current,[m,p]=b.useState(!0),y=b.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),w=b.useCallback(()=>{typeof c=="function"&&c(),p(!0)},[c]);return b.createElement(z_,{begin:s,duration:a,isActive:i,easing:o,onAnimationStart:w,onAnimationEnd:y,key:f},v=>{var x=[],S=n&&n[0],T=S.startAngle;return n.forEach((I,C)=>{var E=g&&g[C],F=C>0?ro(I,"paddingAngle",0):0;if(E){var N=HF(E.endAngle-E.startAngle,I.endAngle-I.startAngle),k=jt(jt({},I),{},{startAngle:T+F,endAngle:T+N(v)+F});x.push(k),T=k.endAngle}else{var{endAngle:Q,startAngle:P}=I,oe=HF(0,Q-P),Ce=oe(v),ve=jt(jt({},I),{},{startAngle:T+F,endAngle:T+Ce+F});x.push(ve),T=ve.endAngle}}),r.current=x,b.createElement(Lr,null,b.createElement(iH,{sectors:x,activeShape:A,inactiveShape:l,allOtherPieProps:e,showLabels:!m}))})}function $he(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=b.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?b.createElement(Khe,{props:t,previousSectorsRef:s}):b.createElement(iH,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Ghe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=Ge("recharts-pie",r);return e?null:b.createElement(Lr,{tabIndex:n,className:i},b.createElement($he,t))}var Whe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!jA.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zhe(t){var{id:e}=t,r=Y_(t,She),n=b.useMemo(()=>Jf(t.children,uh),[t.children]),i=we(s=>Jfe(s,e,n));return b.createElement(b.Fragment,null,b.createElement($_,{fn:Qhe,args:jt(jt({},t),{},{sectors:i})}),b.createElement(Ghe,Ks({},r,{sectors:i})))}function sH(t){var e=Dn(t,Whe),{id:r}=e,n=Y_(e,The),i=zs(n);return b.createElement(W_,{id:r,type:"pie"},s=>b.createElement(b.Fragment,null,b.createElement(Che,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),b.createElement(khe,Ks({},n,{id:s})),b.createElement(zhe,Ks({},n,{id:s})),n.children))}sH.displayName="Pie";var Yhe=G([rr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xhe=G([Yhe,Ys,Xs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),X_=()=>we(Xhe),qhe=()=>we(tde);function hP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hP(Object(r),!0).forEach(function(n){Jhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jhe(t,e,r){return(e=Zhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zhe(t){var e=ege(t,"string");return typeof e=="symbol"?e:e+""}function ege(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tge=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=gP(gP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},yt(i,!1)),eE(i)),o;return b.isValidElement(i)?o=b.cloneElement(i,a):typeof i=="function"?o=i(a):o=b.createElement(W3,a),b.createElement(Lr,{className:"recharts-active-dot"},o)};function rge(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=we(so),a=qhe();if(e==null||a==null)return null;var o=e.find(A=>a.includes(A.payload));return ht(o)?null:tge({point:o,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var nge="Invariant failed";function ige(t,e){throw new Error(nge)}var sge=["x","y"];function RB(){return RB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RB.apply(null,arguments)}function mP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(r),!0).forEach(function(n){age(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function age(t,e,r){return(e=oge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oge(t){var e=Age(t,"string");return typeof e=="symbol"?e:e+""}function Age(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lge(t,e){if(t==null)return{};var r,n,i=cge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uge(t,e){var{x:r,y:n}=t,i=lge(t,sge),s="".concat(r),a=parseInt(s,10),o="".concat(n),A=parseInt(o,10),l="".concat(e.height||i.height),c=parseInt(l,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Lu(Lu(Lu(Lu(Lu({},e),i),a?{x:a}:{}),A?{y:A}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function aH(t){return b.createElement(Z3,RB({shapeType:"rectangle",propTransformer:uge,activeClassName:"recharts-active-bar"},t))}var dge=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(he(e))return e;var s=he(n)||ht(n);return s?e(n,i):(s||ige(),r)}},fge={},hge=jn({name:"errorBars",initialState:fge,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),gge=hge.reducer,mge=["children"];function pge(t,e){if(t==null)return{};var r,n,i=vge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yge={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},wge=b.createContext(yge);function oH(t){var{children:e}=t,r=pge(t,mge);return b.createElement(wge.Provider,{value:r},e)}function q_(t,e){var r,n,i=we(l=>Js(l,t)),s=we(l=>yo(l,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:pn.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:vn.allowDataOverflow,A=a||o;return{needClip:A,needClipX:a,needClipY:o}}function AH(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=X_(),{needClipX:s,needClipY:a,needClip:o}=q_(e,r);if(!o)return null;var{x:A,y:l,width:c,height:d}=i;return b.createElement("clipPath",{id:"clipPath-".concat(n)},b.createElement("rect",{x:s?A:A-c/2,y:a?l:l-d/2,width:s?c:c*2,height:a?d:d*2}))}var xge=["onMouseEnter","onMouseLeave","onClick"],bge=["value","background","tooltipPosition"],Bge=["id"],Cge=["onMouseEnter","onClick","onMouseLeave"];function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fc.apply(null,arguments)}function pP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(r),!0).forEach(function(n){Ege(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ege(t,e,r){return(e=_ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ge(t){var e=Ige(t,"string");return typeof e=="symbol"?e:e+""}function Ige(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c0(t,e){if(t==null)return{};var r,n,i=Sge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tge=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Kc(r,e),payload:t}]};function Fge(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:o}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Kc(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:o}}}function Nge(t){var e=we(so),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:o,onClick:A}=s,l=c0(s,xge),c=H_(a,n),d=V_(o),f=K_(A,n);if(!i||r==null)return null;var g=yt(i,!1);return b.createElement(b.Fragment,null,r.map((m,p)=>{var{value:y,background:w,tooltipPosition:v}=m,x=c0(m,bge);if(!w)return null;var S=c(m,p),T=d(m,p),I=f(m,p),C=Dr(Dr(Dr(Dr(Dr({option:i,isActive:String(p)===e},x),{},{fill:"#eee"},w),g),qf(l,m,p)),{},{onMouseEnter:S,onMouseLeave:T,onClick:I,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return b.createElement(aH,Fc({key:"background-bar-".concat(p)},C))}))}function lH(t){var{data:e,props:r,showLabels:n}=t,i=zs(r),s=c0(i,Bge),{shape:a,dataKey:o,activeBar:A}=r,l=we(so),c=we(C3),{onMouseEnter:d,onClick:f,onMouseLeave:g}=r,m=c0(r,Cge),p=H_(d,o),y=V_(g),w=K_(f,o);return e?b.createElement(b.Fragment,null,e.map((v,x)=>{var S=A&&String(x)===l&&(c==null||o===c),T=S?A:a,I=Dr(Dr(Dr({},s),v),{},{isActive:S,option:T,index:x,dataKey:o});return b.createElement(Lr,Fc({className:"recharts-bar-rectangle"},qf(m,v,x),{onMouseEnter:p(v,x),onMouseLeave:y(v,x),onClick:w(v,x),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(x)}),b.createElement(aH,I))}),n&&$a.renderCallByParent(r,e)):null}function Uge(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:A,onAnimationEnd:l,onAnimationStart:c}=e,d=r.current,f=G_(e,"recharts-bar-"),[g,m]=b.useState(!1),p=b.useCallback(()=>{typeof l=="function"&&l(),m(!1)},[l]),y=b.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return b.createElement(z_,{begin:a,duration:o,isActive:s,easing:A,onAnimationEnd:p,onAnimationStart:y,key:f},w=>{var v=w===1?n:n==null?void 0:n.map((x,S)=>{var T=d&&d[S];if(T)return Dr(Dr({},x),{},{x:xi(T.x,x.x,w),y:xi(T.y,x.y,w),width:xi(T.width,x.width,w),height:xi(T.height,x.height,w)});if(i==="horizontal"){var I=xi(0,x.height,w);return Dr(Dr({},x),{},{y:x.y+x.height-I,height:I})}var C=xi(0,x.width,w);return Dr(Dr({},x),{},{width:C})});return w>0&&(r.current=v??null),v==null?null:b.createElement(Lr,null,b.createElement(lH,{props:e,data:v,showLabels:!g}))})}function Pge(t){var{data:e,isAnimationActive:r}=t,n=b.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?b.createElement(Uge,{previousRectanglesRef:n,props:t}):b.createElement(lH,{props:t,data:e,showLabels:!0})}var cH=0,kge=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:it(t,e)}};class Qge extends b.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:o,background:A,id:l}=this.props;if(e)return null;var c=Ge("recharts-bar",i),d=l;return b.createElement(Lr,{className:c,id:l},o&&b.createElement("defs",null,b.createElement(AH,{clipPathId:d,xAxisId:s,yAxisId:a})),b.createElement(Lr,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},b.createElement(Nge,{data:r,dataKey:n,background:A,allOtherBarProps:this.props}),b.createElement(Pge,this.props)),this.props.children)}}var Oge={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!jA.isSsr,legendType:"rect",minPointSize:cH,xAxisId:0,yAxisId:0};function jge(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:c}=t,{needClip:d}=q_(e,r),f=Gv(),g=fn(),m=Jf(t.children,uh),p=we(v=>cme(v,e,r,g,t.id,m));if(f!=="vertical"&&f!=="horizontal")return null;var y,w=p==null?void 0:p[0];return w==null||w.height==null||w.width==null?y=0:y=f==="vertical"?w.height/2:w.width/2,b.createElement(oH,{xAxisId:e,yAxisId:r,data:p,dataPointFormatter:kge,errorBarOffset:y},b.createElement(Qge,Fc({},t,{layout:f,needClip:d,data:p,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:o,animationDuration:A,animationEasing:l,isAnimationActive:c})))}function Dge(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:o,xAxisTicks:A,yAxisTicks:l,stackedData:c,displayedData:d,offset:f,cells:g}=t,m=e==="horizontal"?o:a,p=c?m.scale.domain():null,y=Rse({numericAxis:m});return d.map((w,v)=>{var x,S,T,I,C,E;c?x=Pse(c[v],p):(x=it(w,r),Array.isArray(x)||(x=[y,x]));var F=dge(n,cH)(x[1],v);if(e==="horizontal"){var N,[k,Q]=[o.scale(x[0]),o.scale(x[1])];S=wN({axis:a,ticks:A,bandSize:s,offset:i.offset,entry:w,index:v}),T=(N=Q??k)!==null&&N!==void 0?N:void 0,I=i.size;var P=k-Q;if(C=Nn(P)?0:P,E={x:S,y:f.top,width:I,height:f.height},Math.abs(F)>0&&Math.abs(C)<Math.abs(F)){var oe=hr(C||F)*(Math.abs(F)-Math.abs(C));T-=oe,C+=oe}}else{var[Ce,ve]=[a.scale(x[0]),a.scale(x[1])];if(S=Ce,T=wN({axis:o,ticks:l,bandSize:s,offset:i.offset,entry:w,index:v}),I=ve-Ce,C=i.size,E={x:f.left,y:T,width:f.width,height:C},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var xe=hr(I||F)*(Math.abs(F)-Math.abs(I));I+=xe}}if(S==null||T==null||I==null||C==null)return null;var Z=Dr(Dr({},w),{},{x:S,y:T,width:I,height:C,value:c?x:x[1],payload:w,background:E,tooltipPosition:{x:S+I/2,y:T+C/2}},g&&g[v]&&g[v].props);return Z}).filter(Boolean)}function MB(t){var e=Dn(t,Oge),r=fn();return b.createElement(W_,{id:e.id,type:"bar"},n=>b.createElement(b.Fragment,null,b.createElement(tH,{legendPayload:Tge(e)}),b.createElement($_,{fn:Fge,args:e}),b.createElement(nH,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:Dse(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),b.createElement(jge,Fc({},e,{id:n}))))}MB.displayName="Bar";function vP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(r),!0).forEach(function(n){Rge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rge(t,e,r){return(e=Mge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mge(t){var e=Lge(t,"string");return typeof e=="symbol"?e:e+""}function Lge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hge=(t,e)=>e,Vge=(t,e,r)=>r,Kge=(t,e,r,n)=>n,$ge=(t,e,r,n,i)=>i,dh=G([iy,$ge],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Gge=G([dh],t=>t==null?void 0:t.maxBarSize),Wge=(t,e,r,n,i,s)=>s,yP=(t,e,r)=>{var n=r??t;if(!ht(n))return qr(n,e,0)},zge=G([Ve,iy,Hge,Vge,Kge],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Yge=(t,e,r,n)=>{var i=Ve(t);return i==="horizontal"?UB(t,"yAxis",r,n):UB(t,"xAxis",e,n)},Xge=(t,e,r)=>{var n=Ve(t);return n==="horizontal"?NU(t,"xAxis",e):NU(t,"yAxis",r)},qge=(t,e,r)=>{var n={},i=t.filter(ny),s=t.filter(l=>l.stackId==null),a=i.reduce((l,c)=>(l[c.stackId]||(l[c.stackId]=[]),l[c.stackId].push(c),l),n),o=Object.entries(a).map(l=>{var[c,d]=l,f=d.map(m=>m.dataKey),g=yP(e,r,d[0].barSize);return{stackId:c,dataKeys:f,barSize:g}}),A=s.map(l=>{var c=[l.dataKey].filter(f=>f!=null),d=yP(e,r,l.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...A]},Jge=G([zge,dce,Xge],qge),Zge=(t,e,r,n,i)=>{var s,a,o=dh(t,e,r,n,i);if(o!=null){var A=Ve(t),l=E5(t),{maxBarSize:c}=o,d=ht(c)?l:c,f,g;return A==="horizontal"?(f=io(t,"xAxis",e,n),g=no(t,"xAxis",e,n)):(f=io(t,"yAxis",r,n),g=no(t,"yAxis",r,n)),(s=(a=wf(f,g,!0))!==null&&a!==void 0?a:d)!==null&&s!==void 0?s:0}},uH=(t,e,r,n)=>{var i=Ve(t),s,a;return i==="horizontal"?(s=io(t,"xAxis",e,n),a=no(t,"xAxis",e,n)):(s=io(t,"yAxis",r,n),a=no(t,"yAxis",r,n)),wf(s,a)};function eme(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=qr(t,r,0,!0),o,A=[];if(kn(n[0].barSize)){var l=!1,c=r/s,d=n.reduce((w,v)=>w+(v.barSize||0),0);d+=(s-1)*a,d>=r&&(d-=(s-1)*a,a=0),d>=r&&c>0&&(l=!0,c*=.9,d=s*c);var f=(r-d)/2>>0,g={offset:f-a,size:0};o=n.reduce((w,v)=>{var x,S={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g.offset+g.size+a,size:l?c:(x=v.barSize)!==null&&x!==void 0?x:0}},T=[...w,S];return g=T[T.length-1].position,T},A)}else{var m=qr(e,r,0,!0);r-2*m-(s-1)*a<=0&&(a=0);var p=(r-2*m-(s-1)*a)/s;p>1&&(p>>=0);var y=kn(i)?Math.min(p,i):p;o=n.reduce((w,v,x)=>[...w,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m+(p+a)*x+(p-y)/2,size:y}}],A)}return o}}var tme=(t,e,r,n,i,s,a)=>{var o=ht(a)?e:a,A=eme(r,n,i!==s?i:s,t,o);return i!==s&&A!=null&&(A=A.map(l=>Hg(Hg({},l),{},{position:Hg(Hg({},l.position),{},{offset:l.position.offset-i/2})}))),A},rme=G([Jge,E5,uce,_5,Zge,uH,Gge],tme),nme=(t,e,r,n)=>io(t,"xAxis",e,n),ime=(t,e,r,n)=>io(t,"yAxis",r,n),sme=(t,e,r,n)=>no(t,"xAxis",e,n),ame=(t,e,r,n)=>no(t,"yAxis",r,n),ome=G([rme,dh],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),Ame=(t,e)=>{var r=l_(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},lme=G([Yge,dh],Ame),cme=G([rr,nme,ime,sme,ame,ome,Ve,Zv,uH,lme,dh,Wge],(t,e,r,n,i,s,a,o,A,l,c,d)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:m}=o;if(!(c==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||A==null)){var{data:p}=c,y;if(p!=null&&p.length>0?y=p:y=f==null?void 0:f.slice(g,m+1),y!=null)return Dge({layout:a,barSettings:c,pos:s,bandSize:A,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:l,displayedData:y,offset:t,cells:d})}}),dH=t=>{var{chartData:e}=t,r=Nt(),n=fn();return b.useEffect(()=>n?()=>{}:(r(MU(e)),()=>{r(MU(void 0))}),[e,r,n]),null},wP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ume=jn({name:"brush",initialState:wP,reducers:{setBrushSettings(t,e){return e.payload==null?wP:e.payload}}}),dme=ume.reducer;function fme(t,e,r){return(e=hme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hme(t){var e=gme(t,"string");return typeof e=="symbol"?e:e+""}function gme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J_{static create(e){return new J_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}fme(J_,"EPS",1e-4);function mme(t){return(t%180+180)%180}var pme=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mme(i),a=s*Math.PI/180,o=Math.atan(n/r),A=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(A)},vme={dots:[],areas:[],lines:[]},yme=jn({name:"referenceElements",initialState:vme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Fs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Fs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Fs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),wme=yme.reducer,xme=b.createContext(void 0),bme=t=>{var{children:e}=t,[r]=b.useState("".concat(pf("recharts"),"-clip")),n=X_();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return b.createElement(xme.Provider,{value:r},b.createElement("defs",null,b.createElement("clipPath",{id:r},b.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Jw(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function fH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Bme(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return pme(n,r)}function Cme(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function u0(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function Eme(t,e){return fH(t,e+1)}function _me(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,A=0,l=1,c=a,d=function(){var m=n==null?void 0:n[A];if(m===void 0)return{v:fH(n,l)};var p=A,y,w=()=>(y===void 0&&(y=r(m,p)),y),v=m.coordinate,x=A===0||u0(t,v,w,c,o);x||(A=0,c=a,l+=1),x&&(c=v+t*(w()/2+i),A+=l)},f;l<=s.length;)if(f=d(),f)return f.v;return[]}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){Ime(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ime(t,e,r){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sme(t){var e=Tme(t,"string");return typeof e=="symbol"?e:e+""}function Tme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fme(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:A}=e,l=function(f){var g=s[f],m,p=()=>(m===void 0&&(m=r(g,f)),m);if(f===a-1){var y=t*(g.coordinate+t*p()/2-A);s[f]=g=Qr(Qr({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else s[f]=g=Qr(Qr({},g),{},{tickCoord:g.coordinate});var w=u0(t,g.tickCoord,p,o,A);w&&(A=g.tickCoord-t*(p()/2+i),s[f]=Qr(Qr({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)l(c);return s}function Nme(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:A,end:l}=e;if(s){var c=n[o-1],d=r(c,o-1),f=t*(c.coordinate+t*d/2-l);a[o-1]=c=Qr(Qr({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var g=u0(t,c.tickCoord,()=>d,A,l);g&&(l=c.tickCoord-t*(d/2+i),a[o-1]=Qr(Qr({},c),{},{isShow:!0}))}for(var m=s?o-1:o,p=function(v){var x=a[v],S,T=()=>(S===void 0&&(S=r(x,v)),S);if(v===0){var I=t*(x.coordinate-t*T()/2-A);a[v]=x=Qr(Qr({},x),{},{tickCoord:I<0?x.coordinate-I*t:x.coordinate})}else a[v]=x=Qr(Qr({},x),{},{tickCoord:x.coordinate});var C=u0(t,x.tickCoord,T,A,l);C&&(A=x.tickCoord+t*(T()/2+i),a[v]=Qr(Qr({},x),{},{isShow:!0}))},y=0;y<m;y++)p(y);return a}function Z_(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:A,tickFormatter:l,unit:c,angle:d}=t;if(!i||!i.length||!n)return[];if(he(A)||jA.isSsr){var f;return(f=Eme(i,he(A)?A:0))!==null&&f!==void 0?f:[]}var g=[],m=o==="top"||o==="bottom"?"width":"height",p=c&&m==="width"?Pd(c,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=(x,S)=>{var T=typeof l=="function"?l(x.value,S):x.value;return m==="width"?Bme(Pd(T,{fontSize:e,letterSpacing:r}),p,d):Pd(T,{fontSize:e,letterSpacing:r})[m]},w=i.length>=2?hr(i[1].coordinate-i[0].coordinate):1,v=Cme(s,w,m);return A==="equidistantPreserveStart"?_me(w,v,y,i,a):(A==="preserveStart"||A==="preserveStartEnd"?g=Nme(w,v,y,i,a,A==="preserveStartEnd"):g=Fme(w,v,y,i,a),g.filter(x=>x.isShow))}var Ume=["viewBox"],Pme=["viewBox"];function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ol.apply(null,arguments)}function bP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bP(Object(r),!0).forEach(function(n){eI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BP(t,e){if(t==null)return{};var r,n,i=kme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eI(t,e,r){return(e=Qme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class wo extends b.Component{constructor(e){super(e),this.tickRefs=b.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=BP(e,Ume),s=this.props,{viewBox:a}=s,o=BP(s,Pme);return!Jw(n,a)||!Jw(i,o)||!Jw(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:o,mirror:A,tickMargin:l}=this.props,c,d,f,g,m,p,y=A?-1:1,w=e.tickSize||o,v=he(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,g=n+ +!A*s,f=g-y*w,p=f-y*l,m=v;break;case"left":f=g=e.coordinate,d=r+ +!A*i,c=d-y*w,m=c-y*l,p=v;break;case"right":f=g=e.coordinate,d=r+ +A*i,c=d+y*w,m=c+y*l,p=v;break;default:c=d=e.coordinate,g=n+ +A*s,f=g+y*w,p=f+y*l,m=v;break}return{line:{x1:c,y1:f,x2:d,y2:g},tick:{x:m,y:p}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o}=this.props,A=Xt(Xt(Xt({},yt(this.props,!1)),yt(o,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var l=+(s==="top"&&!a||s==="bottom"&&a);A=Xt(Xt({},A),{},{x1:e,y1:r+l*i,x2:e+n,y2:r+l*i})}else{var c=+(s==="left"&&!a||s==="right"&&a);A=Xt(Xt({},A),{},{x1:e+c*n,y1:r,x2:e+c*n,y2:r+i})}return b.createElement("line",Ol({},A,{className:Ge("recharts-cartesian-axis-line",ro(o,"className"))}))}static renderTickItem(e,r,n){var i,s=Ge(r.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(e))i=b.cloneElement(e,Xt(Xt({},r),{},{className:s}));else if(typeof e=="function")i=e(Xt(Xt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Ge(a,e.className)),i=b.createElement(cy,Ol({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:o,unit:A,padding:l}=this.props,c=Z_(Xt(Xt({},this.props),{},{ticks:n}),e,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),g=zs(this.props),m=yt(a,!1),p=Xt(Xt({},g),{},{fill:"none"},yt(i,!1)),y=c.map((w,v)=>{var{line:x,tick:S}=this.getTickLineCoord(w),T=Xt(Xt(Xt(Xt({textAnchor:d,verticalAnchor:f},g),{},{stroke:"none",fill:s},m),S),{},{index:v,payload:w,visibleTicksCount:c.length,tickFormatter:o,padding:l});return b.createElement(Lr,Ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},qf(this.props,w,v)),i&&b.createElement("line",Ol({},p,x,{className:Ge("recharts-cartesian-axis-tick-line",ro(i,"className"))})),a&&wo.renderTickItem(a,T,"".concat(typeof o=="function"?o(w.value,v):w.value).concat(A||"")))});return y.length>0?b.createElement("g",{className:"recharts-cartesian-axis-ticks"},y):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:b.createElement(Lr,{className:Ge("recharts-cartesian-axis",i),ref:o=>{if(o){var A=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(A);var l=A[0];if(l){var c=window.getComputedStyle(l).fontSize,d=window.getComputedStyle(l).letterSpacing;(c!==this.state.fontSize||d!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(l).fontSize,letterSpacing:window.getComputedStyle(l).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),xn.renderCallByParent(this.props))}}eI(wo,"displayName","CartesianAxis");eI(wo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jme=["x1","y1","x2","y2","key"],Dme=["offset"],Rme=["xAxisId","yAxisId"],Mme=["xAxisId","yAxisId"];function CP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CP(Object(r),!0).forEach(function(n){Lme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lme(t,e,r){return(e=Hme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hme(t){var e=Vme(t,"string");return typeof e=="symbol"?e:e+""}function Vme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tA.apply(null,arguments)}function d0(t,e){if(t==null)return{};var r,n,i=Kme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var $me=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return b.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hH(t,e){var r;if(b.isValidElement(t))r=b.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:o}=e,A=d0(e,jme),l=zs(A),c=d0(l,Dme);r=b.createElement("line",tA({},c,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Gme(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var s=d0(t,Rme),a=i.map((o,A)=>{var l=Rr(Rr({},s),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(A),index:A});return hH(n,l)});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Wme(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var s=d0(t,Mme),a=i.map((o,A)=>{var l=Rr(Rr({},s),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(A),index:A});return hH(n,l)});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zme(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:A=!0}=t;if(!A||!e||!e.length)return null;var l=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var c=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%e.length;return b.createElement("rect",{key:"react-".concat(f),y:d,x:n,height:m,width:s,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Yme(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:A}=t;if(!e||!r||!r.length)return null;var l=A.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==l[0]&&l.unshift(0);var c=l.map((d,f)=>{var g=!l[f+1],m=g?i+a-d:l[f+1]-d;if(m<=0)return null;var p=f%r.length;return b.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:m,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Xme=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return rL(Z_(Rr(Rr(Rr({},wo.defaultProps),r),{},{ticks:nL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},qme=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return rL(Z_(Rr(Rr(Rr({},wo.defaultProps),r),{},{ticks:nL(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},Jme={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function kd(t){var e=_E(),r=IE(),n=AL(),i=Rr(Rr({},Dn(t,Jme)),{},{x:he(t.x)?t.x:n.left,y:he(t.y)?t.y:n.top,width:he(t.width)?t.width:n.width,height:he(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:A,width:l,height:c,syncWithTicks:d,horizontalValues:f,verticalValues:g}=i,m=fn(),p=we(F=>UU(F,"xAxis",s,m)),y=we(F=>UU(F,"yAxis",a,m));if(!he(l)||l<=0||!he(c)||c<=0||!he(o)||o!==+o||!he(A)||A!==+A)return null;var w=i.verticalCoordinatesGenerator||Xme,v=i.horizontalCoordinatesGenerator||qme,{horizontalPoints:x,verticalPoints:S}=i;if((!x||!x.length)&&typeof v=="function"){var T=f&&f.length,I=v({yAxis:y?Rr(Rr({},y),{},{ticks:T?f:y.ticks}):void 0,width:e,height:r,offset:n},T?!0:d);Ud(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(x=I)}if((!S||!S.length)&&typeof w=="function"){var C=g&&g.length,E=w({xAxis:p?Rr(Rr({},p),{},{ticks:C?g:p.ticks}):void 0,width:e,height:r,offset:n},C?!0:d);Ud(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(S=E)}return b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement($me,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(zme,tA({},i,{horizontalPoints:x})),b.createElement(Yme,tA({},i,{verticalPoints:S})),b.createElement(Gme,tA({},i,{offset:n,horizontalPoints:x,xAxis:p,yAxis:y})),b.createElement(Wme,tA({},i,{offset:n,verticalPoints:S,xAxis:p,yAxis:y})))}kd.displayName="CartesianGrid";var gH=(t,e,r,n)=>io(t,"xAxis",e,n),mH=(t,e,r,n)=>no(t,"xAxis",e,n),pH=(t,e,r,n)=>io(t,"yAxis",r,n),vH=(t,e,r,n)=>no(t,"yAxis",r,n),Zme=G([Ve,gH,pH,mH,vH],(t,e,r,n,i)=>go(t,"xAxis")?wf(e,n,!1):wf(r,i,!1)),epe=(t,e,r,n,i)=>i;function tpe(t){return t.type==="line"}var rpe=G([iy,epe],(t,e)=>t.filter(tpe).find(r=>r.id===e)),npe=G([Ve,gH,pH,mH,vH,rpe,Zme,Zv],(t,e,r,n,i,s,a,o)=>{var{chartData:A,dataStartIndex:l,dataEndIndex:c}=o;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:d,data:f}=s,g;if(f!=null&&f.length>0?g=f:g=A==null?void 0:A.slice(l,c+1),g!=null)return Cpe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:g})}}),ipe=["id"],spe=["type","layout","connectNulls","needClip"],ape=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function EP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(r),!0).forEach(function(n){ope(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ope(t,e,r){return(e=Ape(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ape(t){var e=lpe(t,"string");return typeof e=="symbol"?e:e+""}function lpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tI(t,e){if(t==null)return{};var r,n,i=cpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SA.apply(null,arguments)}var upe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Kc(r,e),payload:t}]};function dpe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:A}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Kc(a,e),hide:o,type:t.tooltipType,color:t.stroke,unit:A}}}var yH=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function fpe(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var hpe=(t,e,r)=>{var n=r.reduce((d,f)=>d+f);if(!n)return yH(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,o=[],A=0,l=0;A<r.length;l+=r[A],++A)if(l+r[A]>s){o=[...r.slice(0,A),s-l];break}var c=o.length%2===0?[0,a]:[a];return[...fpe(r,i),...o,...c].map(d=>"".concat(d,"px")).join(", ")};function gpe(t,e){var r;if(b.isValidElement(t))r=b.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ge("recharts-line-dot",typeof t!="boolean"?t.className:"");r=b.createElement(W3,SA({},e,{className:n}))}return r}function mpe(t,e){return t==null?!1:e?!0:t.length===1}function ppe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!mpe(r,i))return null;var o=tI(n,ipe),A=jR(i),l=zs(o),c=yt(i,!0),d=r.map((g,m)=>{var p=bi(bi(bi({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return gpe(i,p)}),f={clipPath:a?"url(#clipPath-".concat(A?"":"dots-").concat(e,")"):void 0};return b.createElement(Lr,SA({className:"recharts-line-dots",key:"dots"},f),d)}function LB(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:o,layout:A,connectNulls:l,needClip:c}=s,d=tI(s,spe),f=bi(bi({},yt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:n,type:o,layout:A,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return b.createElement(b.Fragment,null,(n==null?void 0:n.length)>1&&b.createElement(TE,SA({},f,{pathRef:r})),b.createElement(ppe,{points:n,clipPathId:e,props:s}),a&&$a.renderCallByParent(s,n))}function vpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function ype(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:A,animationBegin:l,animationDuration:c,animationEasing:d,animateNewValues:f,width:g,height:m,onAnimationEnd:p,onAnimationStart:y}=r,w=i.current,v=G_(r,"recharts-line-"),[x,S]=b.useState(!1),T=b.useCallback(()=>{typeof p=="function"&&p(),S(!1)},[p]),I=b.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),C=vpe(n.current),E=s.current;return b.createElement(z_,{begin:l,duration:c,isActive:A,easing:d,onAnimationEnd:T,onAnimationStart:I,key:v},F=>{var N=xi(E,C+E,F),k=Math.min(N,C),Q;if(o){var P="".concat(o).split(/[,\s]+/gim).map(ve=>parseFloat(ve));Q=hpe(k,C,P)}else Q=yH(C,k);if(w){var oe=w.length/a.length,Ce=F===1?a:a.map((ve,xe)=>{var Z=Math.floor(xe*oe);if(w[Z]){var ae=w[Z];return bi(bi({},ve),{},{x:xi(ae.x,ve.x,F),y:xi(ae.y,ve.y,F)})}return f?bi(bi({},ve),{},{x:xi(g*2,ve.x,F),y:xi(m/2,ve.y,F)}):bi(bi({},ve),{},{x:ve.x,y:ve.y})});return i.current=Ce,b.createElement(LB,{props:r,points:Ce,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:Q})}return F>0&&C>0&&(i.current=a,s.current=k),b.createElement(LB,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!x,strokeDasharray:Q})})}function wpe(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=b.useRef(null),a=b.useRef(0),o=b.useRef(null),A=s.current;return i&&n&&n.length&&A!==n?b.createElement(ype,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:o}):b.createElement(LB,{props:r,points:n,clipPathId:e,pathRef:o,showLabels:!0})}var xpe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:it(t.payload,e)});class bpe extends b.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:o,top:A,left:l,width:c,height:d,id:f,needClip:g}=this.props;if(r)return null;var m=Ge("recharts-line",s),p=f,{r:y=3,strokeWidth:w=2}=(e=yt(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},v=jR(n),x=y*2+w;return b.createElement(b.Fragment,null,b.createElement(Lr,{className:m},g&&b.createElement("defs",null,b.createElement(AH,{clipPathId:p,xAxisId:a,yAxisId:o}),!v&&b.createElement("clipPath",{id:"clipPath-dots-".concat(p)},b.createElement("rect",{x:l-x/2,y:A-x/2,width:c+x,height:d+x}))),b.createElement(wpe,{props:this.props,clipPathId:p}),b.createElement(oH,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:xpe,errorBarOffset:0},this.props.children)),b.createElement(rge,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var wH={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!jA.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Bpe(t){var e=Dn(t,wH),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:A,hide:l,isAnimationActive:c,label:d,legendType:f,xAxisId:g,yAxisId:m,id:p}=e,y=tI(e,ape),{needClip:w}=q_(g,m),v=X_(),x=Gv(),S=fn(),T=we(N=>npe(N,g,m,S,p));if(x!=="horizontal"&&x!=="vertical"||T==null||v==null)return null;var{height:I,width:C,x:E,y:F}=v;return b.createElement(bpe,SA({},y,{id:p,connectNulls:o,dot:A,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:c,hide:l,label:d,legendType:f,xAxisId:g,yAxisId:m,points:T,layout:x,height:I,width:C,left:E,top:F,needClip:w}))}function Cpe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:A}=t;return A.map((l,c)=>{var d=it(l,a);if(e==="horizontal"){var f=yN({axis:r,ticks:i,bandSize:o,entry:l,index:c}),g=ht(d)?null:n.scale(d);return{x:f,y:g,value:d,payload:l}}var m=ht(d)?null:r.scale(d),p=yN({axis:n,ticks:s,bandSize:o,entry:l,index:c});return m==null||p==null?null:{x:m,y:p,value:d,payload:l}}).filter(Boolean)}function Xn(t){var e=Dn(t,wH),r=fn();return b.createElement(W_,{id:e.id,type:"line"},n=>b.createElement(b.Fragment,null,b.createElement(tH,{legendPayload:upe(e)}),b.createElement($_,{fn:dpe,args:e}),b.createElement(nH,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),b.createElement(Bpe,SA({},e,{id:n}))))}Xn.displayName="Line";function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){Epe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Epe(t,e,r){return(e=_pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _pe(t){var e=Ipe(t,"string");return typeof e=="symbol"?e:e+""}function Ipe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Spe={xAxis:{},yAxis:{},zAxis:{}},xH=jn({name:"cartesianAxis",initialState:Spe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=IP(IP({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Tpe,removeXAxis:Fpe,addYAxis:Npe,removeYAxis:Upe,addZAxis:sye,removeZAxis:aye,updateYAxisWidth:Ppe}=xH.actions,kpe=xH.reducer,Qpe=["children"],Ope=["dangerouslySetInnerHTML","ticks"];function bH(t,e,r){return(e=jpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jpe(t){var e=Dpe(t,"string");return typeof e=="symbol"?e:e+""}function Dpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HB(){return HB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HB.apply(null,arguments)}function BH(t,e){if(t==null)return{};var r,n,i=Rpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Mpe(t){var e=Nt(),r=b.useMemo(()=>{var s=BH(t,Qpe);return s},[t]),n=we(s=>Js(s,r.id)),i=r===n;return b.useEffect(()=>(e(Tpe(r)),()=>{e(Fpe(r))}),[r,e]),i?t.children:null}var Lpe=t=>{var{xAxisId:e,className:r}=t,n=we(oL),i=fn(),s="xAxis",a=we(d=>qc(d,s,e,i)),o=we(d=>s3(d,s,e,i)),A=we(d=>t3(d,e)),l=we(d=>rue(d,e));if(A==null||l==null)return null;var c=BH(t,Ope);return b.createElement(wo,HB({},c,{scale:a,x:l.x,y:l.y,width:A.width,height:A.height,className:Ge("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o}))},Hpe=t=>{var e,r,n,i,s;return b.createElement(Mpe,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},b.createElement(Lpe,t))};class ql extends b.Component{render(){return b.createElement(Hpe,this.props)}}bH(ql,"displayName","XAxis");bH(ql,"defaultProps",{allowDataOverflow:pn.allowDataOverflow,allowDecimals:pn.allowDecimals,allowDuplicatedCategory:pn.allowDuplicatedCategory,height:pn.height,hide:!1,mirror:pn.mirror,orientation:pn.orientation,padding:pn.padding,reversed:pn.reversed,scale:pn.scale,tickCount:pn.tickCount,type:pn.type,xAxisId:0});var Vpe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=r?r.getBoundingClientRect().width:0,A=i+s,l=a+A+o+(r?n:0);return Math.round(l)}return 0},Kpe=["dangerouslySetInnerHTML","ticks"];function CH(t,e,r){return(e=$pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $pe(t){var e=Gpe(t,"string");return typeof e=="symbol"?e:e+""}function Gpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VB(){return VB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VB.apply(null,arguments)}function Wpe(t,e){if(t==null)return{};var r,n,i=zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ype(t){var e=Nt();return b.useEffect(()=>(e(Npe(t)),()=>{e(Upe(t))}),[t,e]),null}var Xpe=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=b.useRef(null),o=b.useRef(null),A=we(oL),l=fn(),c=Nt(),d="yAxis",f=we(w=>qc(w,d,r,l)),g=we(w=>r3(w,r)),m=we(w=>nue(w,r)),p=we(w=>s3(w,d,r,l));if(b.useLayoutEffect(()=>{var w;if(!(i!=="auto"||!g||j_(s)||b.isValidElement(s))){var v=a.current,x=v==null||(w=v.tickRefs)===null||w===void 0?void 0:w.current,{tickSize:S,tickMargin:T}=v.props,I=Vpe({ticks:x,label:o.current,labelGapWithTick:5,tickSize:S,tickMargin:T});Math.round(g.width)!==Math.round(I)&&c(Ppe({id:r,width:I}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,g==null?void 0:g.width,g,c,s,r,i]),g==null||m==null)return null;var y=Wpe(t,Kpe);return b.createElement(wo,VB({},y,{ref:a,labelRef:o,scale:f,x:m.x,y:m.y,width:g.width,height:g.height,className:Ge("recharts-".concat(d," ").concat(d),n),viewBox:A,ticks:p}))},qpe=t=>{var e,r,n,i,s;return b.createElement(b.Fragment,null,b.createElement(Ype,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),b.createElement(Xpe,t))},Jpe={allowDataOverflow:vn.allowDataOverflow,allowDecimals:vn.allowDecimals,allowDuplicatedCategory:vn.allowDuplicatedCategory,hide:!1,mirror:vn.mirror,orientation:vn.orientation,padding:vn.padding,reversed:vn.reversed,scale:vn.scale,tickCount:vn.tickCount,type:vn.type,width:vn.width,yAxisId:0};class Jl extends b.Component{render(){return b.createElement(qpe,this.props)}}CH(Jl,"displayName","YAxis");CH(Jl,"defaultProps",Jpe);var Zpe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=b;function e0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var t0e=typeof Object.is=="function"?Object.is:e0e,r0e=fh.useSyncExternalStore,n0e=fh.useRef,i0e=fh.useEffect,s0e=fh.useMemo,a0e=fh.useDebugValue;Zpe.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=n0e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=s0e(function(){function A(g){if(!l){if(l=!0,c=g,g=n(g),i!==void 0&&a.hasValue){var m=a.value;if(i(m,g))return d=m}return d=g}if(m=d,t0e(c,g))return m;var p=n(g);return i!==void 0&&i(m,p)?(c=g,m):(c=g,d=p)}var l=!1,c,d,f=r===void 0?null:r;return[function(){return A(e())},f===null?void 0:function(){return A(f())}]},[e,r,n,i]);var o=r0e(t,s[0],s[1]);return i0e(function(){a.hasValue=!0,a.value=o},[o]),a0e(o),o};function o0e(t){t()}function A0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){o0e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var SP={notify(){},get:()=>[]};function l0e(t,e){let r,n=SP,i=0,s=!1;function a(p){c();const y=n.subscribe(p);let w=!1;return()=>{w||(w=!0,y(),d())}}function o(){n.notify()}function A(){m.onStateChange&&m.onStateChange()}function l(){return s}function c(){i++,r||(r=t.subscribe(A),n=A0e())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=SP)}function f(){s||(s=!0,c())}function g(){s&&(s=!1,d())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:A,isSubscribed:l,trySubscribe:f,tryUnsubscribe:g,getListeners:()=>n};return m}var c0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u0e=c0e(),d0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",f0e=d0e(),h0e=()=>u0e||f0e?b.useLayoutEffect:b.useEffect,g0e=h0e(),Zw=Symbol.for("react-redux-context"),ex=typeof globalThis<"u"?globalThis:{};function m0e(){if(!b.createContext)return{};const t=ex[Zw]??(ex[Zw]=new Map);let e=t.get(b.createContext);return e||(e=b.createContext(null),t.set(b.createContext,e)),e}var p0e=m0e();function v0e(t){const{children:e,context:r,serverState:n,store:i}=t,s=b.useMemo(()=>{const A=l0e(i);return{store:i,subscription:A,getServerState:n?()=>n:void 0}},[i,n]),a=b.useMemo(()=>i.getState(),[i]);g0e(()=>{const{subscription:A}=s;return A.onStateChange=A.notifyNestedSubs,A.trySubscribe(),a!==i.getState()&&A.notifyNestedSubs(),()=>{A.tryUnsubscribe(),A.onStateChange=void 0}},[s,a]);const o=r||p0e;return b.createElement(o.Provider,{value:s},e)}var y0e=v0e,w0e=(t,e)=>e,rI=G([w0e,Ve,U5,ir,w3,Zs,Ade,rr],fde),nI=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},EH=ci("mouseClick"),_H=Zf();_H.startListening({actionCreator:EH,effect:(t,e)=>{var r=t.payload,n=rI(e.getState(),nI(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(mue({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var KB=ci("mouseMove"),IH=Zf();IH.startListening({actionCreator:KB,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=I_(n,n.tooltip.settings.shared),s=rI(n,nI(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(f3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(d3()))}});function x0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var TP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},SH=jn({name:"rootProps",initialState:TP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:TP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),b0e=SH.reducer,{updateOptions:B0e}=SH.actions,TH=jn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:C0e}=TH.actions,E0e=TH.reducer,FH=ci("keyDown"),NH=ci("focus"),iI=Zf();iI.startListening({actionCreator:FH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(S_(i,Zc(r))),o=Zs(r);if(s==="Enter"){var A=a0(r,"axis","hover",String(i.index));e.dispatch(kB({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:A}));return}var l=oue(r),c=l==="left-to-right"?1:-1,d=s==="ArrowRight"?1:-1,f=a+d*c;if(!(o==null||f>=o.length||f<0)){var g=a0(r,"axis","hover",String(f));e.dispatch(kB({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});iI.startListening({actionCreator:NH,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=a0(r,"axis","hover",String(s));e.dispatch(kB({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Vn=ci("externalEvent"),UH=Zf();UH.startListening({actionCreator:Vn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Jue(r),activeDataKey:C3(r),activeIndex:so(r),activeLabel:B3(r),activeTooltipIndex:so(r),isTooltipActive:Zue(r)};t.payload.handler(n,t.payload.reactEvent)}}});var _0e=G([Jc],t=>t.tooltipItemPayloads),I0e=G([_0e,lh,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),PH=ci("touchMove"),kH=Zf();kH.startListening({actionCreator:PH,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=I_(n,n.tooltip.settings.shared);if(i==="axis"){var s=rI(n,nI({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(f3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=r.touches[0],A=document.elementFromPoint(o.clientX,o.clientY);if(!A||!A.getAttribute)return;var l=A.getAttribute(sL),c=(a=A.getAttribute(aL))!==null&&a!==void 0?a:void 0,d=I0e(e.getState(),l,c);e.dispatch(u3({activeDataKey:c,activeIndex:l,activeCoordinate:d}))}}});var S0e=NM({brush:dme,cartesianAxis:kpe,chartData:Sde,errorBars:gge,graphicalItems:Bhe,layout:pse,legend:iae,options:Bde,polarAxis:$fe,polarOptions:E0e,referenceElements:wme,rootProps:b0e,tooltip:pue}),T0e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Hie({reducer:S0e,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([_H.middleware,IH.middleware,iI.middleware,UH.middleware,kH.middleware]),devTools:{serialize:{replacer:x0e},name:"recharts-".concat(r)}})};function QH(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=fn(),s=b.useRef(null);if(i)return r;s.current==null&&(s.current=T0e(e,n));var a=gE;return b.createElement(y0e,{context:a,store:s.current},r)}function OH(t){var{layout:e,width:r,height:n,margin:i}=t,s=Nt(),a=fn();return b.useEffect(()=>{a||(s(hse(e)),s(gse({width:r,height:n})),s(fse(i)))},[s,a,e,r,n,i]),null}function jH(t){var e=Nt();return b.useEffect(()=>{e(B0e(t))},[e,t]),null}var F0e=["children"];function N0e(t,e){if(t==null)return{};var r,n,i=U0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function U0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function f0(){return f0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f0.apply(null,arguments)}var P0e={width:"100%",height:"100%"},k0e=b.forwardRef((t,e)=>{var r=_E(),n=IE(),i=dL();if(!Ec(r)||!Ec(n))return null;var{children:s,otherAttributes:a,title:o,desc:A}=t,l,c;return typeof a.tabIndex=="number"?l=a.tabIndex:l=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0,b.createElement(tE,f0({},a,{title:o,desc:A,role:c,tabIndex:l,width:r,height:n,style:P0e,ref:e}),s)}),Q0e=t=>{var{children:e}=t,r=we($v);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return b.createElement(tE,{width:n,height:i,x:a,y:s},e)},FP=b.forwardRef((t,e)=>{var{children:r}=t,n=N0e(t,F0e),i=fn();return i?b.createElement(Q0e,null,r):b.createElement(k0e,f0({ref:e},n),r)});function O0e(){var t=Nt(),[e,r]=b.useState(null),n=we(Gse);return b.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;kn(s)&&s!==n&&t(mse(s))}},[e,t,n]),r}function NP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j0e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NP(Object(r),!0).forEach(function(n){D0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D0e(t,e,r){return(e=R0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R0e(t){var e=M0e(t,"string");return typeof e=="symbol"?e:e+""}function M0e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L0e=b.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:A,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onMouseUp:f,onTouchEnd:g,onTouchMove:m,onTouchStart:p,style:y,width:w}=t,v=Nt(),[x,S]=b.useState(null),[T,I]=b.useState(null);Nde();var C=O0e(),E=b.useCallback(ie=>{C(ie),typeof e=="function"&&e(ie),S(ie),I(ie)},[C,e,S,I]),F=b.useCallback(ie=>{v(EH(ie)),v(Vn({handler:s,reactEvent:ie}))},[v,s]),N=b.useCallback(ie=>{v(KB(ie)),v(Vn({handler:l,reactEvent:ie}))},[v,l]),k=b.useCallback(ie=>{v(d3()),v(Vn({handler:c,reactEvent:ie}))},[v,c]),Q=b.useCallback(ie=>{v(KB(ie)),v(Vn({handler:d,reactEvent:ie}))},[v,d]),P=b.useCallback(()=>{v(NH())},[v]),oe=b.useCallback(ie=>{v(FH(ie.key))},[v]),Ce=b.useCallback(ie=>{v(Vn({handler:a,reactEvent:ie}))},[v,a]),ve=b.useCallback(ie=>{v(Vn({handler:o,reactEvent:ie}))},[v,o]),xe=b.useCallback(ie=>{v(Vn({handler:A,reactEvent:ie}))},[v,A]),Z=b.useCallback(ie=>{v(Vn({handler:f,reactEvent:ie}))},[v,f]),ae=b.useCallback(ie=>{v(Vn({handler:p,reactEvent:ie}))},[v,p]),de=b.useCallback(ie=>{v(PH(ie)),v(Vn({handler:m,reactEvent:ie}))},[v,m]),Fe=b.useCallback(ie=>{v(Vn({handler:g,reactEvent:ie}))},[v,g]);return b.createElement(F3.Provider,{value:x},b.createElement(DR.Provider,{value:T},b.createElement("div",{className:Ge("recharts-wrapper",n),style:j0e({position:"relative",cursor:"default",width:w,height:i},y),onClick:F,onContextMenu:Ce,onDoubleClick:ve,onFocus:P,onKeyDown:oe,onMouseDown:xe,onMouseEnter:N,onMouseLeave:k,onMouseMove:Q,onMouseUp:Z,onTouchEnd:Fe,onTouchMove:de,onTouchStart:ae,ref:E},r)))}),H0e=["children","className","width","height","style","compact","title","desc"];function V0e(t,e){if(t==null)return{};var r,n,i=K0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function K0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var DH=b.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:o,title:A,desc:l}=t,c=V0e(t,H0e),d=zs(c);return o?b.createElement(FP,{otherAttributes:d,title:A,desc:l},r):b.createElement(L0e,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},b.createElement(FP,{otherAttributes:d,title:A,desc:l,ref:e},b.createElement(bme,null,r)))}),$0e=["width","height"];function $B(){return $B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$B.apply(null,arguments)}function G0e(t,e){if(t==null)return{};var r,n,i=W0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function W0e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var z0e={top:5,right:5,bottom:5,left:5},Y0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:z0e,reverseStackOrder:!1,syncMethod:"index"},RH=b.forwardRef(function(e,r){var n,i=Dn(e.categoricalChartProps,Y0e),{width:s,height:a}=i,o=G0e(i,$0e);if(!Ec(s)||!Ec(a))return null;var{chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=e,g={chartName:A,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return b.createElement(QH,{preloadedState:{options:g},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:A},b.createElement(dH,{chartData:f.data}),b.createElement(OH,{width:s,height:a,layout:i.layout,margin:i.margin}),b.createElement(jH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(DH,$B({},o,{width:s,height:a,ref:r})))}),X0e=["axis"],sI=b.forwardRef((t,e)=>b.createElement(RH,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:X0e,tooltipPayloadSearcher:O_,categoricalChartProps:t,ref:e})),q0e=["axis","item"],UP=b.forwardRef((t,e)=>b.createElement(RH,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:q0e,tooltipPayloadSearcher:O_,categoricalChartProps:t,ref:e}));function J0e(t){var e=Nt();return b.useEffect(()=>{e(C0e(t))},[e,t]),null}var Z0e=["width","height","layout"];function GB(){return GB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GB.apply(null,arguments)}function eve(t,e){if(t==null)return{};var r,n,i=tve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tve(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rve={top:5,right:5,bottom:5,left:5},nve={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rve,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ive=b.forwardRef(function(e,r){var n,i=Dn(e.categoricalChartProps,nve),{width:s,height:a,layout:o}=i,A=eve(i,Z0e);if(!Ec(s)||!Ec(a))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f}=e,g={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(QH,{preloadedState:{options:g},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},b.createElement(dH,{chartData:i.data}),b.createElement(OH,{width:s,height:a,layout:o,margin:i.margin}),b.createElement(jH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),b.createElement(J0e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),b.createElement(DH,GB({width:s,height:a},A,{ref:r})))}),sve=["item"],ave={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ove=b.forwardRef((t,e)=>{var r=Dn(t,ave);return b.createElement(ive,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sve,tooltipPayloadSearcher:O_,categoricalChartProps:r,ref:e})});function Ave({schedule:t,names:e,employeeTags:r={},selectedMonth:n}){const i=TR();return ii.useEffect(()=>{i()}),null}const lve=(t,e={})=>Object.keys(t).filter(r=>{if(r==="_lastUpdated")return!1;const n=e[r];return n==="regular"||n===void 0}),PP=new Map,cve=5*60*1e3,uve=(t,e,r={},n)=>{const i=Object.keys(t||{}).sort().join(","),s=Object.keys(e||{}).sort().join(","),a=Object.keys(r||{}).sort().map(A=>`${A}:${r[A]}`).join(","),o=(n||[]).map(A=>A.key).sort().join(",");return`${i}|${s}|${a}|${o}`},dve=t=>Date.now()-t<cve,Vg=t=>{if(t.length<2)return"stable";const e=t[0],n=(t[t.length-1]-e)/e*100;return n>5?"rising":n<-5?"falling":"stable"},Kg=t=>{if(t.length<2)return 0;const e=t.reduce((n,i)=>n+i,0)/t.length,r=t.reduce((n,i)=>n+Math.pow(i-e,2),0)/t.length;return Math.sqrt(r).toFixed(1)},hh=(t,e)=>{const r=[...e].sort((i,s)=>i-s),n=r.findIndex(i=>i>=t);return Math.round((r.length-n)/r.length*100)},$g=t=>{switch(t){case"rising":return"📈";case"falling":return"📉";default:return"➡️"}},Gg=t=>{switch(t){case"rising":return"text-green-400";case"falling":return"text-red-400";default:return"text-gray-400"}},gh=(t,e)=>{const r=t/e;return r>=.8?"text-green-400":r>=.6?"text-yellow-400":r>=.4?"text-orange-400":"text-red-400"},Vr={early:{color:"pink",icon:u.jsx("svg",{className:"w-5 h-5 text-pink-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"早班平均",gradient:"from-pink-500/20 to-rose-500/20",border:"border-pink-400/30"},afternoon:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),title:"午班平均",gradient:"from-orange-500/20 to-amber-500/20",border:"border-orange-400/30"},night:{color:"blue",icon:u.jsx("svg",{className:"w-5 h-5 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),title:"晚班平均",gradient:"from-blue-500/20 to-indigo-500/20",border:"border-blue-400/30"},consecutive:{color:"orange",icon:u.jsx("svg",{className:"w-5 h-5 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:"連續上班平均",gradient:"from-orange-500/20 to-yellow-500/20",border:"border-orange-400/30"},stockLover:{color:"emerald",icon:u.jsx("svg",{className:"w-5 h-5 text-emerald-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),title:"進貨平均",gradient:"from-emerald-500/20 to-green-500/20",border:"border-emerald-400/30"}},Hu=({title:t,icon:e,themeColor:r,children:n,isLoading:i})=>u.jsxs("div",{className:`bg-gradient-to-br ${Vr[r].gradient} rounded-2xl p-4 border ${Vr[r].border} shadow-xl backdrop-blur-sm`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u.jsx("div",{className:`w-10 h-10 rounded-full bg-${Vr[r].color}-500/20 border border-${Vr[r].color}-400/30 flex items-center justify-center mr-3`,children:e}),u.jsx("h3",{className:`text-lg font-bold text-${Vr[r].color}-300`,children:t})]}),u.jsx(SR,{isLoading:i,children:n})]}),MH=(t,e,r)=>{if(!r||r.length===0)return null;const n=r.map(i=>{const[s,a]=i.key.split("-");return{key:i.key,year:parseInt(s),month:parseInt(a),sortKey:i.key}}).sort((i,s)=>i.sortKey.localeCompare(s.sortKey));for(const i of n){const s=e[i.key];if(s&&s[t]){if(t==="_lastUpdated")continue;if(Object.values(s[t]).some(o=>o&&o!==""))return i}}return null},kP=(t,e,r)=>{const n=[],i=[...r].sort((l,c)=>l.key.localeCompare(c.key)),s=[];for(const l of i){const c=e[l.key];if(!c||!c[t])continue;const[d,f]=l.key.split("-"),g=new Date(parseInt(d),parseInt(f)-1,0).getDate();for(let m=1;m<=g;m++){const p=c[t][m];s.push({year:parseInt(d),month:parseInt(f),day:m,shift:p})}}let a=0,o=!1;for(let l=0;l<s.length;l++){const c=s[l],d=s[l+1];c.shift==="早"||c.shift==="中"||c.shift==="午"||c.shift==="晚"||c.shift==="D7"||c.shift==="高鐵"||c.shift==="中央店"?(a++,d&&(d.month!==c.month||d.year!==c.year)&&(d.shift==="早"||d.shift==="中"||d.shift==="午"||d.shift==="晚"||d.shift==="D7"||d.shift==="高鐵"||d.shift==="中央店")&&(o=!0)):(a>0&&o&&n.push(a),a=0,o=!1)}a>0&&o&&n.push(a);let A=0;return n.length>0&&(A=n.reduce((c,d)=>c+d,0)/n.length),{avgConsecutive:parseFloat(A.toFixed(1)),maxConsecutive:n.length>0?Math.max(...n):0,consecutivePeriods:n.length}},fve=(t,e,r={},n)=>{const i=uve(t,e,r,n),s=PP.get(i);return s&&dve(s.timestamp)?s.data:Vc("跨月統計計算",()=>{const a={},o=new Set;return n.forEach(A=>{const l=t[A.key];l&&lve(l,r).forEach(d=>{o.add(d)})}),Array.from(o).forEach(A=>{const l=MH(A,t,n);l&&(kP(A,t,n),a[A]={employeeId:A,name:e[A]||A,hireMonth:l,months:0,totalEarly:0,totalAfternoon:0,totalNight:0,totalConsecutive:0,totalStock:0,crossMonthAvgConsecutive:0,crossMonthMaxConsecutive:0,crossMonthPeriods:0})}),n.forEach(A=>{const l=t[A.key];l&&Object.keys(a).forEach(c=>{const d=l[c];if(!d)return;const f=a[c].hireMonth;if(A.key>=f.sortKey){const[g,m]=A.key.split("-"),p={key:A.key,year:parseInt(g),month:parseInt(m)},y=LH(d,p);a[c].months++,a[c].totalEarly+=y.early,a[c].totalAfternoon+=y.afternoon,a[c].totalNight+=y.night,a[c].totalConsecutive+=y.avgConsecutive,a[c].totalStock+=y.stock}})}),Object.keys(a).forEach(A=>{const l=a[A];if(l.months>0&&(l.avgEarly=(l.totalEarly/l.months).toFixed(1),l.avgAfternoon=(l.totalAfternoon/l.months).toFixed(1),l.avgNight=(l.totalNight/l.months).toFixed(1),l.avgConsecutive=(l.totalConsecutive/l.months).toFixed(1),l.avgStock=(l.totalStock/l.months).toFixed(1),l.months>1)){const c=kP(A,t,n);l.crossMonthAvgConsecutive=c.avgConsecutive,l.crossMonthMaxConsecutive=c.maxConsecutive,l.crossMonthPeriods=c.consecutivePeriods}}),PP.set(i,{data:a,timestamp:Date.now()}),a})},hve=(t,e,r,n,i={})=>{const s=MH(t,e,r);if(!s)return[];if(t==="_lastUpdated")return[];const a=i[t];if(a!=="regular"&&a!==void 0)return[];const o=[],A=r.filter(c=>c.key>=s.sortKey).sort((c,d)=>d.key.localeCompare(c.key)),l=3;for(let c=0;c<A.length;c+=l)A.slice(c,c+l).forEach(f=>{const g=e[f.key];if(!g||!g[t])return;const[m,p]=f.key.split("-"),y={key:f.key,year:parseInt(m),month:parseInt(p)},w=LH(g[t],y);o.push({...w,year:y.year,month:y.month})});return o},LH=(t,e)=>{const r=new Date(e.year,e.month-1,0).getDate();let n=0,i=0,s=0,a=[],o=0,A=0;const l=e.year>2025||e.year===2025&&e.month>=10,c=e.year>2025||e.year===2025&&e.month>=10;for(let f=1;f<=r;f++){const g=t[f];if(g){c?(g==="早"||g==="中")&&n++:g==="早"&&n++,g==="午"&&i++,g==="晚"&&s++;const m=g==null?void 0:g.trim();l?(m==="午"||m==="X"||m==="XX"||(m==null?void 0:m.toUpperCase())==="X"||(m==null?void 0:m.toUpperCase())==="XX"||m==="晚"||m==="Y"||m==="A"||m==="YY"||m==="晚班"||m==="J"||m==="JJ"||(m==null?void 0:m.toUpperCase())==="Y"||(m==null?void 0:m.toUpperCase())==="A"||(m==null?void 0:m.toUpperCase())==="YY"||(m==null?void 0:m.toUpperCase())==="J"||(m==null?void 0:m.toUpperCase())==="JJ")&&new Date(e.year,e.month-1,f).getDay()===3&&A++:(m==="中"||m==="L"||m==="LL"||m==="中班"||(m==null?void 0:m.toUpperCase())==="L"||(m==null?void 0:m.toUpperCase())==="LL"||m==="晚"||m==="Y"||m==="A"||m==="YY"||m==="晚班"||m==="J"||m==="JJ"||(m==null?void 0:m.toUpperCase())==="Y"||(m==null?void 0:m.toUpperCase())==="A"||(m==null?void 0:m.toUpperCase())==="YY"||(m==null?void 0:m.toUpperCase())==="J"||(m==null?void 0:m.toUpperCase())==="JJ")&&new Date(e.year,e.month-1,f).getDay()===3&&A++,g==="早"||g==="中"||g==="午"||g==="晚"||g==="D7"||g==="高鐵"||g==="中央店"?o++:o>0&&(a.push(o),o=0)}}o>0&&a.push(o);let d=0;return a.length>0&&(d=a.reduce((g,m)=>g+m,0)/a.length),{early:n,afternoon:i,night:s,avgConsecutive:parseFloat(d.toFixed(1)),maxConsecutive:a.length>0?Math.max(...a):0,consecutivePeriods:a.length,stock:A}},gve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgEarly:parseFloat(l.avgEarly)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgEarly),A=Math.max(...o);return a.sort((l,c)=>c.avgEarly-l.avgEarly).map((l,c)=>({...l,rank:c+1,percentile:hh(l.avgEarly,o),colorClass:gh(l.avgEarly,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-pink-500/30 border border-pink-400/50 flex items-center justify-center text-xs font-bold text-pink-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-pink-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgEarly," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌅"}),u.jsx("div",{children:"無跨月早中班記錄"})]})})},mve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgAfternoon:parseFloat(l.avgAfternoon)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgAfternoon),A=Math.max(...o);return a.sort((l,c)=>c.avgAfternoon-l.avgAfternoon).map((l,c)=>({...l,rank:c+1,percentile:hh(l.avgAfternoon,o),colorClass:gh(l.avgAfternoon,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium cursor-pointer hover:text-orange-300 transition-colors",onClick:()=>r(a.employeeId),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgAfternoon," 次/月"]}),u.jsxs("div",{className:"text-xs text-gray-400",children:[a.months," 個月"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center text-gray-400 py-8",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📊"}),u.jsx("div",{children:"暫無午班統計數據"})]})})},pve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgNight:parseFloat(l.avgNight)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgNight),A=Math.max(...o);return a.sort((l,c)=>c.avgNight-l.avgNight).map((l,c)=>({...l,rank:c+1,percentile:hh(l.avgNight,o),colorClass:gh(l.avgNight,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500/30 border border-blue-400/50 flex items-center justify-center text-xs font-bold text-blue-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-blue-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgNight," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🌙"}),u.jsx("div",{children:"無跨月晚班記錄"})]})})},vve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgConsecutive:parseFloat(l.avgConsecutive)||0,crossMonthAvgConsecutive:parseFloat(l.crossMonthAvgConsecutive)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgConsecutive),A=Math.max(...o);return a.sort((l,c)=>c.avgConsecutive-l.avgConsecutive).map((l,c)=>({...l,rank:c+1,percentile:hh(l.avgConsecutive,o),colorClass:gh(l.avgConsecutive,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-500/30 border border-orange-400/50 flex items-center justify-center text-xs font-bold text-orange-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-orange-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgConsecutive," 天/月"]}),u.jsxs("div",{className:"text-gray-500 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),u.jsx("div",{children:"無跨月連續上班記錄"})]})})},yve=({employeeStats:t,showAll:e=!1,onEmployeeClick:r})=>{const i=(()=>{const a=Object.values(t).map(l=>({employeeId:l.employeeId,name:l.name,avgStock:parseFloat(l.avgStock)||0,months:l.months})).filter(l=>l.months>0),o=a.map(l=>l.avgStock),A=Math.max(...o);return a.sort((l,c)=>c.avgStock-l.avgStock).map((l,c)=>({...l,rank:c+1,percentile:hh(l.avgStock,o),colorClass:gh(l.avgStock,A)}))})(),s=e?i:i.slice(0,5);return u.jsx("div",{className:"space-y-3",children:i.length>0?s.map(a=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10 hover:bg-surface/30 transition-all",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500/30 border border-emerald-400/50 flex items-center justify-center text-xs font-bold text-emerald-300",children:a.rank}),u.jsx("span",{className:"text-white font-medium text-sm cursor-pointer hover:text-emerald-200 transition-colors",onClick:()=>r&&r(a),children:a.name})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:`font-bold text-sm ${a.colorClass}`,children:[a.avgStock," 次/月"]}),u.jsxs("div",{className:"text-gray-400 text-xs",children:["(",a.months,"個月)"]})]})]},a.employeeId)):u.jsxs("div",{className:"text-center py-6 text-gray-400",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📦"}),u.jsx("div",{children:"無跨月進貨記錄"})]})})},wve=({employee:t,onClose:e,allSchedules:r,availableMonths:n,names:i,employeeTags:s={}})=>{const[a,o]=ii.useState([]),[A,l]=ii.useState(!1);ii.useEffect(()=>{t&&(l(!0),setTimeout(()=>{const g=hve(t.employeeId,r,n,i,s);o(g),l(!1)},0))},[t,r,n,i,s]);const d=(()=>{if(a.length<2)return null;const g=a.map(w=>w.early),m=a.map(w=>w.night),p=a.map(w=>w.avgConsecutive),y=a.map(w=>w.stock);return{early:{trend:Vg(g),stdDev:Kg(g)},night:{trend:Vg(m),stdDev:Kg(m)},consecutive:{trend:Vg(p),stdDev:Kg(p)},stock:{trend:Vg(y),stdDev:Kg(y)}}})();if(!t)return null;const f=g=>{g.target===g.currentTarget&&e()};return u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:f,children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/90 to-surface/70 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm max-w-2xl w-full max-h-[80vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:[t.name," 的跨月統計詳情"]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:u.jsxs("div",{className:"text-center text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"統計期間："}),u.jsxs("span",{className:"text-white",children:[t.months,"個月"]})]})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-cyan-300",children:"各月份詳細資料"}),A?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-300 mx-auto"}),u.jsx("div",{className:"text-gray-400 mt-2",children:"載入中..."})]}):a.map((g,m)=>u.jsxs("div",{className:"bg-surface/30 rounded-lg p-4 border border-white/10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("h5",{className:"font-medium text-white",children:[g.year,"年",g.month,"月"]}),u.jsxs("span",{className:"text-xs text-gray-400",children:["第 ",m+1," 個月"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"早中班次數"}),u.jsx("span",{className:"text-pink-300 font-bold",children:g.early})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-pink-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(g.early/20*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"午班次數"}),u.jsx("span",{className:"text-orange-300 font-bold",children:g.afternoon})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-orange-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(g.afternoon/20*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"晚班次數"}),u.jsx("span",{className:"text-blue-300 font-bold",children:g.night})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(g.night/20*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"連續上班天數"}),u.jsx("span",{className:"text-orange-300 font-bold",children:g.avgConsecutive})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-orange-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(g.avgConsecutive/10*100,100)}%`}})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-gray-400 text-sm",children:"進貨次數"}),u.jsx("span",{className:"text-emerald-300 font-bold",children:g.stock})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:u.jsx("div",{className:"bg-emerald-400 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(g.stock/10*100,100)}%`}})})]})]})]},m))]}),u.jsxs("div",{className:"mt-6 space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg border border-purple-400/30",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-3",children:"平均值摘要"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-pink-300 font-bold text-lg",children:[t.avgEarly," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"早中班平均"}),d&&u.jsxs("div",{className:`text-xs mt-1 ${Gg(d.early.trend)}`,children:[$g(d.early.trend)," 標準差: ",d.early.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-blue-300 font-bold text-lg",children:[t.avgNight," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"晚班平均"}),d&&u.jsxs("div",{className:`text-xs mt-1 ${Gg(d.night.trend)}`,children:[$g(d.night.trend)," 標準差: ",d.night.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-orange-300 font-bold text-lg",children:[t.avgConsecutive," 天/月"]}),u.jsx("div",{className:"text-gray-400",children:"連續上班平均"}),d&&u.jsxs("div",{className:`text-xs mt-1 ${Gg(d.consecutive.trend)}`,children:[$g(d.consecutive.trend)," 標準差: ",d.consecutive.stdDev]})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-emerald-300 font-bold text-lg",children:[t.avgStock," 次/月"]}),u.jsx("div",{className:"text-gray-400",children:"進貨平均"}),d&&u.jsxs("div",{className:`text-xs mt-1 ${Gg(d.stock.trend)}`,children:[$g(d.stock.trend)," 標準差: ",d.stock.stdDev]})]})]})]}),a.length>1&&u.jsxs("div",{className:"p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsx("h4",{className:"text-lg font-semibold text-cyan-300 mb-4",children:"月度趨勢圖"}),u.jsx("div",{className:"h-48",children:u.jsx(kl,{width:"100%",height:"100%",children:u.jsxs(sI,{data:a.slice().sort((g,m)=>`${g.year}-${g.month.toString().padStart(2,"0")}`.localeCompare(`${m.year}-${m.month.toString().padStart(2,"0")}`)).map(g=>({month:`${g.year}/${g.month}`,early:g.early,afternoon:g.afternoon,night:g.night,consecutive:g.avgConsecutive,stock:g.stock})),children:[u.jsx(Xn,{type:"monotone",dataKey:"early",stroke:"#ec4899",strokeWidth:2,name:"早中班"}),u.jsx(Xn,{type:"monotone",dataKey:"afternoon",stroke:"#f97316",strokeWidth:2,name:"午班"}),u.jsx(Xn,{type:"monotone",dataKey:"night",stroke:"#3b82f6",strokeWidth:2,name:"晚班"}),u.jsx(Xn,{type:"monotone",dataKey:"consecutive",stroke:"#f97316",strokeWidth:2,name:"平均連續上班"}),u.jsx(Xn,{type:"monotone",dataKey:"stock",stroke:"#10b981",strokeWidth:2,name:"進貨"})]})})})]})]})]})})};function xve({allSchedules:t,names:e,employeeTags:r={},availableMonths:n}){const[i,s]=ii.useState(!1),[a,o]=ii.useState(null),A=b.useMemo(()=>!t||Object.keys(t).length===0||!e||Object.keys(e).length===0?{}:!n||n.length===0?{}:fve(t,e,r,n),[t,e,r,n]),l=Object.keys(A).length>0,c=d=>{const f=A[d.employeeId];f&&o(f)};return u.jsxs("div",{className:"space-y-6",children:[l?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[u.jsx(Hu,{title:Vr.early.title,icon:Vr.early.icon,themeColor:"early",isLoading:!1,children:u.jsx(gve,{employeeStats:A,showAll:i,onEmployeeClick:c})}),u.jsx(Hu,{title:Vr.afternoon.title,icon:Vr.afternoon.icon,themeColor:"afternoon",isLoading:!1,children:u.jsx(mve,{employeeStats:A,showAll:i,onEmployeeClick:c})}),u.jsx(Hu,{title:Vr.night.title,icon:Vr.night.icon,themeColor:"night",isLoading:!1,children:u.jsx(pve,{employeeStats:A,showAll:i,onEmployeeClick:c})}),u.jsx(Hu,{title:Vr.consecutive.title,icon:Vr.consecutive.icon,themeColor:"consecutive",isLoading:!1,children:u.jsx(vve,{employeeStats:A,showAll:i,onEmployeeClick:c})}),u.jsx(Hu,{title:Vr.stockLover.title,icon:Vr.stockLover.icon,themeColor:"stockLover",isLoading:!1,children:u.jsx(yve,{employeeStats:A,showAll:i,onEmployeeClick:c})})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>s(!i),className:"px-8 py-3 bg-gradient-to-r from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 border border-purple-400/30 text-purple-300 rounded-xl transition-all duration-200 text-sm font-medium shadow-lg backdrop-blur-sm",children:i?"收起所有排名":"查看全部排名"})})]}):u.jsxs("div",{className:"text-center py-12 text-gray-400",children:[u.jsx("div",{className:"text-6xl mb-4",children:"📊"}),u.jsx("div",{className:"text-xl mb-2",children:"暫無跨月資料"}),u.jsx("div",{className:"text-sm",children:"請確保已載入多個月份的班表資料"})]}),a&&u.jsx(wve,{employee:a,onClose:()=>o(null),allSchedules:t,availableMonths:n,names:e,employeeTags:r})]})}b.lazy(()=>Cn(()=>import("./ChartAnalysis-HS86tjKm.js"),[]));const Oi=["7-11 新街門市","A21 環北站","7-11 高萱門市","A18 桃園高鐵站","A16 橫山站","大園農會","不搭車"],QP={"A21 環北站":{name:"A21 環北站",originalPrice:65,monthlyPass:{30:1260,90:3564,120:3888}},"A19 體育園區站":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"7-11 高萱門市":{name:"A19 體育園區站",originalPrice:40,monthlyPass:{30:735,90:2079,120:2268}},"A18 桃園高鐵站":{name:"A18 桃園高鐵站",originalPrice:35,monthlyPass:{30:630,90:1782,120:1944}}},bve={name:"TPass 799",price:799,days:30,description:"A7-A22 無限搭乘 30天"},HH={K:"早",L:"中",Y:"晚",A:"晚",月休:"休",SS:"特",R:"休",KK:"早",LL:"中",YY:"晚",早班:"早",中班:"中",晚班:"晚"},VH={K:"早",L:"中",Y:"晚",A:"晚",月休:"休",SS:"中",R:"休",KK:"早",LL:"中",YY:"晚",早班:"早",中班:"中",晚班:"晚",J:"晚",JJ:"晚",X:"午",XX:"午",S:"中",SSS:"特",SSSS:"特",SSSSS:"特",SSSSSS:"特"},tx=t=>{const[e,r]=t.split("-").map(Number);return e>2024||e===2024&&r>=10?VH:HH},Bve=HH,Vu={早:"#ec4899",中:"#06b6d4",午:"#10b981",晚:"#3b82f6",休:"#6b7280",特:"#f97316"},Wg=(t=[])=>{const e=[],r=new Date,n=r.getFullYear(),i=r.getMonth()+1,s=`${n}-${i.toString().padStart(2,"0")}`;return t.length>0?t.sort((o,A)=>A.key.localeCompare(o.key)).forEach(o=>{let A=o.label;const l=o.key.includes("_")?o.key.split("_")[1]:null;l&&(A+=` (${l==="central"?"中央店":"D7店"})`),(o.monthKey||o.key.split("_")[0])===s&&(A+=" (當月)"),e.push({key:o.key,label:A,year:parseInt((o.monthKey||o.key).split("-")[0]),month:parseInt((o.monthKey||o.key).split("-")[1]),lastUpdated:o.lastUpdated})}):e.push({key:s,label:`${n}年${i}月 (當月)`,year:n,month:i}),e},Cve=()=>{const t=[],e=new Date,r=2024,n=5;let i=new Date(r,n-1,1);for(;i<=e;){const s=i.getFullYear(),a=i.getMonth()+1,o=`${s}-${a.toString().padStart(2,"0")}`,A=`${s}年${a}月`;t.push({key:o,label:A,year:s,month:a}),i=new Date(i.getFullYear(),i.getMonth()+1,1)}for(let s=1;s<=6;s++){const a=new Date(e.getFullYear(),e.getMonth()+s,1),o=a.getFullYear(),A=a.getMonth()+1,l=`${o}-${A.toString().padStart(2,"0")}`;let c=`${o}年${A}月`;s===1&&(c+=" (下個月)"),t.push({key:l,label:c,year:o,month:A})}return t};function Eve(){const[t,e]=b.useState("display"),[r,n]=b.useState({}),[i,s]=b.useState({}),[a,o]=b.useState(()=>{const O=new Date,j=O.getFullYear(),X=O.getMonth()+1;return`${j}-${X.toString().padStart(2,"0")}`}),[A,l]=b.useState({}),[c,d]=b.useState({}),[f,g]=b.useState([]);b.useState(!1);const[m,p]=b.useState({}),[y,w]=b.useState({}),[v,x]=b.useState({}),[S,T]=b.useState({}),[I,C]=b.useState("date"),[E,F]=b.useState("all"),[N,k]=b.useState(null),[Q,P]=b.useState("all"),[oe,Ce]=b.useState("week1"),[ve,xe]=b.useState(null),[Z,ae]=b.useState(null),[de,Fe]=b.useState([]),[ie,Ue]=b.useState({start:1,end:31}),[ze,D]=b.useState([]),[V,R]=b.useState("charts"),[q,M]=b.useState("monthly"),[$,Y]=b.useState("chart"),[L,Ee]=b.useState(null),[be,Qe]=b.useState({startDate:null,endDate:null}),[Me,ar]=b.useState(!1),[LA,uy]=b.useState({statistics:!1,charts:!1,export:!1,import:!1}),[xo,eu]=b.useState(""),[ea,HA]=b.useState(null),[VA,KA]=b.useState("");b.useState("current");const[Ze,or]=b.useState(""),[Zi,tu]=b.useState("central"),[bo,mh]=b.useState("import"),[Rn,es]=b.useState({id:"",name:"",pickupLocation:Oi[0],tag:"regular",store:"central"});b.useEffect(()=>{$A(),GA()},[]),b.useEffect(()=>{if(f.length>0){const O=new Date,j=O.getFullYear(),X=O.getMonth()+1,ee=`${j}-${X.toString().padStart(2,"0")}`;if(f.some(le=>le.key===ee))o(ee);else{const le=f[0];le&&o(le.key)}}},[f]),b.useEffect(()=>{V==="charts"?ae(null):V==="overlap"&&xe(null)},[V]),b.useEffect(()=>{const O=uf($n(_t,"schedule","currentMonth"),X=>{if(X.exists()){const ee=X.data();n(ee),l(z=>({...z,current:ee._lastUpdated}))}}),j=uf($n(_t,"schedule","nextMonth"),X=>{if(X.exists()){const ee=X.data();s(ee),l(z=>({...z,next:ee._lastUpdated}))}});return()=>{O(),j()}},[]);const $A=async()=>{try{const O=await $o(Ko(_t,"schedule")),j={},X=[];O.forEach(z=>{const le=z.data();if(j[z.id]=le,z.id.match(/^\d{4}-\d{2}(_(central|d7))?$/)){const se=z.id.split("_")[0];X.push({key:z.id,monthKey:se,label:`${se.split("-")[0]}年${se.split("-")[1]}月`,lastUpdated:le._lastUpdated})}}),d(j),g(X.sort((z,le)=>le.key.localeCompare(z.key)));const ee={};j.currentMonth&&(n(j.currentMonth),ee.current=j.currentMonth._lastUpdated),j.nextMonth&&(s(j.nextMonth),ee.next=j.nextMonth._lastUpdated),X.forEach(z=>{ee[z.key]=z.lastUpdated}),l(ee)}catch(O){console.error("載入班表資料失敗:",O)}},GA=async()=>{try{const O=await $o(Ko(_t,"names")),j={};O.forEach(_e=>{j[_e.id]=_e.data().name}),p(j);const X=await $o(Ko(_t,"pickupLocations")),ee={};X.forEach(_e=>{ee[_e.id]=_e.data().location}),w(ee);const z=await $o(Ko(_t,"employeeTags")),le={};z.forEach(_e=>{le[_e.id]=_e.data().tag||"regular"}),x(le);const se=await $o(Ko(_t,"employeeStores")),ne={};se.forEach(_e=>{ne[_e.id]=_e.data().store||"central"}),T(ne)}catch(O){console.error("載入同事資料失敗:",O)}},dy=async()=>{try{for(const[O,j]of Object.entries(m))await us($n(_t,"names",O),{name:j});for(const[O,j]of Object.entries(y))await us($n(_t,"pickupLocations",O),{location:j});for(const[O,j]of Object.entries(v))await us($n(_t,"employeeTags",O),{tag:j});for(const[O,j]of Object.entries(S))await us($n(_t,"employeeStores",O),{store:j});alert("同事資料已儲存")}catch(O){console.error("儲存同事資料失敗:",O),alert("儲存失敗")}},fy=()=>{confirm("確定要清空所有同事資料嗎？")&&(p({}),w({}),x({}),T({}))},ru=()=>{const{id:O,name:j,pickupLocation:X,tag:ee,store:z}=Rn;if(!O||!j){alert("請填寫職員編號和姓名");return}if(m[O]){alert("職員編號已存在");return}p(le=>({...le,[O]:j})),w(le=>({...le,[O]:X})),x(le=>({...le,[O]:ee})),T(le=>({...le,[O]:z})),es({id:"",name:"",pickupLocation:Oi[0],tag:"regular",store:"central"})},ph=O=>{confirm(`確定要刪除 ${m[O]} 嗎？`)&&(p(j=>{const X={...j};return delete X[O],X}),w(j=>{const X={...j};return delete X[O],X}),x(j=>{const X={...j};return delete X[O],X}),T(j=>{const X={...j};return delete X[O],X}))},vh=(O,j)=>{p(X=>({...X,[O]:j}))},Bo=(O,j)=>{x(X=>({...X,[O]:j}))},nu=(O,j)=>{T(X=>({...X,[O]:j}))},iu=(O,j)=>{w(X=>({...X,[O]:j}))},ts=()=>{if(!xo.trim()){KA("請輸入資料");return}try{const O=xo.trim().split(`
`),j={};let X=null,ee=0;for(const z of O){if(ee++,!z.trim())continue;console.log(`處理第 ${ee} 行:`,z);const le=z.split("	");if(console.log("分割後的欄位:",le),ee<=2){console.log("跳過標題行或日期行");continue}const se=le[0].trim(),ne=le[1].trim();if(se&&ne&&se.match(/^A\d+$/)&&(console.log("發現同事資料行:",se,ne),le[2]&&le[2].trim()==="班別排班")){X={id:se,name:ne,schedule:[]};const _e=le.slice(3);console.log("班表資料:",_e);const Oe=_e.map(Rt=>{const Et=Rt.trim();if(!Et)return"";const pr=tx(Ze);return pr[Et]?pr[Et]:Et});console.log("處理後的班表:",Oe);const Ct=ne.replace(/\d+/g,"").trim();j[se]={name:Ct,schedule:Oe}}}HA(j),KA("")}catch{KA("解析資料時發生錯誤")}},yh=async()=>{if(!ea){alert("請先解析資料");return}if(!Ze){alert("請選擇要儲存的月份");return}if(!Zi){alert("請選擇要儲存的店別");return}try{const O={};for(const[z,le]of Object.entries(ea)){if(!z||z.trim()===""){console.warn("跳過空的職員編號");continue}O[z]={},le.schedule.forEach((se,ne)=>{const _e=`${ne+1}`;se&&se.trim()&&(O[z][_e]=se)}),console.log(`同事 ${z}: ${Object.keys(O[z]).length} 個班次`)}O._lastUpdated=new Date().toISOString(),console.log("準備上傳資料:",O),console.log("資料結構檢查:");for(const[z,le]of Object.entries(O))z!=="_lastUpdated"&&console.log(`- ${z}: ${Object.keys(le).length} 個班次`);const j=Zi==="central"?"central":"d7",X=`${Ze}_${j}`;await us($n(_t,"schedule",X),O),console.log(`班表上傳成功到 ${j} 店的 ${Ze}`);for(const[z,le]of Object.entries(ea))if(!m[z])try{await us($n(_t,"names",z),{name:le.name}),console.log(`同事 ${z} 姓名已更新`)}catch(se){console.warn(`更新同事 ${z} 姓名失敗:`,se)}await $A(),alert(`班表已成功儲存到 ${Zi==="central"?"中央店":"D7店"} 的 ${Ze}！`),eu(""),HA(null),or(""),tu("central")}catch(O){console.error("上傳班表失敗:",O);let j="上傳失敗";O.code==="permission-denied"?j="權限不足，請檢查 Firebase 安全規則":O.code==="unavailable"?j="網路連線問題，請檢查網路連線":O.message&&(j=`上傳失敗: ${O.message}`),alert(j)}},ta=()=>{let O;a==="current"?O=r:a==="next"?O=i:O=c[a]||{};const j=Object.keys(O).filter(z=>z!=="_lastUpdated"),X=(z,le)=>{var _e,Oe;const se=parseInt(((_e=z.match(/\d+/))==null?void 0:_e[0])||"0"),ne=parseInt(((Oe=le.match(/\d+/))==null?void 0:Oe[0])||"0");return se-ne};let ee=j;return Q!=="all"&&(ee=ee.filter(z=>(S[z]||"central")===Q)),N?ee=[N]:ze.length>0&&(ee=ze),ee.sort(X)},Ut=()=>a==="current"?r:a==="next"?i:c[a]||{},Co=O=>{if(!O)return null;const j={totalMonths:0,totalShifts:0,earlyShifts:0,midShifts:0,nightShifts:0,restDays:0,specialShifts:0,averageShiftsPerMonth:0,averageEarlyPerMonth:0,averageMidPerMonth:0,averageNightPerMonth:0,averageRestPerMonth:0,averageSpecialPerMonth:0};return Object.keys(c).forEach(X=>{if(X==="_lastUpdated")return;const z=c[X][O];z&&(j.totalMonths++,Object.keys(z).forEach(le=>{if(le==="_lastUpdated")return;const se=z[le];if(se)switch(j.totalShifts++,se){case"早":j.earlyShifts++;break;case"中":j.midShifts++;break;case"晚":j.nightShifts++;break;case"休":j.restDays++;break;case"特":j.specialShifts++;break}}))}),j.totalMonths>0&&(j.averageShiftsPerMonth=Math.round(j.totalShifts/j.totalMonths),j.averageEarlyPerMonth=Math.round(j.earlyShifts/j.totalMonths),j.averageMidPerMonth=Math.round(j.midShifts/j.totalMonths),j.averageNightPerMonth=Math.round(j.nightShifts/j.totalMonths),j.averageRestPerMonth=Math.round(j.restDays/j.totalMonths),j.averageSpecialPerMonth=Math.round(j.specialShifts/j.totalMonths)),j},wh=()=>new Date().getDate(),Ar=O=>{const j=new Date,X=[];for(let ee=0;ee<O;ee++){const z=new Date(j);z.setDate(j.getDate()+ee),X.push(z.getDate())}return X},Eo=()=>{switch(E){case"today":return[wh()];case"3days":return Ar(3);case"7days":return Ar(7);case"custom":return Array.from({length:ie.end-ie.start+1},(ee,z)=>ie.start+z);default:let O,j;if(a==="current"){const ee=new Date;O=ee.getFullYear(),j=ee.getMonth()+1}else if(a==="next"){const ee=new Date;O=ee.getFullYear(),j=ee.getMonth()+2}else{const[ee,z]=a.split("-");O=parseInt(ee),j=parseInt(z)}const X=new Date(O,j,0).getDate();return Array.from({length:X},(ee,z)=>z+1)}},_o=O=>{const j=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),X=1,ee=j;if(!O||!y[O])return null;const z=y[O];if(z==="不搭車"||!QP[z])return null;const se=Ut()[O];if(!se)return null;let ne=0,_e=0;for(let So=X;So<=ee;So++){const hn=se[So];hn&&hn!=="休"&&hn!=="特"&&(_e++,hn==="早"?ne+=1:(hn==="中"||hn==="晚")&&(ne+=2))}if(ne===0)return null;const Oe=QP[z],Ct=ne*Oe.originalPrice,Rt=Math.ceil(Ct*.7),Et=[];Object.entries(Oe.monthlyPass).forEach(([So,hn])=>{const au=parseInt(So),ou=hn,Au=hn/(au/30);Et.push({days:au,price:hn,totalCost:ou,averagePricePerMonth:Au,savings:Ct-ou})});const pr=bve.price,Ni=pr/30,lr=Math.ceil((pr-Ct)/Oe.originalPrice),su=()=>Ct>=pr?{type:"recommended",text:"TPass比原價划算，強烈推薦！"}:lr<=5?{type:"consider",text:`只需額外搭乘${lr}次即可回本，建議考慮`}:lr<=10?{type:"maybe",text:`需要額外搭乘${lr}次才回本，可考慮其他方案`}:{type:"not-recommended",text:`需要額外搭乘${lr}次才回本，不建議`};return{employeeId:O,employeeName:m[O]||O,location:z,workDays:_e,totalTrips:ne,originalTotal:Ct,citizenCardTotal:Rt,monthlyPassOptions:Et,tpassTotal:pr,tpassDailyCost:Ni,breakEvenTrips:lr,tpassRecommendation:su(),recommendations:[]}},Io=()=>{const O=WA();O&&(document.body.appendChild(O),setTimeout(()=>{IR(O,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!0}).then(j=>{const X=document.createElement("a");X.download=`乘車表_${a==="current"?"當月":"下個月"}_${new Date().toISOString().split("T")[0]}.png`,X.href=j.toDataURL(),X.click(),document.body.removeChild(O)}).catch(j=>{console.error("匯出失敗:",j),document.body.removeChild(O)})},500))},hy=()=>{const O=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),j=[];for(let X=1;X<=Math.ceil(O/7);X++){const ee=(X-1)*7+1,z=Math.min(X*7,O);j.push(u.jsxs("option",{value:`week${X}`,children:[new Date().getMonth()+1,"月",ee,"日 - ",new Date().getMonth()+1,"月",z,"日"]},`week${X}`))}return j},xh=b.useCallback(()=>{const O=Ut();let j,X;if(Me&&be.startDate&&be.endDate){if(j=be.startDate.getDate(),X=be.endDate.getDate(),j>X){alert("開始日期不能大於結束日期");return}const z=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();if(j<1||X>z){alert(`日期範圍必須在 1-${z} 之間`);return}}else{const z=parseInt(oe.replace("week",""));j=(z-1)*7+1,X=Math.min(z*7,new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate())}let ee="";for(let z=j;z<=X;z++){const le={};Object.keys(O).forEach(se=>{var Oe;if(se==="_lastUpdated")return;const ne=y[se];if(!ne||ne==="不搭車")return;((Oe=O[se])==null?void 0:Oe[z])==="早"&&(le[ne]=(le[ne]||0)+1)}),ee+=`${new Date().getMonth()+1}/${z}
`,Object.keys(le).length>0&&["A21 環北站","7-11 高萱門市","7-11 新街門市","A18 桃園高鐵站"].forEach(ne=>{le[ne]&&(ee+=`${ne}${le[ne]}人
`)}),ee+=`
`}navigator.clipboard.writeText(ee.trim()).then(()=>{alert("Line 群文字已複製到剪貼簿！")}).catch(()=>{prompt("請複製以下文字：",ee.trim())})},[Me,be,oe,y]),ra=O=>{if(!O){const z=new Date,le=z.getFullYear(),se=z.getMonth()+1;return le>2025||le===2025&&se>=10}let j=O;O.includes("_")&&(j=O.split("_")[0]);const[X,ee]=j.split("-").map(Number);return X>2025||X===2025&&ee>=10},gy=()=>{const O=Ut(),j={};Object.keys(O).forEach(ee=>{ee!=="_lastUpdated"&&(j[ee]={})});const X=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let ee=1;ee<=X;ee++){const z={};Object.keys(O).forEach(se=>{var _e;if(se==="_lastUpdated")return;const ne=(_e=O[se])==null?void 0:_e[ee];ne&&ne!=="休"&&ne!=="D7"&&ne!=="高鐵"&&(z[ne]||(z[ne]=[]),z[ne].push(se))}),Object.keys(z).forEach(se=>{const ne=z[se];for(let _e=0;_e<ne.length;_e++)for(let Oe=_e+1;Oe<ne.length;Oe++){const Ct=ne[_e],Rt=ne[Oe];j[Ct][Rt]||(j[Ct][Rt]=0),j[Rt][Ct]||(j[Rt][Ct]=0),j[Ct][Rt]++,j[Rt][Ct]++}}),ra(a)?(z.早&&(z.中&&z.早.forEach(se=>{z.中.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})}),z.午&&z.早.forEach(se=>{z.午.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})})),z.中&&z.午&&z.中.forEach(se=>{z.午.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})}),z.午&&z.晚&&z.午.forEach(se=>{z.晚.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})})):(z.早&&z.中&&z.早.forEach(se=>{z.中.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})}),z.中&&z.晚&&z.中.forEach(se=>{z.晚.forEach(ne=>{j[se][ne]||(j[se][ne]=0),j[ne][se]||(j[ne][se]=0),j[se][ne]++,j[ne][se]++})}))}return j},my=O=>{const X=gy()[O]||{};return Object.entries(X).map(([ee,z])=>({employeeId:ee,name:m[ee]||ee,count:z})).sort((ee,z)=>z.count-ee.count).filter(ee=>ee.count>0)},WA=()=>{const O=Ut(),j=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),X={};for(let _e=1;_e<=j;_e++)X[_e]={},Oi.forEach(Oe=>{X[_e][Oe]=0});Object.keys(O).forEach(_e=>{var Ct;if(_e==="_lastUpdated")return;const Oe=y[_e];if(!(!Oe||Oe==="不搭車"))for(let Rt=1;Rt<=j;Rt++)((Ct=O[_e])==null?void 0:Ct[Rt])==="早"&&X[Rt][Oe]++});const ee=document.createElement("div");ee.style.cssText=`
      position: fixed;
      top: -9999px;
      left: -9999px;
      width: 1200px;
      background: white;
      padding: 40px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: #333;
    `;const z=document.createElement("h1");z.textContent=`${new Date().getFullYear()}年${new Date().getMonth()+1}月 乘車統計表`,z.style.cssText=`
      text-align: center;
      font-size: 32px;
      font-weight: bold;
      margin-bottom: 30px;
      color: #2c3e50;
    `,ee.appendChild(z);const le=document.createElement("div");le.style.cssText=`
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      margin-top: 20px;
    `,["日","一","二","三","四","五","六"].forEach(_e=>{const Oe=document.createElement("div");Oe.textContent=_e,Oe.style.cssText=`
        text-align: center;
        font-weight: bold;
        font-size: 18px;
        padding: 15px 10px;
        background: #f8f9fa;
        border-radius: 8px;
        color: #495057;
      `,le.appendChild(Oe)});const ne=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();for(let _e=0;_e<ne;_e++){const Oe=document.createElement("div");Oe.style.cssText=`
        height: 120px;
        background: #f8f9fa;
        border-radius: 8px;
      `,le.appendChild(Oe)}for(let _e=1;_e<=j;_e++){const Oe=document.createElement("div");Oe.style.cssText=`
        height: 120px;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        padding: 8px;
        background: white;
        position: relative;
      `;const Ct=document.createElement("div");if(Ct.textContent=_e,Ct.style.cssText=`
        font-size: 16px;
        font-weight: bold;
        color: #495057;
        margin-bottom: 8px;
        text-align: center;
      `,Oe.appendChild(Ct),Oi.some(Et=>{var pr;return Et!=="不搭車"&&((pr=X[_e])==null?void 0:pr[Et])>0}))Oi.filter(Et=>Et!=="不搭車").forEach(Et=>{var Ni;const pr=((Ni=X[_e])==null?void 0:Ni[Et])||0;if(pr>0){const lr=document.createElement("div");lr.style.cssText=`
               font-size: 12px;
               margin: 2px 0;
               color: #333;
               text-align: center;
             `,lr.textContent=`${Et}: ${pr}人`,Oe.appendChild(lr)}});else{const Et=document.createElement("div");Et.textContent="無乘車",Et.style.cssText=`
           font-size: 12px;
           color: #6c757d;
           text-align: center;
           margin-top: 20px;
         `,Oe.appendChild(Et)}le.appendChild(Oe)}return ee.appendChild(le),ee};return u.jsxs("div",{className:"container-custom py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"班表管理工具"}),u.jsx("p",{className:"text-center text-text-secondary",children:"早班好"})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-4xl",children:u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:[u.jsxs("button",{onClick:()=>e("display"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="display"?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(_d,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"顯示班表"}),u.jsx("span",{className:"sm:hidden",children:"班表"})]}),u.jsxs("button",{onClick:()=>e("transport"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="transport"?"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 text-yellow-400 border border-yellow-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(FX,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"交通及車費試算"}),u.jsx("span",{className:"sm:hidden",children:"交通"})]}),u.jsxs("button",{onClick:()=>e("statistics"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="statistics"?"bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-400 border border-purple-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(bD,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"統計功能"}),u.jsx("span",{className:"sm:hidden",children:"統計"})]}),u.jsxs("button",{onClick:()=>e("import"),className:`px-3 py-3 md:px-6 rounded-lg transition-all text-sm md:text-base ${t==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(ng,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),u.jsx("span",{className:"hidden sm:inline",children:"匯入與轉換班表"}),u.jsx("span",{className:"sm:hidden",children:"匯入"})]})]})})}),t==="display"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-3 py-2 md:px-4 md:py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer text-sm md:text-base",children:Wg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"顯示模式"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:I,onChange:O=>C(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"date",children:"日期視圖"}),u.jsx("option",{value:"employee",children:"同事視圖"}),u.jsx("option",{value:"partner",children:"搭班視圖"})]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-green-300 group-hover:text-green-200 transition-colors",children:"篩選"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:E,onChange:O=>F(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"all",children:"全部"}),u.jsx("option",{value:"today",children:"今天"}),u.jsx("option",{value:"3days",children:"接下來 3 天"}),u.jsx("option",{value:"7days",children:"接下來 7 天"}),u.jsx("option",{value:"custom",children:"自定義範圍"})]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:N||"",onChange:O=>k(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-orange-400/50 focus:bg-white/20 focus:ring-2 focus:ring-orange-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"顯示所有同事"}),Object.keys(Ut()).filter(O=>O!=="_lastUpdated").sort((O,j)=>{var z,le;const X=parseInt(((z=O.match(/\d+/))==null?void 0:z[0])||"0"),ee=parseInt(((le=j.match(/\d+/))==null?void 0:le[0])||"0");return X-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-orange-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),A[a]&&u.jsx("div",{className:"mt-6 flex items-center justify-center",children:u.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-surface/30 rounded-full border border-white/10",children:[u.jsx("svg",{className:"w-4 h-4 text-gray-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{className:"text-sm text-gray-300",children:["最後更新：",new Date(A[a]).toLocaleString()]})]})})]}),(E==="custom"||de.length>0||ze.length>0)&&u.jsxs("div",{className:"bg-gradient-to-br from-surface/50 to-surface/30 rounded-2xl p-4 md:p-6 border border-white/15 shadow-lg backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"進階篩選"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E==="custom"&&u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-cyan-300",children:"日期範圍"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",min:"1",max:"31",value:ie.start,onChange:O=>Ue(j=>({...j,start:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"開始日期"}),u.jsx("span",{className:"text-gray-400 self-center",children:"至"}),u.jsx("input",{type:"number",min:"1",max:"31",value:ie.end,onChange:O=>Ue(j=>({...j,end:parseInt(O.target.value)})),className:"w-1/2 px-3 py-2 bg-white/10 border border-white/20 rounded-lg focus:border-cyan-400/50 focus:bg-white/20 text-sm",placeholder:"結束日期"})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-pink-300",children:"班次篩選"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["早","中","晚","休","特"].map(O=>u.jsx("button",{onClick:()=>{de.includes(O)?Fe(j=>j.filter(X=>X!==O)):Fe(j=>[...j,O])},className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${de.includes(O)?"bg-pink-500 text-white border border-pink-400":"bg-white/10 text-gray-300 border border-white/20 hover:bg-white/20"}`,children:O},O))})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300",children:"多同事選擇"}),u.jsx("div",{className:"max-h-32 overflow-y-auto",children:Object.keys(Ut()).filter(O=>O!=="_lastUpdated").sort((O,j)=>{var z,le;const X=parseInt(((z=O.match(/\d+/))==null?void 0:z[0])||"0"),ee=parseInt(((le=j.match(/\d+/))==null?void 0:le[0])||"0");return X-ee}).map(O=>u.jsxs("label",{className:"flex items-center gap-2 mb-1 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:ze.includes(O),onChange:j=>{j.target.checked?D(X=>[...X,O]):D(X=>X.filter(ee=>ee!==O))},className:"w-4 h-4 text-orange-500 bg-white/10 border-white/20 rounded focus:ring-orange-400/50"}),u.jsx("span",{className:"text-sm text-gray-300",children:m[O]||O})]},O))})]})]}),u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx("button",{onClick:()=>{Fe([]),D([]),Ue({start:1,end:31}),F("all")},className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all text-sm",children:"清除所有篩選"})})]}),u.jsx("div",{className:"bg-surface/30 rounded-xl p-4 mb-4 border border-white/10",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-semibold text-white",children:"店別選擇"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>P("all"),className:`px-4 py-2 rounded-lg transition-all ${Q==="all"?"bg-purple-500/20 border border-purple-400/50 text-purple-300":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:"全部店別"}),u.jsx("button",{onClick:()=>P("central"),className:`px-4 py-2 rounded-lg transition-all ${Q==="central"?"bg-blue-500/20 border border-blue-400/50 text-blue-300":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:"中央店"}),u.jsx("button",{onClick:()=>P("d7"),className:`px-4 py-2 rounded-lg transition-all ${Q==="d7"?"bg-green-500/20 border border-green-400/50 text-green-300":"bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10"}`,children:"D7店"})]})]})}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:I==="date"?u.jsx(_ve,{schedule:Ut(),names:m,displayDates:Eo(),filteredEmployees:ta(),selectedShifts:de,selectedMonth:a,employeeTags:v,onScheduleUpdate:O=>{a==="current"?n(O):a==="next"?s(O):d(j=>({...j,[a]:O}))}}):I==="employee"?u.jsx(Ive,{schedule:Ut(),names:m,displayDates:Eo(),filteredEmployees:ta(),selectedShifts:de,selectedMonth:a,employeeTags:v,onScheduleUpdate:O=>{a==="current"?n(O):a==="next"?s(O):d(j=>({...j,[a]:O}))}}):I==="partner"?u.jsx(Qve,{schedule:Ut(),names:m,displayDates:Eo(),selectedEmployee:N,selectedMonth:a}):u.jsx(Nve,{schedule:Ut(),names:m,displayDates:Eo(),filteredEmployees:ta(),selectedShifts:de})})]}),t==="transport"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>Y("chart"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${$==="chart"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"乘車表"}),u.jsx("button",{onClick:()=>Y("fare"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${$==="fare"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"車費試算"})]})}),$==="chart"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-yellow-300 group-hover:text-yellow-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-yellow-400/50 focus:bg-white/20 focus:ring-2 focus:ring-yellow-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Wg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-yellow-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-orange-300 group-hover:text-orange-200 transition-colors",children:"匯出"}),u.jsxs("button",{onClick:()=>Io(),className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 hover:from-blue-500/30 hover:to-purple-500/30 border border-blue-400/30 text-blue-300 rounded-xl transition-all duration-200 font-medium",children:[u.jsx(ng,{className:"w-4 h-4 inline mr-2"}),"匯出乘車表"]})]})]})}),u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[u.jsx("h3",{className:"text-lg font-bold text-green-300",children:"乘車文字生成"}),u.jsxs("div",{className:"text-sm text-gray-400",children:["更新時間: ",A[a]?new Date(A[a]).toLocaleString():"無資料"]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex space-x-2 mb-4",children:[u.jsx("button",{onClick:()=>ar(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Me?"bg-white/10 text-gray-300 hover:bg-white/20":"bg-green-500/20 text-green-300 border border-green-400/30"}`,children:"週次選擇"}),u.jsx("button",{onClick:()=>ar(!0),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Me?"bg-green-500/20 text-green-300 border border-green-400/30":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"指定日期範圍"})]}),!Me&&u.jsxs("div",{className:"flex space-x-3",children:[u.jsx("select",{value:oe,onChange:O=>Ce(O.target.value),className:"flex-1 px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-green-400/50 focus:bg-white/20 focus:ring-2 focus:ring-green-400/20 transition-all duration-200 appearance-none cursor-pointer",children:hy()}),u.jsxs("button",{onClick:()=>xh(),className:"px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium whitespace-nowrap",children:[u.jsx(Sb,{className:"w-4 h-4 inline mr-2"}),"生成"]})]}),Me&&u.jsxs("div",{className:"space-y-4",children:[u.jsx(yre,{startDate:be.startDate,endDate:be.endDate,onStartDateSelect:O=>Qe(j=>({...j,startDate:O})),onEndDateSelect:O=>Qe(j=>({...j,endDate:O}))}),u.jsxs("button",{onClick:()=>xh(),className:"w-full px-6 py-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 hover:from-green-500/30 hover:to-teal-500/30 border border-green-400/30 text-green-300 rounded-xl transition-all duration-200 font-medium",children:[u.jsx(Sb,{className:"w-4 h-4 inline mr-2"}),"生成乘車文字"]})]})]})]})})]}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:u.jsx(Sve,{schedule:Ut(),names:m,pickupLocations:y})})]}),$==="fare"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Wg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:L||"",onChange:O=>Ee(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-blue-400/50 focus:bg-white/20 focus:ring-2 focus:ring-blue-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"請選擇同事"}),Object.keys(Ut()).filter(O=>O!=="_lastUpdated").sort((O,j)=>{var z,le;const X=parseInt(((z=O.match(/\d+/))==null?void 0:z[0])||"0"),ee=parseInt(((le=j.match(/\d+/))==null?void 0:le[0])||"0");return X-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:u.jsx(kve,{schedule:Ut(),names:m,pickupLocations:y,selectedEmployee:L,calculateFare:_o})})]})]}),t==="statistics"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300 group-hover:text-purple-200 transition-colors",children:"月份"}),u.jsxs("div",{className:"relative",children:[u.jsx("select",{value:a,onChange:O=>o(O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:Wg(f).map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-300 group-hover:text-blue-200 transition-colors",children:"統計類型"}),u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsx("button",{onClick:()=>R("charts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${V==="charts"?"bg-green-500/20 text-green-300 border border-green-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"圖表分析"}),u.jsx("button",{onClick:()=>R("overlap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${V==="overlap"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:"搭班統計表"})]})})]}),u.jsxs("div",{className:"group",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-300 group-hover:text-gray-200 transition-colors",children:"更新時間"}),u.jsx("div",{className:"px-4 py-3 bg-surface/30 rounded-xl border border-white/10",children:u.jsx("span",{className:"text-sm text-gray-300",children:A[a]?new Date(A[a]).toLocaleString():"無資料"})})]})]})}),V==="overlap"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-4 md:p-6 lg:p-8 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center justify-center mb-6 md:mb-8",children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 rounded-full bg-blue-500/20 border border-blue-400/30 flex items-center justify-center mr-2 md:mr-3",children:u.jsx("svg",{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-blue-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),u.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-blue-300",children:"搭班統計表"})]}),u.jsx(Tve,{schedule:Ut(),names:m,onEmployeeClick:ae,selectedMonth:a})]}),Z&&u.jsx(Fve,{employeeId:Z,employeeName:m[Z]||Z,ranking:my(Z),onClose:()=>ae(null)})]}),V==="charts"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-surface/60 rounded-2xl p-2 border border-white/20",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>M("monthly"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${q==="monthly"?"bg-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"本月分析"}),u.jsx("button",{onClick:()=>M("crossMonth"),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${q==="crossMonth"?"bg-purple-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"跨月平均分析"})]})}),q==="monthly"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(_re,{schedule:Ut(),names:m,employeeTags:v,loadingStates:LA,selectedEmployee:N,allSchedules:c,selectedMonth:a}),u.jsx(Ave,{schedule:Ut(),names:m,employeeTags:v,selectedMonth:a}),u.jsx(Uve,{schedule:Ut(),names:m,selectedMonth:a})]}),q==="crossMonth"&&u.jsx("div",{className:"space-y-6",children:u.jsx(xve,{allSchedules:c,names:m,employeeTags:v,availableMonths:f})}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-semibold mb-3 text-purple-300",children:"選擇同事"}),u.jsxs("div",{className:"relative",children:[u.jsxs("select",{value:ve||"",onChange:O=>xe(O.target.value||null),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:border-purple-400/50 focus:bg-white/20 focus:ring-2 focus:ring-purple-400/20 transition-all duration-200 appearance-none cursor-pointer",children:[u.jsx("option",{value:"",children:"請選擇一個同事查看個人統計"}),Object.keys(Ut()).filter(O=>O!=="_lastUpdated").sort((O,j)=>{var z,le;const X=parseInt(((z=O.match(/\d+/))==null?void 0:z[0])||"0"),ee=parseInt(((le=j.match(/\d+/))==null?void 0:le[0])||"0");return X-ee}).map(O=>u.jsx("option",{value:O,children:m[O]||O},O))]}),u.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:u.jsx("svg",{className:"w-4 h-4 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),u.jsx(Pve,{schedule:Ut(),names:m,selectedEmployee:ve,crossMonthStats:Co(ve),selectedMonth:a})]})]})]}),t==="import"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("div",{className:"bg-surface/40 rounded-xl p-1 border border-white/10 w-full max-w-2xl",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[u.jsxs("button",{onClick:()=>mh("import"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${bo==="import"?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-400 border border-green-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(ng,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"匯入班表"]}),u.jsxs("button",{onClick:()=>mh("manage"),className:`px-6 py-3 rounded-lg transition-all text-sm md:text-base ${bo==="manage"?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-400 border border-blue-400/30":"text-text-secondary hover:text-white hover:bg-white/5"}`,children:[u.jsx(_d,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"月份管理"]})]})})}),bo==="import"&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-green-300",children:"匯入班表"}),u.jsxs("div",{className:"mb-6 p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsxs("h4",{className:"text-lg font-semibold mb-3 text-blue-300",children:["班別代碼說明",Ze&&u.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["(",tx(Ze)===VH?"10月後新版本":"9月前舊版本",")"]})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:Object.entries(Ze?tx(Ze):Bve).map(([O,j])=>u.jsxs("div",{className:"flex items-center gap-2 p-2 bg-surface/20 rounded border border-white/10",children:[u.jsx("span",{className:"font-mono bg-white/10 px-2 py-1 rounded text-green-300 font-medium",children:O}),u.jsxs("span",{className:"text-gray-300 font-medium",children:["= ",j]})]},O))}),Ze&&u.jsx("div",{className:"mt-3 p-3 bg-blue-500/20 rounded border border-blue-400/30",children:u.jsxs("div",{className:"text-sm text-blue-200",children:[u.jsx("strong",{children:"版本切換說明："}),u.jsxs("ul",{className:"mt-1 space-y-1",children:[u.jsx("li",{children:"• 2024年9月及之前：使用舊版本代碼（SS = 特休）"}),u.jsx("li",{children:"• 2024年10月及之後：使用新版本代碼（SS = 中班，新增 J/JJ/X/XX/S/SSS 等）"})]})]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標月份"}),u.jsxs("select",{value:Ze,onChange:O=>or(O.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"",children:"請選擇月份"}),Cve().map(O=>u.jsx("option",{value:O.key,children:O.label},O.key))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"目標店別"}),u.jsxs("select",{value:Zi,onChange:O=>tu(O.target.value),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"central",children:"中央店"}),u.jsx("option",{value:"d7",children:"D7店"})]})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Excel 資料"}),u.jsx("textarea",{value:xo,onChange:O=>eu(O.target.value),placeholder:"從 Excel 複製資料並貼上這裡...",className:"w-full h-32 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-green-400/50 focus:bg-white/10 resize-none"})]}),VA&&u.jsx("div",{className:"mt-6 p-4 bg-red-600/20 border border-red-500/30 rounded-xl text-red-300 font-medium",children:VA}),u.jsxs("div",{className:"mt-4 flex gap-3",children:[u.jsx("button",{onClick:ts,className:"px-6 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all font-medium",children:"解析資料"}),ea&&u.jsx("button",{onClick:yh,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all font-medium",children:"上傳班表"})]}),ea&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"預覽表格"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-blue-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"職員編號"}),u.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),Array.from({length:31},(O,j)=>u.jsx("th",{className:"text-center p-3 text-green-300 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:j+1},j))]})}),u.jsx("tbody",{children:Object.entries(ea).sort(([O],[j])=>{var z,le;const X=parseInt(((z=O.match(/\d+/))==null?void 0:z[0])||"0"),ee=parseInt(((le=j.match(/\d+/))==null?void 0:le[0])||"0");return X-ee}).map(([O,j])=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-gray-400 font-medium",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:O}),u.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:j.name}),j.schedule.map((X,ee)=>u.jsx("td",{className:"p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:X?u.jsx("div",{className:`
                                  px-3 py-2 rounded-lg text-center text-xs font-bold
                                  ${X==="早"?"bg-pink-500 text-white":X==="中"?"bg-cyan-500 text-white":X==="晚"?"bg-blue-500 text-white":X==="休"?"bg-gray-500 text-white":X==="特"?"bg-orange-500 text-white":X==="排"?"bg-yellow-500 text-white":"bg-gray-700 text-gray-300"}
                                `,children:X}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},ee))]},O))})]})})]}),bo==="manage"&&u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"月份管理"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-cyan-300",children:"已儲存的月份"}),f.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(O=>u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10 hover:border-white/20 transition-all",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h5",{className:"text-white font-semibold",children:O.label}),u.jsx("span",{className:"text-xs text-gray-400",children:O.lastUpdated?new Date(O.lastUpdated).toLocaleDateString():"未知"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{o(O.key),e("display")},className:"px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded text-sm transition-all",children:"查看"}),u.jsx("button",{onClick:()=>{o(O.key),e("statistics")},className:"px-3 py-1 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-400/30 text-purple-300 rounded text-sm transition-all",children:"分析"})]})]},O.key))}):u.jsx("div",{className:"text-center py-8 text-gray-400",children:"尚未儲存任何月份資料"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-300",children:"快速操作"}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsxs("button",{onClick:$A,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(RT,{className:"w-4 h-4"}),"重新載入資料"]}),u.jsxs("button",{onClick:()=>{o("current"),e("display")},className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(_d,{className:"w-4 h-4"}),"回到當月"]})]})]})]})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"同事基本資料管理"}),u.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[u.jsxs("button",{onClick:GA,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(RT,{className:"w-4 h-4"}),"從 Firebase 讀取資料"]}),u.jsxs("button",{onClick:dy,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(ng,{className:"w-4 h-4"}),"儲存姓名與上車地點"]}),u.jsxs("button",{onClick:fy,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(ls,{className:"w-4 h-4"}),"清空所有資料"]})]}),u.jsxs("div",{className:"bg-surface/20 rounded-lg p-4 mb-6 border border-white/5",children:[u.jsx("h4",{className:"text-lg font-semibold mb-4 text-orange-400",children:"新增同事"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"職員編號"}),u.jsx("input",{type:"text",value:Rn.id,onChange:O=>es(j=>({...j,id:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"例如：A45"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"姓名"}),u.jsx("input",{type:"text",value:Rn.name,onChange:O=>es(j=>({...j,name:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",placeholder:"輸入姓名"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"上車地點"}),u.jsx("select",{value:Rn.pickupLocation,onChange:O=>es(j=>({...j,pickupLocation:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:Oi.map(O=>u.jsx("option",{value:O,children:O},O))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"同事類型"}),u.jsxs("select",{value:Rn.tag,onChange:O=>es(j=>({...j,tag:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"regular",children:"一般同事"}),u.jsx("option",{value:"support",children:"支援同事"}),u.jsx("option",{value:"excluded",children:"排除統計"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"店別"}),u.jsxs("select",{value:Rn.store,onChange:O=>es(j=>({...j,store:O.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-orange-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"central",children:"中央店"}),u.jsx("option",{value:"d7",children:"D7店"})]})]})]}),u.jsxs("button",{onClick:ru,className:"mt-4 px-6 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 text-orange-400 rounded-lg transition-all flex items-center gap-2",children:[u.jsx(As,{className:"w-4 h-4"}),"新增同事"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/10",children:[u.jsx("th",{className:"text-left p-2 text-blue-400",children:"職員編號"}),u.jsx("th",{className:"text-left p-2 text-purple-400",children:"姓名"}),u.jsx("th",{className:"text-left p-2 text-green-400",children:"上車地點"}),u.jsx("th",{className:"text-left p-2 text-yellow-400",children:"類型"}),u.jsx("th",{className:"text-left p-2 text-cyan-400",children:"店別"}),u.jsx("th",{className:"text-center p-2 text-red-400",children:"操作"})]})}),u.jsx("tbody",{children:Object.keys(m).sort((O,j)=>{const X=parseInt(O.replace(/\D/g,""))||0,ee=parseInt(j.replace(/\D/g,""))||0;return X-ee}).map(O=>u.jsxs("tr",{className:"border-b border-white/5",children:[u.jsx("td",{className:"p-2 text-text-secondary",children:O}),u.jsx("td",{className:"p-2",children:u.jsx("input",{type:"text",value:m[O]||"",onChange:j=>vh(O,j.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-purple-400/50 focus:bg-white/10"})}),u.jsx("td",{className:"p-2",children:u.jsx("select",{value:y[O]||Oi[0],onChange:j=>iu(O,j.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-green-400/50 focus:bg-white/10",children:Oi.map(j=>u.jsx("option",{value:j,children:j},j))})}),u.jsx("td",{className:"p-2",children:u.jsxs("select",{value:v[O]||"regular",onChange:j=>Bo(O,j.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-yellow-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"regular",children:"一般同事"}),u.jsx("option",{value:"support",children:"支援同事"}),u.jsx("option",{value:"excluded",children:"排除統計"})]})}),u.jsx("td",{className:"p-2",children:u.jsxs("select",{value:S[O]||"central",onChange:j=>nu(O,j.target.value),className:"w-full px-2 py-1 bg-white/5 border border-white/10 rounded focus:border-cyan-400/50 focus:bg-white/10",children:[u.jsx("option",{value:"central",children:"中央店"}),u.jsx("option",{value:"d7",children:"D7店"})]})}),u.jsx("td",{className:"p-2 text-center",children:u.jsx("button",{onClick:()=>ph(O),className:"px-3 py-1 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-400 rounded transition-all",children:u.jsx(ls,{className:"w-4 h-4"})})})]},O))})]})})]})]})]})}function _ve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i,selectedMonth:s,onScheduleUpdate:a,employeeTags:o={}}){const[A,l]=b.useState(!1),[c,d]=b.useState({}),[f,g]=b.useState(!1),m=[{value:"",label:"空白"},{value:"早",label:"早班"},{value:"中",label:"中班"},{value:"午",label:"午班"},{value:"晚",label:"晚班"},{value:"休",label:"休假"},{value:"特",label:"特休"},{value:"D7",label:"D7"},{value:"高鐵",label:"高鐵"},{value:"中央店",label:"中央店"}],p=()=>{d({...t}),l(!0)},y=()=>{d({}),l(!1)},w=(I,C,E)=>{d(F=>({...F,[I]:{...F[I],[C]:E}}))},v=async()=>{if(!s){alert("請選擇要儲存的月份");return}g(!0);try{const I={...c,_lastUpdated:new Date().toISOString()},{setDoc:C,doc:E}=await Cn(async()=>{const{setDoc:N,doc:k}=await Promise.resolve().then(()=>Kl);return{setDoc:N,doc:k}},void 0),{db:F}=await Cn(async()=>{const{db:N}=await Promise.resolve().then(()=>pD);return{db:N}},void 0);await C(E(F,"schedule",s),I),a&&a(I),l(!1),d({}),alert("班表已儲存")}catch(I){console.error("儲存班表失敗:",I),alert("儲存失敗，請稍後再試")}finally{g(!1)}},x=()=>A?c:t,S=(I,C)=>C&&((o[I]||"regular")==="support"&&C==="休"?"":C),T=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"午":return"bg-green-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";case"D7":return"bg-purple-500 text-white";case"高鐵":return"bg-indigo-500 text-white";default:return"bg-gray-700 text-gray-300"}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white",children:["班表管理",A&&u.jsx("span",{className:"text-yellow-400 text-sm ml-2",children:"(編輯模式)"})]}),u.jsx("div",{className:"flex items-center gap-2",children:A?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v,disabled:f,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f?"儲存中...":"儲存"]}),u.jsxs("button",{onClick:y,disabled:f,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]}):u.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"編輯"]})})]}),u.jsx("div",{className:"overflow-x-auto -mx-4 md:mx-0",children:u.jsx("div",{className:"bg-surface/60 rounded-xl shadow-xl border border-white/20 backdrop-blur-sm min-w-full",children:u.jsx("div",{className:"w-full",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-xs md:text-sm",style:{borderCollapse:"collapse",borderSpacing:0,border:"none"},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-center p-2 md:p-3 text-purple-300 font-semibold sticky left-0 z-10 bg-surface/95",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:"姓名"}),r.map(I=>{const C=I===new Date().getDate();return u.jsxs("th",{className:`text-center p-1 md:p-3 font-medium relative ${C?"text-primary":"text-green-300"}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},title:C?"今天":void 0,"data-today":C?"true":void 0,children:[u.jsx("div",{className:`relative text-xs font-semibold inline-flex items-center justify-center w-7 h-7 rounded ${C?"bg-primary/20 ring-2 ring-primary":""}`,children:I}),u.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),I).getDay()]})]},I)})]})}),u.jsx("tbody",{children:n.map((I,C)=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200 group","data-employee-id":I,"data-row-index":C,children:[u.jsx("td",{className:"p-2 md:p-3 text-white font-semibold text-xs md:text-sm sticky left-0 z-10 bg-surface/95 group-hover:bg-surface/100 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:u.jsx("span",{className:"group-hover:text-primary transition-colors",children:e[I]||I})}),r.map(E=>{var P;const N=(P=x()[I])==null?void 0:P[E],k=S(I,N),Q=E===new Date().getDate();return i&&i.length>0&&(!N||!i.includes(N))?u.jsx("td",{className:"p-1 md:p-2 text-center",style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:u.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${Q?"bg-primary/5 border-primary/30":"bg-surface/10 border-white/5"} opacity-50`})},E):u.jsx("td",{className:`p-1 md:p-2 text-center ${Q?"bg-primary/5":""}`,style:{border:"none !important",borderRight:"none !important",borderLeft:"none !important",borderTop:"none !important",borderBottom:"none !important"},children:A?u.jsx("select",{value:k||"",onChange:oe=>w(I,E,oe.target.value),className:`w-full h-6 md:h-8 px-1 py-0.5 rounded-lg text-center text-xs font-bold bg-white/10 text-white focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${T(k)}`,children:m.map(oe=>u.jsx("option",{value:oe.value,className:"bg-gray-800 text-white",children:oe.label},oe.value))}):k?u.jsx("div",{className:`
                              px-2 py-1 md:px-3 md:py-2 rounded-lg text-center text-xs font-bold
                              ${Q?"ring-2 ring-primary/50 ":""}${T(k)}
                            `,children:k}):u.jsx("div",{className:`w-full h-6 md:h-8 rounded-lg border ${Q?"bg-primary/5 border-primary/30":"bg-surface/20 border-white/10"}`})},E)})]},I))})]})})})})})]})}function Ive({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i,selectedMonth:s,onScheduleUpdate:a,employeeTags:o={}}){const[A,l]=b.useState(!1),[c,d]=b.useState({}),[f,g]=b.useState(!1),m=[{value:"",label:"空白"},{value:"早",label:"早班"},{value:"中",label:"中班"},{value:"午",label:"午班"},{value:"晚",label:"晚班"},{value:"休",label:"休假"},{value:"特",label:"特休"},{value:"D7",label:"D7"},{value:"高鐵",label:"高鐵"},{value:"中央店",label:"中央店"}],p=()=>{d({...t}),l(!0)},y=()=>{d({}),l(!1)},w=(I,C,E)=>{d(F=>({...F,[I]:{...F[I],[C]:E}}))},v=async()=>{if(!s){alert("請選擇要儲存的月份");return}g(!0);try{const I={...c,_lastUpdated:new Date().toISOString()},{setDoc:C,doc:E}=await Cn(async()=>{const{setDoc:N,doc:k}=await Promise.resolve().then(()=>Kl);return{setDoc:N,doc:k}},void 0),{db:F}=await Cn(async()=>{const{db:N}=await Promise.resolve().then(()=>pD);return{db:N}},void 0);await C(E(F,"schedule",s),I),a&&a(I),l(!1),d({}),alert("班表已儲存")}catch(I){console.error("儲存班表失敗:",I),alert("儲存失敗，請稍後再試")}finally{g(!1)}},x=()=>A?c:t,S=(I,C)=>C&&((o[I]||"regular")==="support"&&C==="休"?"":C),T=I=>{switch(I){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"午":return"bg-green-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";case"D7":return"bg-purple-500 text-white";case"高鐵":return"bg-indigo-500 text-white";default:return"bg-gray-700 text-gray-300"}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h3",{className:"text-lg font-semibold text-white",children:["同事班表",A&&u.jsx("span",{className:"text-yellow-400 text-sm ml-2",children:"(編輯模式)"})]}),u.jsx("div",{className:"flex items-center gap-2",children:A?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:v,disabled:f,className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 text-green-300 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),f?"儲存中...":"儲存"]}),u.jsxs("button",{onClick:y,disabled:f,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 text-red-300 rounded-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]}):u.jsxs("button",{onClick:p,className:"px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-300 rounded-lg transition-all flex items-center gap-2",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"編輯"]})})]}),u.jsx("div",{className:"space-y-6",children:n.map(I=>u.jsxs("div",{className:"bg-surface/60 rounded-xl p-6 border border-white/20 shadow-xl backdrop-blur-sm hover:shadow-2xl transition-all duration-300",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold text-white mb-1",children:e[I]||I}),u.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",I]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-3",children:r.map(C=>{var k;const F=(k=x()[I])==null?void 0:k[C],N=S(I,F);return i&&i.length>0&&(!F||!i.includes(F))?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:C}),u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/10 border border-white/5 opacity-50"})]},C):u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2 font-medium",children:C}),A?u.jsx("select",{value:N||"",onChange:Q=>w(I,C,Q.target.value),className:`w-full h-8 px-2 py-1 rounded-lg text-center text-xs font-bold bg-white/10 text-white focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-blue-400/50 ${T(N)}`,children:m.map(Q=>u.jsx("option",{value:Q.value,className:"bg-gray-800 text-white",children:Q.label},Q.value))}):N?u.jsx("div",{className:`
                      px-3 py-2 rounded-lg text-center text-xs font-bold
                      transition-all duration-200 hover:shadow-lg hover:scale-105
                      ${T(N)}
                    `,children:N}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})]},C)})})]},I))})]})}function Sve({schedule:t,names:e,pickupLocations:r}){const n=()=>{const o=new Date,A=o.getFullYear(),l=o.getMonth()+1;return new Date(A,l,0).getDate()},s=(()=>{const o=n(),A={};for(let l=1;l<=o;l++)A[l]={},Oi.forEach(c=>{A[l][c]=0});return Object.keys(t).forEach(l=>{var d;if(l==="_lastUpdated")return;const c=r[l];if(!(!c||c==="不搭車"))for(let f=1;f<=o;f++)((d=t[l])==null?void 0:d[f])==="早"&&A[f][c]++}),A})(),a=n();return u.jsxs("div",{id:"transport-chart",className:"bg-surface/60 rounded-xl p-6 border border-white/20",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-yellow-300 text-center",children:"當月乘車統計表"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-yellow-300 font-semibold",style:{border:"none !important"},children:"上車地點"}),Array.from({length:a},(o,A)=>A+1).map(o=>u.jsxs("th",{className:"text-center p-2 text-green-300 font-medium",style:{border:"none !important"},children:[u.jsx("div",{className:"text-xs font-semibold",children:o}),u.jsx("div",{className:"text-xs text-gray-400",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),o).getDay()]})]},o))]})}),u.jsx("tbody",{children:Oi.filter(o=>o!=="不搭車").map(o=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-white font-semibold",style:{border:"none !important"},children:o}),Array.from({length:a},(A,l)=>l+1).map(A=>{var c;const l=((c=s[A])==null?void 0:c[o])||0;return u.jsx("td",{className:"p-2 text-center",style:{border:"none !important"},children:l>0?u.jsx("div",{className:"px-3 py-2 rounded-lg text-center text-xs font-bold bg-yellow-500/20 border border-yellow-400/30 text-yellow-300",children:l}):u.jsx("div",{className:"w-full h-8 rounded-lg bg-surface/20 border border-white/10"})},A)})]},o))})]})})]})}function Tve({schedule:t,names:e,onEmployeeClick:r,selectedMonth:n}){const i=f=>{if(!f){const y=new Date,w=y.getFullYear(),v=y.getMonth()+1;return w>2025||w===2025&&v>=10}let g=f;f.includes("_")&&(g=f.split("_")[0]);const[m,p]=g.split("-").map(Number);return m>2025||m===2025&&p>=10},s=()=>{const f={},g={};Object.keys(t).forEach(p=>{p!=="_lastUpdated"&&(f[p]={},g[p]={})});const m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let p=1;p<=m;p++){const y={};Object.keys(t).forEach(v=>{var S;if(v==="_lastUpdated")return;const x=(S=t[v])==null?void 0:S[p];x&&x!=="休"&&x!=="D7"&&x!=="高鐵"&&(y[x]||(y[x]=[]),y[x].push(v))}),Object.keys(y).forEach(v=>{const x=y[v];for(let S=0;S<x.length;S++)for(let T=S+1;T<x.length;T++){const I=x[S],C=x[T];f[I][C]||(f[I][C]=0),f[C][I]||(f[C][I]=0),g[I][C]||(g[I][C]=[]),g[C][I]||(g[C][I]=[]),f[I][C]++,f[C][I]++,g[I][C].push({day:p,shift:v}),g[C][I].push({day:p,shift:v})}}),i(n)?(y.早&&(y.中&&y.早.forEach(v=>{y.中.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"早-中"}),g[x][v].push({day:p,shift:"中-早"})})}),y.午&&y.早.forEach(v=>{y.午.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"早-午"}),g[x][v].push({day:p,shift:"午-早"})})})),y.中&&y.午&&y.中.forEach(v=>{y.午.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"中-午"}),g[x][v].push({day:p,shift:"午-中"})})}),y.午&&y.晚&&y.午.forEach(v=>{y.晚.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"午-晚"}),g[x][v].push({day:p,shift:"晚-午"})})})):(y.早&&y.中&&y.早.forEach(v=>{y.中.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"早-中"}),g[x][v].push({day:p,shift:"中-早"})})}),y.中&&y.晚&&y.中.forEach(v=>{y.晚.forEach(x=>{f[v][x]||(f[v][x]=0),f[x][v]||(f[x][v]=0),g[v][x]||(g[v][x]=[]),g[x][v]||(g[x][v]=[]),f[v][x]++,f[x][v]++,g[v][x].push({day:p,shift:"中-晚"}),g[x][v].push({day:p,shift:"晚-中"})})}))}return{overlapStats:f,overlapDetails:g}},{overlapStats:a,overlapDetails:o}=s(),A=Object.keys(t).filter(f=>f!=="_lastUpdated").sort((f,g)=>{var y,w;const m=parseInt(((y=f.match(/\d+/))==null?void 0:y[0])||"0"),p=parseInt(((w=g.match(/\d+/))==null?void 0:w[0])||"0");return m-p}),c=(()=>{let f=0,g=0,m=0;return A.forEach(p=>{A.forEach(y=>{var w;if(p!==y){const v=((w=a[p])==null?void 0:w[y])||0;v>0&&(f+=v,g=Math.max(g,v),m++)}})}),{totalOverlaps:f,maxOverlap:g,averageOverlap:m>0?(f/m).toFixed(1):0,totalPairs:m}})(),d=(f,g)=>{if(f===0)return"bg-surface/20 border-white/10 text-gray-400";const m=Math.min(f/g,1);return m>.7?"bg-purple-500/40 border-purple-400/50 text-purple-200":m>.4?"bg-purple-500/30 border-purple-400/40 text-purple-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"};return u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-purple-300 text-center",children:"搭班統計表"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-surface/40 border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-purple-300 font-semibold",style:{border:"none !important"},children:"同事"}),A.map(f=>u.jsx("th",{className:"text-center p-3 text-purple-300 font-medium",style:{border:"none !important"},children:e[f]||f},f))]})}),u.jsx("tbody",{children:A.map(f=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-all duration-200",children:[u.jsx("td",{className:"p-3 text-white font-semibold cursor-pointer hover:text-purple-300 transition-colors",style:{border:"none !important"},onClick:()=>r(f),children:e[f]||f}),A.map(g=>{var p;const m=((p=a[f])==null?void 0:p[g])||0;return u.jsx("td",{className:"p-3 text-center",style:{border:"none !important"},children:f===g?u.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/20 border border-white/10 flex items-center justify-center text-gray-400",children:"-"}):m>0?u.jsx("div",{className:`px-3 py-2 rounded-lg text-center text-xs font-bold border cursor-pointer hover:scale-105 transition-all ${d(m,c.maxOverlap)}`,title:`${e[f]||f} 與 ${e[g]||g} 搭班 ${m} 次`,children:m}):u.jsx("div",{className:"w-8 h-8 rounded-lg bg-surface/10 border border-white/5 flex items-center justify-center text-gray-500 opacity-50",children:"-"})},g)})]},f))})]})})]})}function Fve({employeeId:t,employeeName:e,ranking:r,onClose:n}){const[i,s]=b.useState(null),o=(()=>{const A=r.reduce((d,f)=>d+f.count,0),l=r.length>0?(A/r.length).toFixed(1):0,c=r.length>0?r[0].count:0;return{totalOverlaps:A,avgOverlaps:l,maxOverlaps:c}})();return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-surface/95 rounded-2xl p-8 border border-white/20 shadow-2xl max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-purple-300",children:[e," 的搭班詳情"]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-surface/30 rounded-lg text-gray-300 hover:text-white transition-all duration-200",children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-purple-300",children:o.totalOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"總搭班次數"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-300",children:o.avgOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"平均搭班次數"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-lg p-4 border border-white/10",children:[u.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.maxOverlaps}),u.jsx("div",{className:"text-sm text-gray-400",children:"最高搭班次數"})]})]}),r.length>0?u.jsxs("div",{className:"space-y-3",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"搭班排行"}),r.map((A,l)=>u.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border cursor-pointer transition-all hover:scale-105 ${i===A.employeeId?"bg-purple-500/30 border-purple-400/50":"bg-surface/20 border-white/10 hover:bg-surface/30"}`,onClick:()=>s(i===A.employeeId?null:A.employeeId),children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:`w-8 h-8 rounded-full border flex items-center justify-center font-bold text-sm ${l===0?"bg-yellow-500/20 border-yellow-400/30 text-yellow-300":l===1?"bg-gray-500/20 border-gray-400/30 text-gray-300":l===2?"bg-orange-500/20 border-orange-400/30 text-orange-300":"bg-purple-500/20 border-purple-400/30 text-purple-300"}`,children:l+1}),u.jsx("div",{children:u.jsx("span",{className:"text-white font-medium",children:A.name})})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-purple-300 font-bold",children:[A.count," 次"]}),u.jsxs("div",{className:"text-xs text-gray-400",children:[(A.count/o.totalOverlaps*100).toFixed(1),"%"]})]})]},A.employeeId))]}):u.jsx("div",{className:"text-center py-8 text-gray-400",children:"本月無搭班記錄"})]})})}function Nve({schedule:t,names:e,displayDates:r,filteredEmployees:n,selectedShifts:i}){const s=a=>{switch(a){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"3D 班表視圖"}),u.jsx("p",{className:"text-gray-400",children:"立體展示班次安排"})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:n.map(a=>u.jsx("div",{className:"group perspective-1000",children:u.jsx("div",{className:"relative transform-style-preserve-3d transition-all duration-500 group-hover:rotate-y-12",children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/80 to-surface/60 rounded-2xl p-6 border border-white/20 shadow-2xl backdrop-blur-sm transform-style-preserve-3d",children:[u.jsxs("div",{className:"transform-style-preserve-3d",children:[u.jsxs("div",{className:"mb-6 text-center",children:[u.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:e[a]||a}),u.jsxs("p",{className:"text-sm text-gray-400",children:["職員編號：",a]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-2",children:r.map((o,A)=>{var c;const l=(c=t[a])==null?void 0:c[o];return i&&i.length>0&&(!l||!i.includes(l))?u.jsxs("div",{className:"relative group/item",children:[u.jsx("div",{className:"w-full h-16 rounded-lg bg-surface/10 border border-white/5 opacity-50 transform transition-all duration-300 group-hover/item:scale-110 group-hover/item:rotate-y-6"}),u.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-xs text-gray-500",children:u.jsx("span",{children:o})})]},o):u.jsx("div",{className:"relative group/item",children:u.jsx("div",{className:`
                            w-full h-16 rounded-lg text-center text-xs font-bold
                            transform transition-all duration-300 
                            group-hover/item:scale-110 group-hover/item:rotate-y-6 group-hover/item:shadow-xl
                            ${l?s(l):"bg-surface/20 border border-white/10"}
                          `,children:u.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[u.jsx("span",{className:"text-xs opacity-75",children:o}),u.jsx("span",{className:"font-bold",children:l||""})]})})},o)})})]}),u.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})})},a))})]})}function Uve({schedule:t,names:e,selectedMonth:r}){let n,i,s,a;if(!r||r==="current"){const l=new Date;i=l.getFullYear(),s=l.getMonth()+1,n=new Date(i,s,0).getDate()}else if(r==="next"){const l=new Date;l.setMonth(l.getMonth()+1),i=l.getFullYear(),s=l.getMonth()+1,n=new Date(i,s,0).getDate()}else{let l=r;r.includes("_")&&(l=r.split("_")[0]);const[c,d]=l.split("-").map(Number);i=c,s=d,n=new Date(c,d,0).getDate()}a=i>2025||i===2025&&s>=10;const A=(()=>{const l={};let c={early:0,middle:0,afternoon:0,night:0,rest:0,special:0};Object.keys(t).forEach(g=>{var m;if(g!=="_lastUpdated")for(let p=1;p<=n;p++){const y=(m=t[g])==null?void 0:m[p];if(y)switch(y){case"早":c.early++;break;case"中":c.middle++;break;case"午":c.afternoon++;break;case"晚":c.night++;break;case"休":c.rest++;break;case"特":c.special++;break}}});const d=Object.keys(t).filter(g=>g!=="_lastUpdated").length,f={early:c.early/d,middle:c.middle/d,afternoon:c.afternoon/d,night:c.night/d,rest:c.rest/d,special:c.special/d};return Object.keys(t).forEach(g=>{var w;if(g==="_lastUpdated")return;const m=e[g]||g,p={early:0,middle:0,afternoon:0,night:0,rest:0,special:0};for(let v=1;v<=n;v++){const x=(w=t[g])==null?void 0:w[v];if(x)switch(x){case"早":p.early++;break;case"中":p.middle++;break;case"午":p.afternoon++;break;case"晚":p.night++;break;case"休":p.rest++;break;case"特":p.special++;break}}const y={name:m,earlyBias:f.early>0?((p.early-f.early)/f.early*100).toFixed(1):"0.0",middleBias:f.middle>0?((p.middle-f.middle)/f.middle*100).toFixed(1):"0.0",afternoonBias:f.afternoon>0?((p.afternoon-f.afternoon)/f.afternoon*100).toFixed(1):"0.0",nightBias:f.night>0?((p.night-f.night)/f.night*100).toFixed(1):"0.0",restBias:f.rest>0?((p.rest-f.rest)/f.rest*100).toFixed(1):"0.0",specialBias:f.special>0?((p.special-f.special)/f.special*100).toFixed(1):"0.0"};l[m]=y}),Object.values(l).sort((g,m)=>{var x,S;const p=Object.keys(e).find(T=>e[T]===g.name)||g.name,y=Object.keys(e).find(T=>e[T]===m.name)||m.name,w=parseInt(((x=p.match(/\d+/))==null?void 0:x[0])||"0"),v=parseInt(((S=y.match(/\d+/))==null?void 0:S[0])||"0");return w-v})})();return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-orange-300 text-center",children:"班次分配偏差度分析"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-white/20",children:[u.jsx("th",{className:"text-left p-3 text-white font-semibold",children:"同事"}),u.jsx("th",{className:"text-center p-3 text-pink-300 font-semibold",children:"早班偏差"}),u.jsx("th",{className:"text-center p-3 text-cyan-300 font-semibold",children:"中班偏差"}),a&&u.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"午班偏差"}),u.jsx("th",{className:"text-center p-3 text-blue-300 font-semibold",children:"晚班偏差"}),u.jsx("th",{className:"text-center p-3 text-gray-300 font-semibold",children:"休假偏差"}),u.jsx("th",{className:"text-center p-3 text-orange-300 font-semibold",children:"特休偏差"})]})}),u.jsx("tbody",{children:A.map((l,c)=>u.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[u.jsx("td",{className:"p-3 text-white font-medium",children:l.name}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.earlyBias)>0?"text-green-400":"text-red-400"}`,children:[l.earlyBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.middleBias)>0?"text-green-400":"text-red-400"}`,children:[l.middleBias,"%"]}),a&&u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.afternoonBias)>0?"text-green-400":"text-red-400"}`,children:[l.afternoonBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.nightBias)>0?"text-green-400":"text-red-400"}`,children:[l.nightBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.restBias)>0?"text-green-400":"text-red-400"}`,children:[l.restBias,"%"]}),u.jsxs("td",{className:`p-3 text-center font-bold ${parseFloat(l.specialBias)>0?"text-green-400":"text-red-400"}`,children:[l.specialBias,"%"]})]},c))})]})})]})}function Pve({schedule:t,names:e,selectedEmployee:r,crossMonthStats:n,selectedMonth:i}){if(!r)return u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300 text-center",children:"個人統計儀表板"}),u.jsx("p",{className:"text-center text-gray-400",children:"請選擇一個同事查看個人統計"})]});const a=b.useMemo(()=>{var p;if(!r||!t[r])return{name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0};const g={name:e[r]||r,early:0,middle:0,night:0,rest:0,special:0,total:0},m=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();for(let y=1;y<=m;y++){const w=(p=t[r])==null?void 0:p[y];if(w)switch(w){case"早":g.early++,g.total++;break;case"中":g.middle++,g.total++;break;case"晚":g.night++,g.total++;break;case"休":g.rest++;break;case"特":g.special++,g.total++;break}}return g},[r,t,e]),o=b.useMemo(()=>[{name:"早班",value:a.early,color:Vu.早},{name:"中班",value:a.middle,color:Vu.中},{name:"晚班",value:a.night,color:Vu.晚},{name:"休假",value:a.rest,color:Vu.休},{name:"特休",value:a.special,color:Vu.特}].filter(g=>g.value>0),[a]),A=b.useMemo(()=>{var w;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];let p=0,y=0;for(let v=1;v<=g;v++){const x=(w=t[r])==null?void 0:w[v];x&&x!=="休"?p++:(p>0&&(y++,m.push({period:`期間${y}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),p=0)}return p>0&&(y++,m.push({period:`期間${y}`,consecutiveDays:p,trend:p>=6?"高":p>=4?"中":"低"})),m},[r,t]);b.useMemo(()=>{var p,y;if(!r||!t[r])return[];const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let w=1;w<g;w++){const v=(p=t[r])==null?void 0:p[w],x=(y=t[r])==null?void 0:y[w+1];v&&x&&m.push({from:v,to:x,day:w})}return m},[r,t]);const l=()=>{var p;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m=[];for(let y=1;y<=g;y++){let w=0,v=0;for(let x=1;x<=y;x++){const S=(p=t[r])==null?void 0:p[x];S&&S!=="休"&&S!=="D7"&&S!=="高鐵"?w++:(w>0&&(w>=7?v=3:w>=5?v=2:v=1),w=0)}w>0&&(w>=7?v=3:w>=5?v=2:v=1),m.push({date:`${y}日`,consecutiveDays:w,riskLevel:v})}return m},c=()=>{var p,y;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let w=1;w<g;w++){const v=(p=t[r])==null?void 0:p[w],x=(y=t[r])==null?void 0:y[w+1];if(v&&x){const S=`${v}→${x}`;m[S]=(m[S]||0)+1}}return Object.entries(m).sort(([,w],[,v])=>v-w).slice(0,10).map(([w,v])=>({transition:w,value:v}))},d=()=>{var p,y;const g=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),m={};for(let w=1;w<g;w++){const v=(p=t[r])==null?void 0:p[w],x=(y=t[r])==null?void 0:y[w+1];if(v&&x){const S=`${v}→${x}`;if(!m[S]){const[T,I]=S.split("→");m[S]={from:T,to:I,count:0}}m[S].count++}}return Object.values(m).sort((w,v)=>v.count-w.count)},f=g=>{switch(g){case"早":return"#ec4899";case"中":return"#06b6d4";case"晚":return"#3b82f6";case"休":return"#6b7280";case"特":return"#f97316";default:return"#9ca3af"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[u.jsxs("div",{className:"text-center p-4 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-pink-300",children:a.early}),u.jsx("div",{className:"text-sm text-pink-200",children:"早班"})]}),u.jsxs("div",{className:"text-center p-4 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-cyan-300",children:a.middle}),u.jsx("div",{className:"text-sm text-cyan-200",children:"中班"})]}),u.jsxs("div",{className:"text-center p-4 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-300",children:a.night}),u.jsx("div",{className:"text-sm text-blue-200",children:"晚班"})]}),u.jsxs("div",{className:"text-center p-4 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-gray-300",children:a.rest}),u.jsx("div",{className:"text-sm text-gray-200",children:"休假"})]}),u.jsxs("div",{className:"text-center p-4 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[u.jsx("div",{className:"text-2xl font-bold text-orange-300",children:a.special}),u.jsx("div",{className:"text-sm text-orange-200",children:"特休"})]})]}),u.jsxs("div",{className:"text-center p-4 bg-surface/40 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"text-lg font-semibold text-white",children:["總工作天數：",a.total," 天"]}),u.jsxs("div",{className:"text-sm text-gray-400",children:["工作率：",(a.total/31*100).toFixed(1),"%"]})]}),n&&n.totalMonths>0&&u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-green-300 text-center",children:"跨月份平均值統計"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4",children:[u.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.totalMonths}),u.jsx("div",{className:"text-xs text-blue-200",children:"統計月份"})]}),(()=>{const g={early:a.early,middle:a.middle,night:a.night,rest:a.rest},m=(x,S)=>{const T=x-S;return{value:T,isPositive:T>0,isZero:T===0}},p=m(g.early,n.averageEarlyPerMonth),y=m(g.middle,n.averageMidPerMonth),w=m(g.night,n.averageNightPerMonth),v=m(g.rest,n.averageRestPerMonth);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-center p-3 bg-pink-500/20 rounded-lg border border-pink-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-pink-300",children:n.averageEarlyPerMonth}),u.jsx("div",{className:"text-xs text-pink-200",children:"平均早班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${p.isPositive?"text-green-400":p.isZero?"text-gray-400":"text-red-400"}`,children:[p.isPositive?"+":"",p.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-cyan-500/20 rounded-lg border border-cyan-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-cyan-300",children:n.averageMidPerMonth}),u.jsx("div",{className:"text-xs text-cyan-200",children:"平均中班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${y.isPositive?"text-green-400":y.isZero?"text-gray-400":"text-red-400"}`,children:[y.isPositive?"+":"",y.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-blue-300",children:n.averageNightPerMonth}),u.jsx("div",{className:"text-xs text-blue-200",children:"平均晚班/月"}),u.jsxs("div",{className:`text-xs mt-1 ${w.isPositive?"text-green-400":w.isZero?"text-gray-400":"text-red-400"}`,children:[w.isPositive?"+":"",w.value," vs 本月"]})]}),u.jsxs("div",{className:"text-center p-3 bg-gray-500/20 rounded-lg border border-gray-400/30",children:[u.jsx("div",{className:"text-lg font-bold text-gray-300",children:n.averageRestPerMonth}),u.jsx("div",{className:"text-xs text-gray-200",children:"平均休假/月"}),u.jsxs("div",{className:`text-xs mt-1 ${v.isPositive?"text-green-400":v.isZero?"text-gray-400":"text-red-400"}`,children:[v.isPositive?"+":"",v.value," vs 本月"]})]})]})})()]}),u.jsxs("div",{className:"text-center text-sm text-gray-400",children:["基於 ",n.totalMonths," 個月份的資料計算 | ",u.jsx("span",{className:"text-green-400",children:"綠色"})," = 高於平均值 | ",u.jsx("span",{className:"text-red-400",children:"紅色"})," = 低於平均值"]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次佔比"}),u.jsx(kl,{width:"100%",height:300,children:u.jsxs(ove,{children:[u.jsx(sH,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:m})=>`${g} ${(m*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:o.map((g,m)=>u.jsx(uh,{fill:g.color},`cell-${m}`))}),u.jsx(ld,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}})]})})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"每日班次分布"}),u.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["日","一","二","三","四","五","六"].map(g=>u.jsx("div",{className:"text-center text-sm font-semibold text-gray-400 py-2",children:g},g))}),u.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()},(g,m)=>u.jsx("div",{className:"h-8 bg-surface/20 rounded border border-white/5"},`empty-${m}`)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate()},(g,m)=>{var x;const p=m+1,y=(x=t[r])==null?void 0:x[p],w=S=>{switch(S){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-surface/20 text-gray-400 border border-white/10"}},v=S=>{switch(S){case"早":return"早班";case"中":return"中班";case"晚":return"晚班";case"休":return"休假";case"特":return"特休";default:return"無班次"}};return u.jsx("div",{className:`h-8 rounded border flex items-center justify-center text-xs font-bold transition-all hover:scale-110 cursor-pointer ${w(y)}`,title:`${p}日 - ${v(y)}`,children:p},p)})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-3 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"早班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"中班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"晚班"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"休假"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded"}),u.jsx("span",{className:"text-gray-300",children:"特休"})]})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-orange-300 text-center",children:"連續上班天數分析"}),u.jsx(kl,{width:"100%",height:300,children:u.jsxs(UP,{data:A,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(kd,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx(ql,{dataKey:"period",stroke:"#ffffff80"}),u.jsx(Jl,{stroke:"#ffffff80"}),u.jsx(ld,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m)=>[g,{highRisk:"高 (≥6天)",mediumRisk:"中 (4-5天)",lowRisk:"低 (1-3天)"}[m]||m]}),u.jsx(xf,{}),u.jsx(MB,{dataKey:"consecutiveDays",fill:"#f97316",name:"連續天數"})]})}),u.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[u.jsxs("div",{className:"flex items-center justify-center p-2 bg-red-500/20 rounded-lg border border-red-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),u.jsx("span",{className:"text-red-300",children:"高 (≥6天)"})]}),u.jsxs("div",{className:"flex items-center justify-center p-2 bg-orange-500/20 rounded-lg border border-orange-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),u.jsx("span",{className:"text-orange-300",children:"中 (4-5天)"})]}),u.jsxs("div",{className:"flex items-center justify-center p-2 bg-green-500/20 rounded-lg border border-green-400/30",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),u.jsx("span",{className:"text-green-300",children:"低 (1-3天)"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-blue-300 text-center",children:"連續上班頻率趨勢"}),u.jsx(kl,{width:"100%",height:300,children:u.jsxs(sI,{data:l(),margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(kd,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx(ql,{dataKey:"date",stroke:"#ffffff80"}),u.jsx(Jl,{stroke:"#ffffff80",domain:[0,6]}),u.jsx(ld,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"}}),u.jsx(xf,{}),u.jsx(Xn,{type:"monotone",dataKey:"consecutiveDays",stroke:"#8b5cf6",strokeWidth:3,name:"連續天數"}),u.jsx(Xn,{type:"monotone",dataKey:"riskLevel",stroke:"#ef4444",strokeWidth:2,name:"等級"})]})})]})]}),u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"bg-gradient-to-br from-surface/60 to-surface/40 rounded-2xl p-6 border border-white/20 shadow-xl backdrop-blur-sm",children:[u.jsx("h4",{className:"text-lg font-bold mb-4 text-purple-300 text-center",children:"班次轉換關係圖"}),u.jsx(kl,{width:"100%",height:300,children:u.jsxs(UP,{data:c(),margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(kd,{strokeDasharray:"3 3",stroke:"#ffffff20"}),u.jsx(ql,{dataKey:"transition",stroke:"#ffffff80"}),u.jsx(Jl,{stroke:"#ffffff80"}),u.jsx(ld,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#ffffff"},formatter:(g,m,p)=>[`${p.payload.transition}: ${g}次`,"轉換次數"]}),u.jsx(MB,{dataKey:"value",fill:"#8b5cf6"})]})}),u.jsx("div",{className:"mt-4 grid grid-cols-2 lg:grid-cols-4 gap-4",children:d().slice(0,8).map((g,m)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/20 rounded-lg border border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.from)},children:g.from}),u.jsx("span",{className:"text-gray-400",children:"→"}),u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-bold",style:{backgroundColor:f(g.to)},children:g.to})]}),u.jsx("div",{className:"text-purple-300 font-bold",children:g.count})]},m))})]})})]})}function kve({schedule:t,names:e,pickupLocations:r,selectedEmployee:n,calculateFare:i}){const[s,a]=b.useState(!1),[o,A]=b.useState(null);if(b.useEffect(()=>{n?(a(!0),setTimeout(()=>{const g=i(n);A(g),a(!1)},500)):A(null)},[n,i]),!n)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來計算車費"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"選擇同事後，將顯示該同事的車費分析"})]});if(s)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),u.jsx("div",{className:"text-gray-400 text-lg",children:"正在計算車費..."})]});if(!o)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"無法計算車費"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"該同事可能不搭車或沒有班表資料"})]});const l=[{name:"原價",cost:o.originalTotal,type:"original"},{name:"桃園市民卡 7折",cost:o.citizenCardTotal,type:"citizen"},...o.monthlyPassOptions.map(g=>({name:`${g.days}天定期票`,cost:g.averagePricePerMonth,type:"monthly",days:g.days,savings:g.savings,averagePricePerMonth:g.averagePricePerMonth,price:g.price,originalPrice:g.totalCost})),{name:"TPass 799",cost:o.tpassTotal,type:"tpass"}],d=((g,m)=>{const p={bestValue:null,mostFlexible:null,bestForFrequent:null,bestForOccasional:null};return p.bestValue=m.reduce((y,w)=>w.cost<y.cost?w:y),p.mostFlexible=m.find(y=>y.type==="original"||y.type==="citizen")||p.bestValue,g.totalTrips>20?p.bestForFrequent=m.find(y=>y.type==="tpass")||p.bestValue:g.totalTrips<10?p.bestForOccasional=m.find(y=>y.type==="original"||y.type==="citizen")||p.bestValue:(p.bestForFrequent=p.bestValue,p.bestForOccasional=p.bestValue),p})(o,l),f=d.bestValue;return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl p-6 border border-blue-400/30",children:[u.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-4",children:"車費試算結果"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:o.employeeName}),u.jsx("div",{className:"text-sm text-gray-400",children:"同事"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-green-300",children:o.location}),u.jsx("div",{className:"text-sm text-gray-400",children:"上車地點"})]}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[o.totalTrips," 次"]}),u.jsx("div",{className:"text-sm text-gray-400",children:"總搭乘次數"})]})]})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/20",children:[u.jsx("h4",{className:"text-lg font-semibold text-purple-300 mb-4",children:"車費方案比較"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:l.map((g,m)=>{var p,y,w;return u.jsxs("div",{className:`p-3 sm:p-4 rounded-lg border transition-all duration-300 relative transform hover:scale-105 hover:shadow-lg animate-fade-in-up ${g.cost===f.cost?"bg-green-500/20 border-green-400/50 text-green-300 ring-2 ring-green-400/30":"bg-surface/20 border-white/20 text-white hover:bg-surface/30"}`,style:{animationDelay:`${m*100}ms`,animationFillMode:"both"},children:[u.jsxs("div",{className:"absolute -top-2 -right-2 flex flex-col gap-1",children:[g.cost===f.cost&&u.jsx("div",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg animate-pulse",children:"🏆 最划算"}),g.cost===((p=d.mostFlexible)==null?void 0:p.cost)&&g.type!=="original"&&u.jsx("div",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"🎯 最靈活"}),g.cost===((y=d.bestForFrequent)==null?void 0:y.cost)&&o.totalTrips>20&&u.jsx("div",{className:"bg-purple-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"⚡ 常搭推薦"}),g.cost===((w=d.bestForOccasional)==null?void 0:w.cost)&&o.totalTrips<10&&u.jsx("div",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"💡 偶爾搭"})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.type==="original"&&u.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),g.type==="citizen"&&u.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V4a2 2 0 114 0v2m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})}),g.type==="monthly"&&u.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g.type==="tpass"&&u.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),u.jsx("span",{className:"font-semibold text-sm",children:g.name})]}),u.jsxs("div",{className:"text-xl sm:text-2xl font-bold mb-2 transition-all duration-300 animate-price-change",children:["$",g.cost]}),g.type==="monthly"&&u.jsx("div",{className:"text-xs text-gray-400 mb-1",children:u.jsxs("span",{className:"text-xs text-gray-500",children:["票券原價 $",g.originalPrice]})}),g.type==="tpass"&&u.jsx("div",{className:"text-xs text-gray-400",children:"A22-A7 坐到哭"})]},m)})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl p-6 border border-indigo-400/30",children:[u.jsx("h4",{className:"text-xl font-bold text-indigo-300 mb-6",children:"車費分析儀表板"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["$",Math.min(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最低費用"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["$",Math.max(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最高費用"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:["$",o.originalTotal-Math.min(...l.map(g=>g.cost))]}),u.jsx("div",{className:"text-sm text-gray-400",children:"最大節省"})]}),u.jsxs("div",{className:"bg-surface/30 p-4 rounded-lg text-center",children:[u.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.length}),u.jsx("div",{className:"text-sm text-gray-400",children:"方案數量"})]})]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 via-teal-500/5 to-cyan-500/10 rounded-xl p-6 border border-emerald-400/20 shadow-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[u.jsx("h5",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-emerald-300 to-teal-300 bg-clip-text text-transparent",children:"搭乘次數 vs 費用效益分析"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[u.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-emerald-400"}),u.jsx("span",{className:"hidden sm:inline",children:"即時分析"})]})]}),u.jsx(kl,{width:"100%",height:200,className:"sm:h-[250px]",children:u.jsxs(sI,{data:Array.from({length:40},(g,m)=>{const p=m+1,y=p*o.originalTotal/o.totalTrips,w=Math.ceil(y*.7),v=799,x=o.monthlyPassOptions.find(T=>T.days===120),S=x?x.averagePricePerMonth:486;return{trips:p,原價:Math.round(y),市民卡:w,TPass:v,"120天票":Math.round(S)}}),children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"originalGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"citizenGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"tpassGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:.1})]}),u.jsxs("linearGradient",{id:"monthlyGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),u.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),u.jsx(kd,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),u.jsx(ql,{dataKey:"trips",stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},interval:"preserveStartEnd",label:{value:"搭乘次數",position:"insideBottom",offset:-5,style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),u.jsx(Jl,{stroke:"#9ca3af",fontSize:10,className:"sm:text-xs",tickLine:!1,axisLine:{stroke:"#4b5563",strokeWidth:1},tickFormatter:g=>`$${g}`,width:50,label:{value:"費用",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fill:"#9ca3af",fontSize:"11px",fontWeight:"500"}}}),u.jsx(ld,{formatter:(g,m)=>[`$${g}`,m],labelFormatter:g=>`搭乘 ${g} 次`,contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"12px",color:"#fff",boxShadow:"0 10px 25px rgba(0,0,0,0.3)",padding:"12px"},cursor:{stroke:"#6b7280",strokeWidth:1,strokeDasharray:"3 3"}}),u.jsx(Xn,{type:"monotone",dataKey:"原價",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#ef4444",strokeWidth:1,fill:"#fff"}}),u.jsx(Xn,{type:"monotone",dataKey:"市民卡",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#3b82f6",strokeWidth:1,fill:"#fff"}}),u.jsx(Xn,{type:"monotone",dataKey:"TPass",stroke:"#f59e0b",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#f59e0b",strokeWidth:1,fill:"#fff"}}),u.jsx(Xn,{type:"monotone",dataKey:"120天票",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:4,stroke:"#10b981",strokeWidth:1,fill:"#fff"}})]})}),u.jsx("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-surface/20 rounded-lg border border-emerald-400/10",children:u.jsxs("div",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed",children:["此圖顯示不同搭乘次數下各方案的費用變化，幫助您了解在什麼情況下哪種方案最划算。",u.jsx("span",{className:"text-emerald-300 font-medium",children:"交叉點"}),"表示方案間的轉換時機。"]})})]})]})]})}function Qve({schedule:t,names:e,displayDates:r,selectedEmployee:n,selectedMonth:i}){const s=l=>{if(!l){const g=new Date,m=g.getFullYear(),p=g.getMonth()+1;return m>2025||m===2025&&p>=10}let c=l;l.includes("_")&&(c=l.split("_")[0]);const[d,f]=c.split("-").map(Number);return d>2025||d===2025&&f>=10};if(!n)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-gray-400 text-lg mb-4",children:"請選擇一位同事來查看搭班情況"}),u.jsx("div",{className:"text-gray-500 text-sm",children:"在左側選擇同事後，將顯示該同事每天的搭班同事"})]});const a=l=>{var g;const c=(g=t[n])==null?void 0:g[l];if(!c||c==="休")return[];if(c==="D7"||c==="高鐵")return[];const d=[];Object.keys(t).forEach(m=>{var y;if(m==="_lastUpdated"||m===n)return;const p=(y=t[m])==null?void 0:y[l];!p||p==="休"||p==="D7"||p==="高鐵"||(p===c?d.push({id:m,name:e[m]||m,shift:p,type:"同班"}):s(i)?(c==="早"&&(p==="中"||p==="午")||c==="中"&&(p==="早"||p==="午")||c==="午"&&(p==="早"||p==="中"||p==="晚")||c==="晚"&&p==="午")&&d.push({id:m,name:e[m]||m,shift:p,type:"跨班"}):(c==="早"&&p==="中"||c==="中"&&p==="晚"||c==="中"&&p==="早"||c==="晚"&&p==="中")&&d.push({id:m,name:e[m]||m,shift:p,type:"跨班"}))});const f={早:1,中:2,午:3,晚:4};return d.sort((m,p)=>{const y=f[m.shift]||999,w=f[p.shift]||999;return y-w}),d},o=l=>{switch(l){case"早":return"bg-pink-500 text-white";case"中":return"bg-cyan-500 text-white";case"晚":return"bg-blue-500 text-white";case"休":return"bg-gray-500 text-white";case"特":return"bg-orange-500 text-white";default:return"bg-gray-700 text-gray-300"}},A=l=>{switch(l){case"同班":return"bg-green-500/20 border-green-400/30 text-green-300";case"跨班":return"bg-purple-500/20 border-purple-400/30 text-purple-300";default:return"bg-gray-500/20 border-gray-400/30 text-gray-300"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl p-4 sm:p-6 border border-purple-400/30",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-purple-300 mb-2",children:"每日搭班視圖"}),u.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:u.jsxs("div",{className:"text-white font-semibold text-sm sm:text-base",children:["同事：",u.jsx("span",{className:"text-purple-300",children:e[n]||n})]})})]}),u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 gap-2 sm:gap-3 md:gap-4",children:r.map(l=>{var g;const c=l===new Date().getDate(),d=(g=t[n])==null?void 0:g[l],f=a(l);return u.jsxs("div",{className:`bg-surface/60 rounded-xl p-2 sm:p-3 md:p-4 border transition-all duration-200 ${c?"border-primary/50 bg-primary/10 ring-2 ring-primary/30":"border-white/20 hover:border-white/30"}`,children:[u.jsxs("div",{className:"text-center mb-2 sm:mb-3",children:[u.jsx("div",{className:`text-sm sm:text-base md:text-lg font-bold ${c?"text-primary":"text-white"}`,children:l}),u.jsx("div",{className:"text-xs text-gray-400 hidden sm:block",children:["日","一","二","三","四","五","六"][new Date(new Date().getFullYear(),new Date().getMonth(),l).getDay()]})]}),u.jsxs("div",{className:"mb-2 sm:mb-3",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"我的班次"}),d?u.jsx("div",{className:`px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm font-bold ${o(d)}`,children:d}):u.jsx("div",{className:"px-2 sm:px-3 py-1 sm:py-2 rounded-lg text-center text-xs sm:text-sm text-gray-400 bg-surface/20 border border-white/10",children:"無班次"})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-xs text-gray-400 mb-1 sm:mb-2",children:["搭班同事 (",f.length,")"]}),f.length>0?u.jsx("div",{className:"space-y-1 sm:space-y-2",children:f.map(m=>u.jsxs("div",{className:`p-1 sm:p-2 rounded-lg border text-xs ${A(m.type)}`,children:[u.jsx("div",{className:"font-medium mb-0.5 sm:mb-1 text-xs sm:text-xs truncate",children:m.name}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs opacity-80 hidden sm:inline",children:m.type}),u.jsx("div",{className:`px-1 sm:px-2 py-0.5 sm:py-1 rounded text-xs font-bold ${o(m.shift)}`,children:m.shift})]})]},m.id))}):u.jsx("div",{className:"text-xs text-gray-500 text-center py-1 sm:py-2",children:d&&d!=="休"?"無搭班同事":"休息日"})]})]},l)})})]})}function Ove(){const[t,e]=b.useState(""),[r,n]=b.useState(""),i=()=>{if(!t.trim()){n("請輸入測試資料");return}const s=t.trim().split(`
`);let a=`資料格式分析結果：

`;a+=`總行數: ${s.length}

`,s.forEach((o,A)=>{if(!o.trim()){a+=`第 ${A+1} 行: 空白行
`;return}a+=`第 ${A+1} 行: "${o}"
`;const l=o.split("	"),c=o.split(/\s+/);a+=`  Tab 分隔: ${l.length} 個欄位
`,a+=`  空格分隔: ${c.length} 個欄位
`,l.length>=2?(a+=`  職員編號: "${l[0].trim()}"
`,a+=`  姓名: "${l[1].trim()}"
`,a+=`  班表欄位數: ${l.length-2}
`):c.length>=2?(a+=`  職員編號: "${c[0].trim()}"
`,a+=`  姓名: "${c[1].trim()}"
`,a+=`  班表欄位數: ${c.length-2}
`):a+=`  ❌ 格式錯誤：欄位數不足
`,a+=`
`}),n(a)};return u.jsxs("div",{className:"container-custom py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"資料格式測試工具"}),u.jsx("p",{className:"text-center text-text-secondary",children:"檢查 Excel 資料格式是否正確"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-400",children:"輸入測試資料"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-semibold mb-2",children:"從 Excel 複製的資料"}),u.jsx("textarea",{value:t,onChange:s=>e(s.target.value),placeholder:"請從 Excel 複製資料並貼上這裡...",className:"w-full h-64 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:border-blue-400/50 focus:bg-white/10 resize-none"})]}),u.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500/20 hover:bg-blue-500/30 border border-blue-400/30 text-blue-400 rounded-lg transition-all",children:"分析資料格式"})]}),u.jsxs("div",{className:"bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"分析結果"}),u.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:u.jsx("pre",{className:"text-sm text-text-secondary whitespace-pre-wrap font-mono",children:r||"請輸入資料並點擊「分析資料格式」"})})]})]}),u.jsxs("div",{className:"mt-8 bg-surface/40 rounded-xl p-6 border border-white/10",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-400",children:"正確的資料格式"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-orange-400",children:"Excel 格式要求"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[u.jsx("li",{children:"第一欄：職員編號（如 A45、A51）"}),u.jsx("li",{children:"第二欄：姓名（如 林小余、黃紅葉）"}),u.jsx("li",{children:"第三欄開始：每日班表（如 K、Y、L、月休）"}),u.jsx("li",{children:"欄位之間用 Tab 鍵分隔"}),u.jsx("li",{children:"每行代表一位同仁的完整班表"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-green-400",children:"範例資料"}),u.jsx("div",{className:"bg-surface/20 rounded-lg p-4 border border-white/5",children:u.jsx("pre",{className:"text-sm text-text-secondary font-mono",children:`A45	林小余	K	K	Y	L	月休	Y
A51	黃紅葉	K	K	Y	L	K	Y
A60	李Ashley	Y	L	K	Y	L	K`})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-2 text-red-400",children:"常見問題"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-text-secondary",children:[u.jsx("li",{children:"複製時沒有包含 Tab 分隔符"}),u.jsx("li",{children:"職員編號或姓名為空"}),u.jsx("li",{children:"資料行數不足"}),u.jsx("li",{children:"包含多餘的空格或特殊字符"})]})]})]})]})]})}const jve=b.lazy(()=>Cn(()=>import("./CashierManagement-Dm1UGl-7.js"),[])),Dve=b.lazy(()=>Cn(()=>import("./AdminPanel-CWtfGfEz.js"),[]));function Rve(){const[t,e]=b.useState({checked:!1,connected:!1,error:null});return b.useEffect(()=>{(async()=>{try{const n=await gD();e({checked:!0,connected:n,error:n?null:"無法連接到 Firebase"})}catch(n){console.error("檢查 Firebase 連接時出錯:",n),e({checked:!0,connected:!1,error:n.message||"無法連接到 Firebase"})}})()},[]),u.jsx(jX,{children:u.jsx(P$,{children:u.jsxs(kX,{children:[t.checked&&!t.connected&&u.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4 m-4",children:[u.jsx("h3",{className:"text-amber-500 font-bold mb-2",children:"Firebase 連接警告"}),u.jsxs("p",{className:"text-sm text-text-secondary",children:["應用程序無法連接到 Firebase 服務。部分功能可能無法正常工作。",t.error&&u.jsxs("span",{className:"block mt-1",children:["錯誤: ",t.error]})]}),u.jsx("p",{className:"text-xs text-text-secondary mt-2",children:"您仍然可以使用應用程序，但數據將不會同步到雲端。"})]}),u.jsx(b.Suspense,{fallback:u.jsx(QX,{}),children:u.jsxs(E$,{children:[u.jsx(Hn,{path:"/",element:u.jsx(B$,{to:"/sandwich",replace:!0})}),u.jsx(Hn,{path:"/sandwich",element:u.jsx(VX,{})}),u.jsx(Hn,{path:"/cashier",element:u.jsx(jve,{})}),u.jsx(Hn,{path:"/alcohol",element:u.jsx(LX,{})}),u.jsx(Hn,{path:"/coffee-beans",element:u.jsx(KX,{})}),u.jsx(Hn,{path:"/daily-reports",element:u.jsx(WX,{})}),u.jsx(Hn,{path:"/schedule",element:u.jsx(Eve,{})}),u.jsx(Hn,{path:"/data-tester",element:u.jsx(Ove,{})}),u.jsx(Hn,{path:"/poursteady",element:u.jsx(RX,{})}),u.jsx(Hn,{path:"/admin",element:u.jsx(Dve,{})}),u.jsx(Hn,{path:"*",element:u.jsx(OX,{})})]})})]})})})}rx.createRoot(document.getElementById("root")).render(u.jsx(ii.StrictMode,{children:u.jsx(Rve,{})}));export{Nt as $,G as A,Xc as B,eye as C,x_ as D,Ve as E,ff as F,Mfe as G,ah as H,Bt as I,i3 as J,Vfe as K,E_ as L,iue as M,sue as N,o_ as O,a_ as P,Jve as Q,ii as R,qve as S,we as T,zs as U,U5 as V,zt as W,AE as X,oM as Y,Xi as Z,Cn as _,RT as a,ql as a$,tye as a0,rye as a1,Lr as a2,xn as a3,wn as a4,qf as a5,Xve as a6,cy as a7,nye as a8,iye as a9,l_ as aA,Dn as aB,tH as aC,nH as aD,Dse as aE,Gv as aF,ode as aG,q_ as aH,X_ as aI,jR as aJ,AH as aK,yN as aL,he as aM,TE as aN,xi as aO,Nn as aP,kn as aQ,ive as aR,O_ as aS,RH as aT,kl as aU,ove as aV,sH as aW,uh as aX,ld as aY,UP as aZ,kd as a_,fn as aa,ms as ab,W3 as ac,go as ad,wf as ae,z3 as af,e_ as ag,W_ as ah,Che as ai,dhe as aj,$_ as ak,Kc as al,it as am,Sfe as an,ht as ao,jA as ap,rge as aq,$a as ar,G_ as as,z_ as at,HF as au,iy as av,Zv as aw,io as ax,no as ay,UB as az,BD as b,Jl as b0,xf as b1,MB as b2,sI as b3,Xn as b4,jY as b5,LC as c,xD as d,kW as e,yc as f,sX as g,$n as h,_t as i,u as j,$o as k,Ko as l,zve as m,Wve as n,Yve as o,nX as p,L1 as q,b as r,us as s,mD as t,t4 as u,Gve as v,uf as w,QW as x,Ge as y,yt as z};
